(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{0:function(t,e,n){t.exports=n("zUnb")},"2QA8":function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));const r=(()=>"function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random())()},"2Vo4":function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n("XNiG"),i=n("9ppp");class o extends r.a{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return e&&!e.closed&&t.next(this._value),e}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new i.a;return this._value}next(t){super.next(this._value=t)}}},"2fFW":function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));let r=!1;const i={Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){if(t){const t=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+t.stack)}else r&&console.log("RxJS: Back to a better error behavior. Thank you. <3");r=t},get useDeprecatedSynchronousErrorHandling(){return r}}},"5+tZ":function(t,e,n){"use strict";n.d(e,"a",(function(){return u}));var r=n("ZUHj"),i=n("l7GE"),o=n("51Dv"),s=n("lJxs"),a=n("Cfvw");function u(t,e,n=Number.POSITIVE_INFINITY){return"function"==typeof e?r=>r.pipe(u((n,r)=>Object(a.a)(t(n,r)).pipe(Object(s.a)((t,i)=>e(n,t,r,i))),n)):("number"==typeof e&&(n=e),e=>e.lift(new c(t,n)))}class c{constructor(t,e=Number.POSITIVE_INFINITY){this.project=t,this.concurrent=e}call(t,e){return e.subscribe(new h(t,this.project,this.concurrent))}}class h extends i.a{constructor(t,e,n=Number.POSITIVE_INFINITY){super(t),this.project=e,this.concurrent=n,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(t){this.active<this.concurrent?this._tryNext(t):this.buffer.push(t)}_tryNext(t){let e;const n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this.active++,this._innerSub(e,t,n)}_innerSub(t,e,n){const i=new o.a(this,e,n),s=this.destination;s.add(i);const a=Object(r.a)(this,t,void 0,void 0,i);a!==i&&s.add(a)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(t,e,n,r,i){this.destination.next(e)}notifyComplete(t){const e=this.buffer;this.remove(t),this.active--,e.length>0?this._next(e.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}},"51Dv":function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n("7o/Q");class i extends r.a{constructor(t,e,n){super(),this.parent=t,this.outerValue=e,this.outerIndex=n,this.index=0}_next(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this.index++,this)}_error(t){this.parent.notifyError(t,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}},"6Joi":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,i=(r=n("wj3C"))&&"object"==typeof r&&"default"in r?r.default:r,o=n("mrSG"),s=n("q/0M"),a=n("zVF4"),u=n("S+S0"),c=n("x7I3"),h=i.SDK_VERSION,l=new s.Logger("@firebase/firestore");function f(){return l.logLevel===s.LogLevel.DEBUG?0:l.logLevel===s.LogLevel.SILENT?2:1}function d(t){switch(t){case 0:l.logLevel=s.LogLevel.DEBUG;break;case 1:l.logLevel=s.LogLevel.ERROR;break;case 2:l.logLevel=s.LogLevel.SILENT;break;default:l.error("Firestore ("+h+"): Invalid value passed to `setLogLevel`")}}function p(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];if(l.logLevel<=s.LogLevel.DEBUG){var i=n.map(m);l.debug.apply(l,o.__spreadArrays(["Firestore ("+h+") ["+t+"]: "+e],i))}}function g(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(l.logLevel<=s.LogLevel.ERROR){var r=e.map(m);l.error.apply(l,o.__spreadArrays(["Firestore ("+h+"): "+t],r))}}function m(t){if("string"==typeof t)return t;var e=cn.t();try{return e.i(t)}catch(e){return t}}function v(t){var e="FIRESTORE ("+h+") INTERNAL ASSERTION FAILED: "+t;throw g(e),new Error(e)}function y(t,e){t||v(e)}var b=function(){function t(){}return t.u=function(){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e="",n=0;n<20;n++)e+=t.charAt(Math.floor(Math.random()*t.length));return y(20===e.length,"Invalid auto ID: "+e),e},t}();function w(t,e){return t<e?-1:t>e?1:0}function _(t,e){if(t.length!==e.length)return!1;for(var n=0;n<t.length;n++)if(!t[n].isEqual(e[n]))return!1;return!0}function E(t){return t+"\0"}var I=function(t,e,n,r,i){this.s=t,this.persistenceKey=e,this.host=n,this.ssl=r,this.forceLongPolling=i},C=function(){function t(t,e){this.projectId=t,this.database=e||"(default)"}return Object.defineProperty(t.prototype,"o",{get:function(){return"(default)"===this.database},enumerable:!0,configurable:!0}),t.prototype.isEqual=function(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database},t.prototype.h=function(t){return w(this.projectId,t.projectId)||w(this.database,t.database)},t}(),T=function(){function t(t){this.uid=t}return t.prototype.l=function(){return null!=this.uid},t.prototype.v=function(){return this.l()?"uid:"+this.uid:"anonymous-user"},t.prototype.isEqual=function(t){return t.uid===this.uid},t.UNAUTHENTICATED=new t(null),t.m=new t("google-credentials-uid"),t.p=new t("first-party-uid"),t}(),S={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},A=function(t){function e(e,n){var r=t.call(this,n)||this;return r.code=e,r.message=n,r.name="FirebaseError",r.toString=function(){return r.name+": [code="+r.code+"]: "+r.message},r}return o.__extends(e,t),e}(Error),O=function(t,e){this.user=e,this.type="OAuth",this.g={},this.g.Authorization="Bearer "+t},N=function(){function t(){this._=null}return t.prototype.getToken=function(){return Promise.resolve(null)},t.prototype.I=function(){},t.prototype.T=function(t){y(!this._,"Can only call setChangeListener() once."),this._=t,t(T.UNAUTHENTICATED)},t.prototype.D=function(){y(null!==this._,"removeChangeListener() when no listener registered"),this._=null},t}(),k=function(){function t(t){var e=this;this.S=null,this.currentUser=T.UNAUTHENTICATED,this.R=!1,this.C=0,this._=null,this.forceRefresh=!1,this.S=function(){e.C++,e.currentUser=e.A(),e.R=!0,e._&&e._(e.currentUser)},this.C=0,this.auth=t.getImmediate({optional:!0}),this.auth?this.auth.addAuthTokenListener(this.S):(this.S(null),t.get().then((function(t){e.auth=t,e.S&&e.auth.addAuthTokenListener(e.S)}),(function(){})))}return t.prototype.getToken=function(){var t=this;y(null!=this.S,"getToken cannot be called after listener removed.");var e=this.C,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){if(t.C!==e)throw new A(S.ABORTED,"getToken aborted due to token change.");return n?(y("string"==typeof n.accessToken,"Invalid tokenData returned from getToken():"+n),new O(n.accessToken,t.currentUser)):null})):Promise.resolve(null)},t.prototype.I=function(){this.forceRefresh=!0},t.prototype.T=function(t){y(!this._,"Can only call setChangeListener() once."),this._=t,this.R&&t(this.currentUser)},t.prototype.D=function(){y(null!=this.S,"removeChangeListener() called twice"),y(null!==this._,"removeChangeListener() called when no listener registered"),this.auth&&this.auth.removeAuthTokenListener(this.S),this.S=null,this._=null},t.prototype.A=function(){var t=this.auth&&this.auth.getUid();return y(null===t||"string"==typeof t,"Received invalid UID: "+t),new T(t)},t}(),x=function(){function t(t,e){this.P=t,this.k=e,this.type="FirstParty",this.user=T.p}return Object.defineProperty(t.prototype,"g",{get:function(){var t={"X-Goog-AuthUser":this.k},e=this.P.auth.N([]);return e&&(t.Authorization=e),t},enumerable:!0,configurable:!0}),t}(),P=function(){function t(t,e){this.P=t,this.k=e}return t.prototype.getToken=function(){return Promise.resolve(new x(this.P,this.k))},t.prototype.T=function(t){t(T.p)},t.prototype.D=function(){},t.prototype.I=function(){},t}();function R(t){if(!t)return new N;switch(t.type){case"gapi":var e=t.O;return y(!("object"!=typeof e||null===e||!e.auth||!e.auth.getAuthHeaderValueForFirstParty),"unexpected gapi interface"),new P(e,t.k||"0");case"provider":return t.O;default:throw new A(S.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}function D(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function M(t,e){return void 0!==t?t:e}function L(t,e){for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){var r=Number(n);isNaN(r)||e(r,t[n])}}function j(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function U(t){for(var e in y(null!=t&&"object"==typeof t,"isEmpty() expects object parameter."),t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function V(t,e){if(0!==e.length)throw new A(S.INVALID_ARGUMENT,"Function "+t+"() does not support arguments, but was called with "+it(e.length,"argument")+".")}function F(t,e,n){if(e.length!==n)throw new A(S.INVALID_ARGUMENT,"Function "+t+"() requires "+it(n,"argument")+", but was called with "+it(e.length,"argument")+".")}function q(t,e,n){if(e.length<n)throw new A(S.INVALID_ARGUMENT,"Function "+t+"() requires at least "+it(n,"argument")+", but was called with "+it(e.length,"argument")+".")}function H(t,e,n,r){if(e.length<n||e.length>r)throw new A(S.INVALID_ARGUMENT,"Function "+t+"() requires between "+n+" and "+r+" arguments, but was called with "+it(e.length,"argument")+".")}function G(t,e,n,r){if(!(e instanceof Array)||e.length<r)throw new A(S.INVALID_ARGUMENT,"Function "+t+"() requires its "+n+" argument to be an array with at least "+it(r,"element")+".")}function B(t,e,n,r){Q(t,e,rt(n)+" argument",r)}function z(t,e,n,r){void 0!==r&&B(t,e,n,r)}function W(t,e,n,r){Q(t,e,n+" option",r)}function K(t,e,n,r){void 0!==r&&W(t,e,n,r)}function $(t,e,n,r,i){void 0!==r&&function(t,e,n,r,i){for(var o=[],s=0,a=i;s<a.length;s++){var u=a[s];if(u===r)return;o.push(X(u))}var c=X(r);throw new A(S.INVALID_ARGUMENT,"Invalid value "+c+" provided to function "+t+'() for option "'+n+'". Acceptable values: '+o.join(", "))}(t,0,n,r,i)}function Y(t,e,n,r){if(!e.some((function(t){return t===r})))throw new A(S.INVALID_ARGUMENT,"Invalid value "+X(r)+" provided to function "+t+"() for its "+rt(n)+" argument. Acceptable values: "+e.join(", "))}function Q(t,e,n,r){if(!("object"===e?J(r):"non-empty string"===e?"string"==typeof r&&""!==r:typeof r===e)){var i=X(r);throw new A(S.INVALID_ARGUMENT,"Function "+t+"() requires its "+n+" to be of type "+e+", but it was: "+i)}}function J(t){return"object"==typeof t&&null!==t&&(Object.getPrototypeOf(t)===Object.prototype||null===Object.getPrototypeOf(t))}function X(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=t.substring(0,20)+"..."),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";var e=function(t){if(t.constructor){var e=/function\s+([^\s(]+)\s*\(/.exec(t.constructor.toString());if(e&&e.length>1)return e[1]}return null}(t);return e?"a custom "+e+" object":"an object"}return"function"==typeof t?"a function":v("Unknown wrong type: "+typeof t)}function Z(t,e,n){if(void 0===n)throw new A(S.INVALID_ARGUMENT,"Function "+t+"() requires a valid "+rt(e)+" argument, but it was undefined.")}function tt(t,e,n){j(e,(function(e,r){if(n.indexOf(e)<0)throw new A(S.INVALID_ARGUMENT,"Unknown option '"+e+"' passed to function "+t+"(). Available options: "+n.join(", "))}))}function et(t,e,n,r){var i=X(r);return new A(S.INVALID_ARGUMENT,"Function "+t+"() requires its "+rt(n)+" argument to be a "+e+", but it was: "+i)}function nt(t,e,n){if(n<=0)throw new A(S.INVALID_ARGUMENT,'Function "'+t+'()" requires its '+rt(e)+" argument to be a positive number, but it was: "+n+".")}function rt(t){switch(t){case 1:return"first";case 2:return"second";case 3:return"third";default:return t+"th"}}function it(t,e){return t+" "+e+(1===t?"":"s")}var ot=function(){function t(t,e){if(F("GeoPoint",arguments,2),B("GeoPoint","number",1,t),B("GeoPoint","number",2,e),!isFinite(t)||t<-90||t>90)throw new A(S.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new A(S.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this.F=t,this.V=e}return Object.defineProperty(t.prototype,"latitude",{get:function(){return this.F},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"longitude",{get:function(){return this.V},enumerable:!0,configurable:!0}),t.prototype.isEqual=function(t){return this.F===t.F&&this.V===t.V},t.prototype.U=function(t){return w(this.F,t.F)||w(this.V,t.V)},t}(),st=function(){function t(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new A(S.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new A(S.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new A(S.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new A(S.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return t.now=function(){return t.fromMillis(Date.now())},t.fromDate=function(e){return t.fromMillis(e.getTime())},t.fromMillis=function(e){var n=Math.floor(e/1e3);return new t(n,1e6*(e-1e3*n))},t.prototype.toDate=function(){return new Date(this.toMillis())},t.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},t.prototype.U=function(t){return this.seconds===t.seconds?w(this.nanoseconds,t.nanoseconds):w(this.seconds,t.seconds)},t.prototype.isEqual=function(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds},t.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},t.prototype.valueOf=function(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},t}(),at=function(){function t(t){this.timestamp=t}return t.j=function(e){var n=Math.floor(e/1e6);return new t(new st(n,e%1e6*1e3))},t.L=function(e){return new t(e)},t.q=function(){return t.MIN},t.prototype.h=function(t){return this.timestamp.U(t.timestamp)},t.prototype.isEqual=function(t){return this.timestamp.isEqual(t.timestamp)},t.prototype.B=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},t.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},t.prototype.M=function(){return this.timestamp},t.MIN=new t(new st(0,0)),t}(),ut=function(){function t(t,e,n){void 0===e?e=0:e>t.length&&v("offset "+e+" out of range "+t.length),void 0===n?n=t.length-e:n>t.length-e&&v("length "+n+" out of range "+(t.length-e)),this.segments=t,this.offset=e,this.len=n}return Object.defineProperty(t.prototype,"length",{get:function(){return this.len},enumerable:!0,configurable:!0}),t.prototype.isEqual=function(e){return 0===t.G(this,e)},t.prototype.child=function(e){var n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach((function(t){n.push(t)})):n.push(e),this.W(n)},t.prototype.limit=function(){return this.offset+this.length},t.prototype.K=function(t){return y(this.length>=(t=void 0===t?1:t),"Can't call popFirst() with less segments"),this.W(this.segments,this.offset+t,this.length-t)},t.prototype.H=function(){return y(!this.J(),"Can't call popLast() on empty path"),this.W(this.segments,this.offset,this.length-1)},t.prototype.Y=function(){return y(!this.J(),"Can't call firstSegment() on empty path"),this.segments[this.offset]},t.prototype.X=function(){return this.get(this.length-1)},t.prototype.get=function(t){return y(t<this.length,"Index out of range"),this.segments[this.offset+t]},t.prototype.J=function(){return 0===this.length},t.prototype.$=function(t){if(t.length<this.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.Z=function(t){if(this.length+1!==t.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.forEach=function(t){for(var e=this.offset,n=this.limit();e<n;e++)t(this.segments[e])},t.prototype.tt=function(){return this.segments.slice(this.offset,this.limit())},t.G=function(t,e){for(var n=Math.min(t.length,e.length),r=0;r<n;r++){var i=t.get(r),o=e.get(r);if(i<o)return-1;if(i>o)return 1}return t.length<e.length?-1:t.length>e.length?1:0},t}(),ct=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o.__extends(e,t),e.prototype.W=function(t,n,r){return new e(t,n,r)},e.prototype.nt=function(){return this.tt().join("/")},e.prototype.toString=function(){return this.nt()},e.it=function(t){if(t.indexOf("//")>=0)throw new A(S.INVALID_ARGUMENT,"Invalid path ("+t+"). Paths must not contain // in them.");return new e(t.split("/").filter((function(t){return t.length>0})))},e.et=new e([]),e}(ut),ht=/^[_a-zA-Z][_a-zA-Z0-9]*$/,lt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o.__extends(e,t),e.prototype.W=function(t,n,r){return new e(t,n,r)},e.rt=function(t){return ht.test(t)},e.prototype.nt=function(){return this.tt().map((function(t){return t=t.replace("\\","\\\\").replace("`","\\`"),e.rt(t)||(t="`"+t+"`"),t})).join(".")},e.prototype.toString=function(){return this.nt()},e.prototype.ut=function(){return 1===this.length&&"__name__"===this.get(0)},e.st=function(){return new e(["__name__"])},e.ot=function(t){for(var n=[],r="",i=0,o=function(){if(0===r.length)throw new A(S.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");n.push(r),r=""},s=!1;i<t.length;){var a=t[i];if("\\"===a){if(i+1===t.length)throw new A(S.INVALID_ARGUMENT,"Path has trailing escape character: "+t);var u=t[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new A(S.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=u,i+=2}else"`"===a?(s=!s,i++):"."!==a||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new A(S.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new e(n)},e.et=new e([]),e}(ut),ft=function(){function t(e){this.path=e,y(t.ht(e),"Invalid DocumentKey with an odd number of segments: "+e.tt().join("/"))}return t.prototype.ct=function(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t},t.prototype.isEqual=function(t){return null!==t&&0===ct.G(this.path,t.path)},t.prototype.toString=function(){return this.path.toString()},t.G=function(t,e){return ct.G(t.path,e.path)},t.ht=function(t){return t.length%2==0},t.at=function(e){return new t(new ct(e.slice()))},t.ft=function(e){return new t(ct.it(e))},t.EMPTY=new t(new ct([])),t}(),dt=function(){function t(t,e){this.G=t,this.root=e||gt.EMPTY}return t.prototype.lt=function(e,n){return new t(this.G,this.root.lt(e,n,this.G).copy(null,null,gt.dt,null,null))},t.prototype.remove=function(e){return new t(this.G,this.root.remove(e,this.G).copy(null,null,gt.dt,null,null))},t.prototype.get=function(t){for(var e=this.root;!e.J();){var n=this.G(t,e.key);if(0===n)return e.value;n<0?e=e.left:n>0&&(e=e.right)}return null},t.prototype.indexOf=function(t){for(var e=0,n=this.root;!n.J();){var r=this.G(t,n.key);if(0===r)return e+n.left.size;r<0?n=n.left:(e+=n.left.size+1,n=n.right)}return-1},t.prototype.J=function(){return this.root.J()},Object.defineProperty(t.prototype,"size",{get:function(){return this.root.size},enumerable:!0,configurable:!0}),t.prototype.vt=function(){return this.root.vt()},t.prototype.wt=function(){return this.root.wt()},t.prototype.pt=function(t){return this.root.pt(t)},t.prototype.forEach=function(t){this.pt((function(e,n){return t(e,n),!1}))},t.prototype.toString=function(){var t=[];return this.pt((function(e,n){return t.push(e+":"+n),!1})),"{"+t.join(", ")+"}"},t.prototype.gt=function(t){return this.root.gt(t)},t.prototype.bt=function(){return new pt(this.root,null,this.G,!1)},t.prototype.yt=function(t){return new pt(this.root,t,this.G,!1)},t.prototype._t=function(){return new pt(this.root,null,this.G,!0)},t.prototype.It=function(t){return new pt(this.root,t,this.G,!0)},t}(),pt=function(){function t(t,e,n,r){this.Tt=r,this.Et=[];for(var i=1;!t.J();)if(i=e?n(t.key,e):1,r&&(i*=-1),i<0)t=this.Tt?t.left:t.right;else{if(0===i){this.Et.push(t);break}this.Et.push(t),t=this.Tt?t.right:t.left}}return t.prototype.Dt=function(){y(this.Et.length>0,"getNext() called on iterator when hasNext() is false.");var t=this.Et.pop(),e={key:t.key,value:t.value};if(this.Tt)for(t=t.left;!t.J();)this.Et.push(t),t=t.right;else for(t=t.right;!t.J();)this.Et.push(t),t=t.left;return e},t.prototype.St=function(){return this.Et.length>0},t.prototype.Rt=function(){if(0===this.Et.length)return null;var t=this.Et[this.Et.length-1];return{key:t.key,value:t.value}},t}(),gt=function(){function t(e,n,r,i,o){this.key=e,this.value=n,this.color=null!=r?r:t.RED,this.left=null!=i?i:t.EMPTY,this.right=null!=o?o:t.EMPTY,this.size=this.left.size+1+this.right.size}return t.prototype.copy=function(e,n,r,i,o){return new t(null!=e?e:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=o?o:this.right)},t.prototype.J=function(){return!1},t.prototype.pt=function(t){return this.left.pt(t)||t(this.key,this.value)||this.right.pt(t)},t.prototype.gt=function(t){return this.right.gt(t)||t(this.key,this.value)||this.left.gt(t)},t.prototype.min=function(){return this.left.J()?this:this.left.min()},t.prototype.vt=function(){return this.min().key},t.prototype.wt=function(){return this.right.J()?this.key:this.right.wt()},t.prototype.lt=function(t,e,n){var r=this,i=n(t,r.key);return(r=i<0?r.copy(null,null,null,r.left.lt(t,e,n),null):0===i?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.lt(t,e,n))).Ct()},t.prototype.At=function(){if(this.left.J())return t.EMPTY;var e=this;return e.left.Pt()||e.left.left.Pt()||(e=e.kt()),(e=e.copy(null,null,null,e.left.At(),null)).Ct()},t.prototype.remove=function(e,n){var r,i=this;if(n(e,i.key)<0)i.left.J()||i.left.Pt()||i.left.left.Pt()||(i=i.kt()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.Pt()&&(i=i.Nt()),i.right.J()||i.right.Pt()||i.right.left.Pt()||(i=i.Ot()),0===n(e,i.key)){if(i.right.J())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.At())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.Ct()},t.prototype.Pt=function(){return this.color},t.prototype.Ct=function(){var t=this;return t.right.Pt()&&!t.left.Pt()&&(t=t.Ft()),t.left.Pt()&&t.left.left.Pt()&&(t=t.Nt()),t.left.Pt()&&t.right.Pt()&&(t=t.Vt()),t},t.prototype.kt=function(){var t=this.Vt();return t.right.left.Pt()&&(t=(t=(t=t.copy(null,null,null,null,t.right.Nt())).Ft()).Vt()),t},t.prototype.Ot=function(){var t=this.Vt();return t.left.left.Pt()&&(t=(t=t.Nt()).Vt()),t},t.prototype.Ft=function(){var e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},t.prototype.Nt=function(){var e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},t.prototype.Vt=function(){var t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)},t.prototype.Ut=function(){var t=this.xt();return Math.pow(2,t)<=this.size+1},t.prototype.xt=function(){if(this.Pt()&&this.left.Pt())throw v("Red node has red child("+this.key+","+this.value+")");if(this.right.Pt())throw v("Right child of ("+this.key+","+this.value+") is red");var t=this.left.xt();if(t!==this.right.xt())throw v("Black depths differ");return t+(this.Pt()?0:1)},t.EMPTY=null,t.RED=!0,t.dt=!1,t}(),mt=function(){function t(){this.size=0}return Object.defineProperty(t.prototype,"key",{get:function(){throw v("LLRBEmptyNode has no key.")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){throw v("LLRBEmptyNode has no value.")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"color",{get:function(){throw v("LLRBEmptyNode has no color.")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"left",{get:function(){throw v("LLRBEmptyNode has no left child.")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"right",{get:function(){throw v("LLRBEmptyNode has no right child.")},enumerable:!0,configurable:!0}),t.prototype.copy=function(t,e,n,r,i){return this},t.prototype.lt=function(t,e,n){return new gt(t,e)},t.prototype.remove=function(t,e){return this},t.prototype.J=function(){return!0},t.prototype.pt=function(t){return!1},t.prototype.gt=function(t){return!1},t.prototype.vt=function(){return null},t.prototype.wt=function(){return null},t.prototype.Pt=function(){return!1},t.prototype.Ut=function(){return!0},t.prototype.xt=function(){return 0},t}();gt.EMPTY=new mt;var vt=function(){function t(t){this.G=t,this.data=new dt(this.G)}return t.jt=function(e){var n=new t(e.G);return e.forEach((function(t){n=n.add(t)})),n},t.prototype.has=function(t){return null!==this.data.get(t)},t.prototype.first=function(){return this.data.vt()},t.prototype.last=function(){return this.data.wt()},Object.defineProperty(t.prototype,"size",{get:function(){return this.data.size},enumerable:!0,configurable:!0}),t.prototype.indexOf=function(t){return this.data.indexOf(t)},t.prototype.forEach=function(t){this.data.pt((function(e,n){return t(e),!1}))},t.prototype.Lt=function(t,e){for(var n=this.data.yt(t[0]);n.St();){var r=n.Dt();if(this.G(r.key,t[1])>=0)return;e(r.key)}},t.prototype.qt=function(t,e){var n;for(n=void 0!==e?this.data.yt(e):this.data.bt();n.St();)if(!t(n.Dt().key))return},t.prototype.Bt=function(t){var e=this.data.yt(t);return e.St()?e.Dt().key:null},t.prototype.bt=function(){return new yt(this.data.bt())},t.prototype.yt=function(t){return new yt(this.data.yt(t))},t.prototype.add=function(t){return this.copy(this.data.remove(t).lt(t,!0))},t.prototype.delete=function(t){return this.has(t)?this.copy(this.data.remove(t)):this},t.prototype.J=function(){return this.data.J()},t.prototype.Mt=function(t){var e=this;return e.size<t.size&&(e=t,t=this),t.forEach((function(t){e=e.add(t)})),e},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.data.bt(),r=e.data.bt();n.St();){var i=n.Dt().key,o=r.Dt().key;if(0!==this.G(i,o))return!1}return!0},t.prototype.tt=function(){var t=[];return this.forEach((function(e){t.push(e)})),t},t.prototype.toString=function(){var t=[];return this.forEach((function(e){return t.push(e)})),"SortedSet("+t.toString()+")"},t.prototype.copy=function(e){var n=new t(this.G);return n.data=e,n},t}(),yt=function(){function t(t){this.Qt=t}return t.prototype.Dt=function(){return this.Qt.Dt().key},t.prototype.St=function(){return this.Qt.St()},t}(),bt=function(){function t(){}return t.prototype.Gt=function(t,e){return new Bt(e,t)},t.prototype.Wt=function(t,e){return e},t.prototype.zt=function(t){return null},t.prototype.isEqual=function(e){return e instanceof t},t.instance=new t,t}(),wt=function(){function t(t){this.elements=t}return t.prototype.Gt=function(t,e){return this.apply(t)},t.prototype.Wt=function(t,e){return this.apply(t)},t.prototype.apply=function(t){for(var e=It(t),n=function(t){e.find((function(e){return e.isEqual(t)}))||e.push(t)},r=0,i=this.elements;r<i.length;r++)n(i[r]);return new Qt(e)},t.prototype.zt=function(t){return null},t.prototype.isEqual=function(e){return e instanceof t&&_(e.elements,this.elements)},t}(),_t=function(){function t(t){this.elements=t}return t.prototype.Gt=function(t,e){return this.apply(t)},t.prototype.Wt=function(t,e){return this.apply(t)},t.prototype.apply=function(t){for(var e=It(t),n=function(t){e=e.filter((function(e){return!e.isEqual(t)}))},r=0,i=this.elements;r<i.length;r++)n(i[r]);return new Qt(e)},t.prototype.zt=function(t){return null},t.prototype.isEqual=function(e){return e instanceof t&&_(e.elements,this.elements)},t}(),Et=function(){function t(t){this.Kt=t}return t.prototype.Gt=function(t,e){var n=this.zt(t);if(n instanceof Ft&&this.Kt instanceof Ft){var r=n.Ht+this.Kt.Ht;return new Ft(r)}return new qt(r=n.Ht+this.Kt.Ht)},t.prototype.Wt=function(t,e){return y(null!==e,"Didn't receive transformResult for NUMERIC_ADD transform"),e},t.prototype.zt=function(t){return t instanceof Ut?t:new Ft(0)},t.prototype.isEqual=function(e){return e instanceof t&&this.Kt.isEqual(e.Kt)},t}();function It(t){return t instanceof Qt?t.Ht.slice():[]}var Ct=function(){function t(t){this.fields=t}return t.Jt=function(e){return new t(e)},t.Yt=function(e){var n=new vt(lt.G);return e.forEach((function(t){return n=n.add(t)})),new t(n)},t.prototype.Xt=function(t){var e=!1;return this.fields.forEach((function(n){n.$(t)&&(e=!0)})),e},t.prototype.isEqual=function(t){return this.fields.isEqual(t.fields)},t}(),Tt=function(){function t(t,e){this.field=t,this.transform=e}return t.prototype.isEqual=function(t){return this.field.isEqual(t.field)&&this.transform.isEqual(t.transform)},t}(),St=function(t,e){this.version=t,this.transformResults=e},At=function(){function t(t,e){this.updateTime=t,this.exists=e,y(void 0===t||void 0===e,'Precondition can specify "exists" or "updateTime" but not both')}return t.exists=function(e){return new t(void 0,e)},t.updateTime=function(e){return new t(e)},Object.defineProperty(t.prototype,"$t",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!0,configurable:!0}),t.prototype.Zt=function(t){return void 0!==this.updateTime?t instanceof Xt&&t.version.isEqual(this.updateTime):void 0!==this.exists?this.exists===t instanceof Xt:(y(this.$t,"Precondition should be empty"),!0)},t.prototype.isEqual=function(t){return n=t.updateTime,(null!=(e=this.updateTime)?!(!n||!e.isEqual(n)):e===n)&&this.exists===t.exists;var e,n},t.NONE=new t,t}(),Ot=function(){function t(){}return t.prototype.tn=function(t){null!=t&&y(t.key.isEqual(this.key),"Can only apply a mutation to a document with the same key")},t.nn=function(t){return t instanceof Xt?t.version:at.MIN},t}(),Nt=function(t){function e(e,n,r){var i=t.call(this)||this;return i.key=e,i.value=n,i.in=r,i.type=0,i}return o.__extends(e,t),e.prototype.Wt=function(t,e){return this.tn(t),y(null==e.transformResults,"Transform results received by SetMutation."),new Xt(this.key,e.version,{hasCommittedMutations:!0},this.value)},e.prototype.Gt=function(t,e,n){if(this.tn(t),!this.in.Zt(t))return t;var r=Ot.nn(t);return new Xt(this.key,r,{en:!0},this.value)},e.prototype.rn=function(t){return null},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.value.isEqual(t.value)&&this.in.isEqual(t.in)},e}(Ot),kt=function(t){function e(e,n,r,i){var o=t.call(this)||this;return o.key=e,o.data=n,o.un=r,o.in=i,o.type=1,o}return o.__extends(e,t),e.prototype.Wt=function(t,e){if(this.tn(t),y(null==e.transformResults,"Transform results received by PatchMutation."),!this.in.Zt(t))return new te(this.key,e.version);var n=this.sn(t);return new Xt(this.key,e.version,{hasCommittedMutations:!0},n)},e.prototype.Gt=function(t,e,n){if(this.tn(t),!this.in.Zt(t))return t;var r=Ot.nn(t),i=this.sn(t);return new Xt(this.key,r,{en:!0},i)},e.prototype.rn=function(t){return null},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.un.isEqual(t.un)&&this.in.isEqual(t.in)},e.prototype.sn=function(t){var e;return e=t instanceof Xt?t.data():$t.EMPTY,this.on(e)},e.prototype.on=function(t){var e=this,n=t.hn();return this.un.fields.forEach((function(t){if(!t.J()){var r=e.data.field(t);null!==r?n.set(t,r):n.delete(t)}})),n.cn()},e}(Ot),xt=function(t){function e(e,n){var r=t.call(this)||this;return r.key=e,r.fieldTransforms=n,r.type=2,r.in=At.exists(!0),r}return o.__extends(e,t),e.prototype.Wt=function(t,e){if(this.tn(t),y(null!=e.transformResults,"Transform results missing for TransformMutation."),!this.in.Zt(t))return new te(this.key,e.version);var n=this.an(t),r=this.fn(t,e.transformResults),i=e.version,o=this.ln(n.data(),r);return new Xt(this.key,i,{hasCommittedMutations:!0},o)},e.prototype.Gt=function(t,e,n){if(this.tn(t),!this.in.Zt(t))return t;var r=this.an(t),i=this.dn(n,t,e),o=this.ln(r.data(),i);return new Xt(this.key,r.version,{en:!0},o)},e.prototype.rn=function(t){for(var e=null,n=0,r=this.fieldTransforms;n<r.length;n++){var i=r[n],o=t instanceof Xt?t.field(i.field):void 0,s=i.transform.zt(o||null);null!=s&&(e=null==e?$t.vn().set(i.field,s):e.set(i.field,s))}return e?e.cn():null},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&_(this.fieldTransforms,t.fieldTransforms)&&this.in.isEqual(t.in)},e.prototype.an=function(t){return y(t instanceof Xt,"Unknown MaybeDocument type "+t),y(t.key.isEqual(this.key),"Can only transform a document with the same key"),t},e.prototype.fn=function(t,e){var n=[];y(this.fieldTransforms.length===e.length,"server transform result count ("+e.length+") should match field transform count ("+this.fieldTransforms.length+")");for(var r=0;r<e.length;r++){var i=this.fieldTransforms[r],o=i.transform,s=null;t instanceof Xt&&(s=t.field(i.field)),n.push(o.Wt(s,e[r]))}return n},e.prototype.dn=function(t,e,n){for(var r=[],i=0,o=this.fieldTransforms;i<o.length;i++){var s=o[i],a=s.transform,u=null;e instanceof Xt&&(u=e.field(s.field)),null===u&&n instanceof Xt&&(u=n.field(s.field)),r.push(a.Gt(u,t))}return r},e.prototype.ln=function(t,e){y(e.length===this.fieldTransforms.length,"TransformResults length mismatch.");for(var n=t.hn(),r=0;r<this.fieldTransforms.length;r++)n.set(this.fieldTransforms[r].field,e[r]);return n.cn()},e}(Ot),Pt=function(t){function e(e,n){var r=t.call(this)||this;return r.key=e,r.in=n,r.type=3,r}return o.__extends(e,t),e.prototype.Wt=function(t,e){return this.tn(t),y(null==e.transformResults,"Transform results received by DeleteMutation."),new Zt(this.key,e.version,{hasCommittedMutations:!0})},e.prototype.Gt=function(t,e,n){return this.tn(t),this.in.Zt(t)?(t&&y(t.key.isEqual(this.key),"Can only apply mutation to document with same key"),new Zt(this.key,at.q())):t},e.prototype.rn=function(t){return null},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.in.isEqual(t.in)},e}(Ot),Rt=function(t){function e(e,n){var r=t.call(this)||this;return r.key=e,r.in=n,r.type=4,r}return o.__extends(e,t),e.prototype.Wt=function(t,e){v("VerifyMutation should only be used in Transactions.")},e.prototype.Gt=function(t,e,n){v("VerifyMutation should only be used in Transactions.")},e.prototype.rn=function(t){v("VerifyMutation should only be used in Transactions.")},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.in.isEqual(t.in)},e}(Ot),Dt=function(){function t(t,e){this.wn=t,this.timestampsInSnapshots=e}return t.mn=function(e,n){switch(e.serverTimestamps){case"estimate":return new t(1,n);case"previous":return new t(2,n);case"none":case void 0:return new t(0,n);default:return v("fromSnapshotOptions() called with invalid options.")}},t}(),Mt=function(){function t(){}return t.prototype.toString=function(){var t=this.value();return null===t?"null":t.toString()},t.prototype.pn=function(t){return y(this.gn!==t.gn,"Default compareTo should not be used for values of same type."),w(this.gn,t.gn)},t}(),Lt=function(t){function e(){var e=t.call(this)||this;return e.gn=0,e.Ht=null,e}return o.__extends(e,t),e.prototype.value=function(t){return null},e.prototype.isEqual=function(t){return t instanceof e},e.prototype.h=function(t){return t instanceof e?0:this.pn(t)},e.prototype.bn=function(){return 4},e.yn=new e,e}(Mt),jt=function(t){function e(e){var n=t.call(this)||this;return n.Ht=e,n.gn=1,n}return o.__extends(e,t),e.prototype.value=function(t){return this.Ht},e.prototype.isEqual=function(t){return t instanceof e&&this.Ht===t.Ht},e.prototype.h=function(t){return t instanceof e?w(this.Ht,t.Ht):this.pn(t)},e.prototype.bn=function(){return 4},e.of=function(t){return t?e._n:e.In},e._n=new e(!0),e.In=new e(!1),e}(Mt),Ut=function(t){function e(e){var n=t.call(this)||this;return n.Ht=e,n.gn=2,n}return o.__extends(e,t),e.prototype.value=function(t){return this.Ht},e.prototype.h=function(t){return t instanceof e?(n=this.Ht)<(r=t.Ht)?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1:this.pn(t);var n,r},e.prototype.bn=function(){return 8},e}(Mt);function Vt(t,e){return t===e?0!==t||1/t==1/e:t!=t&&e!=e}var Ft=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o.__extends(e,t),e.prototype.isEqual=function(t){return t instanceof e&&Vt(this.Ht,t.Ht)},e}(Ut),qt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o.__extends(e,t),e.prototype.isEqual=function(t){return t instanceof e&&Vt(this.Ht,t.Ht)},e.Tn=new e(NaN),e.POSITIVE_INFINITY=new e(1/0),e.NEGATIVE_INFINITY=new e(-1/0),e}(Ut),Ht=function(t){function e(e){var n=t.call(this)||this;return n.Ht=e,n.gn=4,n}return o.__extends(e,t),e.prototype.value=function(t){return this.Ht},e.prototype.isEqual=function(t){return t instanceof e&&this.Ht===t.Ht},e.prototype.h=function(t){return t instanceof e?w(this.Ht,t.Ht):this.pn(t)},e.prototype.bn=function(){return 2*this.Ht.length},e}(Mt),Gt=function(t){function e(e){var n=t.call(this)||this;return n.Ht=e,n.gn=3,n}return o.__extends(e,t),e.prototype.value=function(t){return!t||t.timestampsInSnapshots?this.Ht:this.Ht.toDate()},e.prototype.isEqual=function(t){return t instanceof e&&this.Ht.isEqual(t.Ht)},e.prototype.h=function(t){return t instanceof e?this.Ht.U(t.Ht):t instanceof Bt?-1:this.pn(t)},e.prototype.bn=function(){return 16},e}(Mt),Bt=function(t){function e(e,n){var r=t.call(this)||this;return r.En=e,r.previousValue=n,r.gn=3,r}return o.__extends(e,t),e.prototype.value=function(t){return t&&1===t.wn?new Gt(this.En).value(t):t&&2===t.wn&&this.previousValue?this.previousValue.value(t):null},e.prototype.isEqual=function(t){return t instanceof e&&this.En.isEqual(t.En)},e.prototype.h=function(t){return t instanceof e?this.En.U(t.En):t instanceof Gt?1:this.pn(t)},e.prototype.toString=function(){return"<ServerTimestamp localTime="+this.En.toString()+">"},e.prototype.bn=function(){return 16+(this.previousValue?this.previousValue.bn():0)},e}(Mt),zt=function(t){function e(e){var n=t.call(this)||this;return n.Ht=e,n.gn=5,n}return o.__extends(e,t),e.prototype.value=function(t){return this.Ht},e.prototype.isEqual=function(t){return t instanceof e&&this.Ht.isEqual(t.Ht)},e.prototype.h=function(t){return t instanceof e?this.Ht.U(t.Ht):this.pn(t)},e.prototype.bn=function(){return this.Ht.Dn()},e}(Mt),Wt=function(t){function e(e,n){var r=t.call(this)||this;return r.s=e,r.key=n,r.gn=6,r}return o.__extends(e,t),e.prototype.value=function(t){return this.key},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.s.isEqual(t.s)},e.prototype.h=function(t){if(t instanceof e){var n=this.s.h(t.s);return 0!==n?n:ft.G(this.key,t.key)}return this.pn(t)},e.prototype.bn=function(){return this.s.projectId.length+this.s.database.length+this.key.toString().length},e}(Mt),Kt=function(t){function e(e){var n=t.call(this)||this;return n.Ht=e,n.gn=7,n}return o.__extends(e,t),e.prototype.value=function(t){return this.Ht},e.prototype.isEqual=function(t){return t instanceof e&&this.Ht.isEqual(t.Ht)},e.prototype.h=function(t){return t instanceof e?this.Ht.U(t.Ht):this.pn(t)},e.prototype.bn=function(){return 16},e}(Mt),$t=function(t){function e(e){var n=t.call(this)||this;return n.Ht=e,n.gn=9,n}return o.__extends(e,t),e.vn=function(){return new Yt(e.EMPTY.Ht)},e.prototype.value=function(t){var e={};return this.Ht.pt((function(n,r){e[n]=r.value(t)})),e},e.prototype.forEach=function(t){this.Ht.pt(t)},e.prototype.isEqual=function(t){if(t instanceof e){for(var n=this.Ht.bt(),r=t.Ht.bt();n.St()&&r.St();){var i=n.Dt(),o=r.Dt();if(i.key!==o.key||!i.value.isEqual(o.value))return!1}return!n.St()&&!r.St()}return!1},e.prototype.h=function(t){if(t instanceof e){for(var n=this.Ht.bt(),r=t.Ht.bt();n.St()&&r.St();){var i=n.Dt(),o=r.Dt(),s=w(i.key,o.key)||i.value.h(o.value);if(s)return s}return w(n.St(),r.St())}return this.pn(t)},e.prototype.contains=function(t){return null!==this.field(t)},e.prototype.field=function(t){y(!t.J(),"Can't get field of empty path");var n=this;return t.forEach((function(t){n=n instanceof e?n.Ht.get(t):null})),n},e.prototype.un=function(){var t=new vt(lt.G);return this.Ht.forEach((function(n,r){var i=new lt([n]);if(r instanceof e){var o=r.un().fields;o.J()?t=t.add(i):o.forEach((function(e){t=t.add(i.child(e))}))}else t=t.add(i)})),Ct.Jt(t)},e.prototype.bn=function(){var t=0;return this.Ht.pt((function(e,n){t+=e.length+n.bn()})),t},e.prototype.toString=function(){return this.Ht.toString()},e.prototype.hn=function(){return new Yt(this.Ht)},e.EMPTY=new e(new dt(w)),e}(Mt),Yt=function(){function t(t){this.Ht=t}return t.prototype.set=function(t,e){y(!t.J(),"Cannot set field for empty path on ObjectValue");var n=t.Y();if(1===t.length)this.Ht=this.Ht.lt(n,e);else{var r=this.Ht.get(n),i=(r instanceof $t?r:$t.EMPTY).hn().set(t.K(),e).cn();this.Ht=this.Ht.lt(n,i)}return this},t.prototype.delete=function(t){y(!t.J(),"Cannot delete field for empty path on ObjectValue");var e=t.Y();if(1===t.length)this.Ht=this.Ht.remove(e);else{var n=this.Ht.get(e);if(n instanceof $t){var r=n.hn().delete(t.K()).cn();this.Ht=this.Ht.lt(t.Y(),r)}}return this},t.prototype.cn=function(){return new $t(this.Ht)},t}(),Qt=function(t){function e(e){var n=t.call(this)||this;return n.Ht=e,n.gn=8,n}return o.__extends(e,t),e.prototype.value=function(t){return this.Ht.map((function(e){return e.value(t)}))},e.prototype.contains=function(t){for(var e=0,n=this.Ht;e<n.length;e++)if(n[e].isEqual(t))return!0;return!1},e.prototype.forEach=function(t){this.Ht.forEach(t)},e.prototype.isEqual=function(t){if(t instanceof e){if(this.Ht.length!==t.Ht.length)return!1;for(var n=0;n<this.Ht.length;n++)if(!this.Ht[n].isEqual(t.Ht[n]))return!1;return!0}return!1},e.prototype.h=function(t){if(t instanceof e){for(var n=Math.min(this.Ht.length,t.Ht.length),r=0;r<n;r++){var i=this.Ht[r].h(t.Ht[r]);if(i)return i}return w(this.Ht.length,t.Ht.length)}return this.pn(t)},e.prototype.bn=function(){return this.Ht.reduce((function(t,e){return t+e.bn()}),0)},e.prototype.toString=function(){return"["+this.Ht.map((function(t){return t.toString()})).join(",")+"]"},e}(Mt),Jt=function(){function t(t,e){this.key=t,this.version=e}return t.Sn=function(t,e){return ft.G(t.key,e.key)},t}(),Xt=function(t){function e(e,n,r,i,o,s){var a=t.call(this,e,n)||this;return a.Rn=i,a.proto=o,a.converter=s,y(void 0!==a.Rn||void 0!==a.proto&&void 0!==a.converter,"If objectValue is not defined, proto and converter need to be set."),a.en=!!r.en,a.hasCommittedMutations=!!r.hasCommittedMutations,a}return o.__extends(e,t),e.prototype.field=function(t){if(this.Rn)return this.Rn.field(t);this.Cn||(this.Cn=new Map);var e=t.nt(),n=this.Cn.get(e);if(void 0===n){var r=this.An(t);n=void 0===r?null:this.converter(r),this.Cn.set(e,n)}return n},e.prototype.data=function(){var t=this;if(!this.Rn){var e=$t.vn();j(this.proto.fields||{},(function(n,r){e.set(new lt([n]),t.converter(r))})),this.Rn=e.cn(),this.Cn=void 0}return this.Rn},e.prototype.value=function(){return this.data().value()},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.en===t.en&&this.hasCommittedMutations===t.hasCommittedMutations&&this.data().isEqual(t.data())},e.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+this.data().toString()+", {hasLocalMutations: "+this.en+"}), {hasCommittedMutations: "+this.hasCommittedMutations+"})"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.en||this.hasCommittedMutations},enumerable:!0,configurable:!0}),e.prototype.An=function(t){y(void 0!==this.proto,"Can only call getProtoField() when proto is defined");for(var e=this.proto.fields?this.proto.fields[t.Y()]:void 0,n=1;n<t.length;++n){if(!e||!e.mapValue||!e.mapValue.fields)return;e=e.mapValue.fields[t.get(n)]}return e},e.Pn=function(t,e,n){var r=e.field(t),i=n.field(t);return null!==r&&null!==i?r.h(i):v("Trying to compare documents on fields that don't exist")},e}(Jt),Zt=function(t){function e(e,n,r){var i=t.call(this,e,n)||this;return i.hasCommittedMutations=!(!r||!r.hasCommittedMutations),i}return o.__extends(e,t),e.prototype.toString=function(){return"NoDocument("+this.key+", "+this.version+")"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.hasCommittedMutations},enumerable:!0,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.hasCommittedMutations===this.hasCommittedMutations&&t.version.isEqual(this.version)&&t.key.isEqual(this.key)},e}(Jt),te=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o.__extends(e,t),e.prototype.toString=function(){return"UnknownDocument("+this.key+", "+this.version+")"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return!0},enumerable:!0,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.version.isEqual(this.version)&&t.key.isEqual(this.key)},e}(Jt),ee=Number,ne=ee.MIN_SAFE_INTEGER||-(Math.pow(2,53)-1),re=ee.MAX_SAFE_INTEGER||Math.pow(2,53)-1,ie=ee.isInteger||function(t){return"number"==typeof t&&isFinite(t)&&Math.floor(t)===t};function oe(t){return null==t}function se(t){return ie(t)&&t<=re&&t>=ne}var ae=function(){function t(t,e,n,r,i,o,s){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===s&&(s=null),this.path=t,this.collectionGroup=e,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=o,this.endAt=s,this.kn=null}return t.prototype.canonicalId=function(){if(null===this.kn){var t=this.path.nt();null!==this.collectionGroup&&(t+="|cg:"+this.collectionGroup),t+="|f:";for(var e=0,n=this.filters;e<n.length;e++)t+=n[e].canonicalId(),t+=",";t+="|ob:";for(var r=0,i=this.orderBy;r<i.length;r++)t+=i[r].canonicalId(),t+=",";oe(this.limit)||(t+="|l:",t+=this.limit),this.startAt&&(t+="|lb:",t+=this.startAt.canonicalId()),this.endAt&&(t+="|ub:",t+=this.endAt.canonicalId()),this.kn=t}return this.kn},t.prototype.toString=function(){var t=this.path.nt();return null!==this.collectionGroup&&(t+=" collectionGroup="+this.collectionGroup),this.filters.length>0&&(t+=", filters: ["+this.filters.join(", ")+"]"),oe(this.limit)||(t+=", limit: "+this.limit),this.orderBy.length>0&&(t+=", orderBy: ["+this.orderBy.join(", ")+"]"),this.startAt&&(t+=", startAt: "+this.startAt.canonicalId()),this.endAt&&(t+=", endAt: "+this.endAt.canonicalId()),"Target("+t+")"},t.prototype.isEqual=function(t){if(this.limit!==t.limit)return!1;if(this.orderBy.length!==t.orderBy.length)return!1;for(var e=0;e<this.orderBy.length;e++)if(!this.orderBy[e].isEqual(t.orderBy[e]))return!1;if(this.filters.length!==t.filters.length)return!1;for(e=0;e<this.filters.length;e++)if(!this.filters[e].isEqual(t.filters[e]))return!1;return this.collectionGroup===t.collectionGroup&&!!this.path.isEqual(t.path)&&!(null!==this.startAt?!this.startAt.isEqual(t.startAt):null!==t.startAt)&&(null!==this.endAt?this.endAt.isEqual(t.endAt):null===t.endAt)},t.prototype.Nn=function(){return ft.ht(this.path)&&null===this.collectionGroup&&0===this.filters.length},t}(),ue=function(){function t(t,e,n,r,i,o,s,a){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o="F"),void 0===s&&(s=null),void 0===a&&(a=null),this.path=t,this.collectionGroup=e,this.On=n,this.filters=r,this.limit=i,this.Fn=o,this.startAt=s,this.endAt=a,this.Vn=null,this.Un=null,this.startAt&&this.xn(this.startAt),this.endAt&&this.xn(this.endAt)}return t.jn=function(e){return new t(e)},Object.defineProperty(t.prototype,"orderBy",{get:function(){if(null===this.Vn){var t=this.Ln(),e=this.qn();if(null!==t&&null===e)this.Vn=t.ut()?[be]:[new ye(t),be];else{y(null===t||null!==e&&t.isEqual(e),"First orderBy should match inequality field."),this.Vn=[];for(var n=!1,r=0,i=this.On;r<i.length;r++){var o=i[r];this.Vn.push(o),o.field.ut()&&(n=!0)}n||this.Vn.push((this.On.length>0?this.On[this.On.length-1].dir:me.ASCENDING)===me.ASCENDING?be:we)}}return this.Vn},enumerable:!0,configurable:!0}),t.prototype.Bn=function(e){y(null==this.Ln()||!(e instanceof he)||!e.Mn()||e.field.isEqual(this.Ln()),"Query must only have one inequality field."),y(!this.Nn(),"No filtering allowed for document query");var n=this.filters.concat([e]);return new t(this.path,this.collectionGroup,this.On.slice(),n,this.limit,this.Fn,this.startAt,this.endAt)},t.prototype.Qn=function(e){y(!this.startAt&&!this.endAt,"Bounds must be set after orderBy");var n=this.On.concat([e]);return new t(this.path,this.collectionGroup,n,this.filters.slice(),this.limit,this.Fn,this.startAt,this.endAt)},t.prototype.Gn=function(e){return new t(this.path,this.collectionGroup,this.On.slice(),this.filters.slice(),e,"F",this.startAt,this.endAt)},t.prototype.Wn=function(e){return new t(this.path,this.collectionGroup,this.On.slice(),this.filters.slice(),e,"L",this.startAt,this.endAt)},t.prototype.zn=function(e){return new t(this.path,this.collectionGroup,this.On.slice(),this.filters.slice(),this.limit,this.Fn,e,this.endAt)},t.prototype.Kn=function(e){return new t(this.path,this.collectionGroup,this.On.slice(),this.filters.slice(),this.limit,this.Fn,this.startAt,e)},t.prototype.Hn=function(e){return new t(e,null,this.On.slice(),this.filters.slice(),this.limit,this.Fn,this.startAt,this.endAt)},t.prototype.Jn=function(){return 0===this.filters.length&&null===this.limit&&null==this.startAt&&null==this.endAt&&(0===this.On.length||1===this.On.length&&this.On[0].field.ut())},t.prototype.canonicalId=function(){return this.Yn().canonicalId()+"|lt:"+this.Fn},t.prototype.toString=function(){return"Query(target="+this.Yn().toString()+"; limitType="+this.Fn+")"},t.prototype.isEqual=function(t){return this.Yn().isEqual(t.Yn())&&this.Fn===t.Fn},t.prototype.Xn=function(t,e){for(var n=!1,r=0,i=this.orderBy;r<i.length;r++){var o=i[r],s=o.compare(t,e);if(0!==s)return s;n=n||o.field.ut()}return y(n,"orderBy used that doesn't compare on key field"),0},t.prototype.matches=function(t){return this.$n(t)&&this.Zn(t)&&this.ti(t)&&this.ni(t)},t.prototype.ii=function(){return!oe(this.limit)&&"F"===this.Fn},t.prototype.ei=function(){return!oe(this.limit)&&"L"===this.Fn},t.prototype.qn=function(){return this.On.length>0?this.On[0].field:null},t.prototype.Ln=function(){for(var t=0,e=this.filters;t<e.length;t++){var n=e[t];if(n instanceof he&&n.Mn())return n.field}return null},t.prototype.ri=function(t){for(var e=0,n=this.filters;e<n.length;e++){var r=n[e];if(r instanceof he&&t.indexOf(r.op)>=0)return r.op}return null},t.prototype.Nn=function(){return this.Yn().Nn()},t.prototype.ui=function(){return null!==this.collectionGroup},t.prototype.Yn=function(){if(!this.Un)if("F"===this.Fn)this.Un=new ae(this.path,this.collectionGroup,this.orderBy,this.filters,this.limit,this.startAt,this.endAt);else{for(var t=[],e=0,n=this.orderBy;e<n.length;e++){var r=n[e];t.push(new ye(r.field,r.dir===me.DESCENDING?me.ASCENDING:me.DESCENDING))}var i=this.endAt?new ve(this.endAt.position,!this.endAt.before):null,o=this.startAt?new ve(this.startAt.position,!this.startAt.before):null;this.Un=new ae(this.path,this.collectionGroup,t,this.filters,this.limit,i,o)}return this.Un},t.prototype.$n=function(t){var e=t.key.path;return null!==this.collectionGroup?t.key.ct(this.collectionGroup)&&this.path.$(e):ft.ht(this.path)?this.path.isEqual(e):this.path.Z(e)},t.prototype.Zn=function(t){for(var e=0,n=this.On;e<n.length;e++){var r=n[e];if(!r.field.ut()&&null===t.field(r.field))return!1}return!0},t.prototype.ti=function(t){for(var e=0,n=this.filters;e<n.length;e++)if(!n[e].matches(t))return!1;return!0},t.prototype.ni=function(t){return!(this.startAt&&!this.startAt.si(this.orderBy,t)||this.endAt&&this.endAt.si(this.orderBy,t))},t.prototype.xn=function(t){y(t.position.length<=this.orderBy.length,"Bound is longer than orderBy")},t}(),ce=function(){function t(t){this.name=t}return t.it=function(e){switch(e){case"<":return t.LESS_THAN;case"<=":return t.LESS_THAN_OR_EQUAL;case"==":return t.EQUAL;case">=":return t.GREATER_THAN_OR_EQUAL;case">":return t.GREATER_THAN;case"array-contains":return t.ARRAY_CONTAINS;case"in":return t.IN;case"array-contains-any":return t.ARRAY_CONTAINS_ANY;default:return v("Unknown FieldFilter operator: "+e)}},t.prototype.toString=function(){return this.name},t.prototype.isEqual=function(t){return this.name===t.name},t.LESS_THAN=new t("<"),t.LESS_THAN_OR_EQUAL=new t("<="),t.EQUAL=new t("=="),t.GREATER_THAN=new t(">"),t.GREATER_THAN_OR_EQUAL=new t(">="),t.ARRAY_CONTAINS=new t("array-contains"),t.IN=new t("in"),t.ARRAY_CONTAINS_ANY=new t("array-contains-any"),t}(),he=function(t){function e(e,n,r){var i=t.call(this)||this;return i.field=e,i.op=n,i.value=r,i}return o.__extends(e,t),e.create=function(t,n,r){if(t.ut())return n===ce.IN?(y(r instanceof Qt,"Comparing on key with IN, but filter value not an ArrayValue"),y(r.Ht.every((function(t){return t instanceof Wt})),"Comparing on key with IN, but an array value was not a RefValue"),new fe(t,r)):(y(r instanceof Wt,"Comparing on key, but filter value not a RefValue"),y(n!==ce.ARRAY_CONTAINS&&n!==ce.ARRAY_CONTAINS_ANY,"'"+n.toString()+"' queries don't make sense on document keys."),new le(t,n,r));if(r.isEqual(Lt.yn)){if(n!==ce.EQUAL)throw new A(S.INVALID_ARGUMENT,"Invalid query. Null supports only equality comparisons.");return new e(t,n,r)}if(r.isEqual(qt.Tn)){if(n!==ce.EQUAL)throw new A(S.INVALID_ARGUMENT,"Invalid query. NaN supports only equality comparisons.");return new e(t,n,r)}return n===ce.ARRAY_CONTAINS?new de(t,r):n===ce.IN?(y(r instanceof Qt,"IN filter has invalid value: "+r.toString()),new pe(t,r)):n===ce.ARRAY_CONTAINS_ANY?(y(r instanceof Qt,"ARRAY_CONTAINS_ANY filter has invalid value: "+r.toString()),new ge(t,r)):new e(t,n,r)},e.prototype.matches=function(t){var e=t.field(this.field);return null!==e&&this.value.gn===e.gn&&this.oi(e.h(this.value))},e.prototype.oi=function(t){switch(this.op){case ce.LESS_THAN:return t<0;case ce.LESS_THAN_OR_EQUAL:return t<=0;case ce.EQUAL:return 0===t;case ce.GREATER_THAN:return t>0;case ce.GREATER_THAN_OR_EQUAL:return t>=0;default:return v("Unknown FieldFilter operator: "+this.op)}},e.prototype.Mn=function(){return[ce.LESS_THAN,ce.LESS_THAN_OR_EQUAL,ce.GREATER_THAN,ce.GREATER_THAN_OR_EQUAL].indexOf(this.op)>=0},e.prototype.canonicalId=function(){return this.field.nt()+this.op.toString()+this.value.toString()},e.prototype.isEqual=function(t){return t instanceof e&&this.op.isEqual(t.op)&&this.field.isEqual(t.field)&&this.value.isEqual(t.value)},e.prototype.toString=function(){return this.field.nt()+" "+this.op+" "+this.value.value()},e}((function(){})),le=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o.__extends(e,t),e.prototype.matches=function(t){var e=ft.G(t.key,this.value.key);return this.oi(e)},e}(he),fe=function(t){function e(e,n){var r=t.call(this,e,ce.IN,n)||this;return r.value=n,r}return o.__extends(e,t),e.prototype.matches=function(t){return this.value.Ht.some((function(e){return t.key.isEqual(e.key)}))},e}(he),de=function(t){function e(e,n){return t.call(this,e,ce.ARRAY_CONTAINS,n)||this}return o.__extends(e,t),e.prototype.matches=function(t){var e=t.field(this.field);return e instanceof Qt&&e.contains(this.value)},e}(he),pe=function(t){function e(e,n){var r=t.call(this,e,ce.IN,n)||this;return r.value=n,r}return o.__extends(e,t),e.prototype.matches=function(t){var e=this.value,n=t.field(this.field);return null!==n&&e.contains(n)},e}(he),ge=function(t){function e(e,n){var r=t.call(this,e,ce.ARRAY_CONTAINS_ANY,n)||this;return r.value=n,r}return o.__extends(e,t),e.prototype.matches=function(t){var e=this,n=t.field(this.field);return n instanceof Qt&&n.Ht.some((function(t){return e.value.contains(t)}))},e}(he),me=function(){function t(t){this.name=t}return t.prototype.toString=function(){return this.name},t.ASCENDING=new t("asc"),t.DESCENDING=new t("desc"),t}(),ve=function(){function t(t,e){this.position=t,this.before=e}return t.prototype.canonicalId=function(){for(var t=this.before?"b:":"a:",e=0,n=this.position;e<n.length;e++)t+=n[e].toString();return t},t.prototype.si=function(t,e){y(this.position.length<=t.length,"Bound has more components than query's orderBy");for(var n=0,r=0;r<this.position.length;r++){var i=t[r],o=this.position[r];if(i.field.ut())y(o instanceof Wt,"Bound has a non-key value where the key path is being used."),n=ft.G(o.key,e.key);else{var s=e.field(i.field);y(null!==s,"Field should exist since document matched the orderBy already."),n=o.h(s)}if(i.dir===me.DESCENDING&&(n*=-1),0!==n)break}return this.before?n<=0:n<0},t.prototype.isEqual=function(t){if(null===t)return!1;if(this.before!==t.before||this.position.length!==t.position.length)return!1;for(var e=0;e<this.position.length;e++)if(!this.position[e].isEqual(t.position[e]))return!1;return!0},t}(),ye=function(){function t(t,e){this.field=t,void 0===e&&(e=me.ASCENDING),this.dir=e,this.hi=t.ut()}return t.prototype.compare=function(t,e){var n=this.hi?Xt.Sn(t,e):Xt.Pn(this.field,t,e);switch(this.dir){case me.ASCENDING:return n;case me.DESCENDING:return-1*n;default:return v("Unknown direction: "+this.dir)}},t.prototype.canonicalId=function(){return this.field.nt()+this.dir.toString()},t.prototype.toString=function(){return this.field.nt()+" ("+this.dir+")"},t.prototype.isEqual=function(t){return this.dir===t.dir&&this.field.isEqual(t.field)},t}(),be=new ye(lt.st(),me.ASCENDING),we=new ye(lt.st(),me.DESCENDING),_e=function(){function t(t){this.ci=t}return t.fromBase64String=function(e){return new t(cn.t().atob(e))},t.fromUint8Array=function(e){return new t(Ee(e))},t.prototype.toBase64=function(){return cn.t().btoa(this.ci)},t.prototype.toUint8Array=function(){return Ie(this.ci)},t.prototype.bn=function(){return 2*this.ci.length},t.prototype.isEqual=function(t){return this.ci===t.ci},t.ai=new t(""),t}();function Ee(t){for(var e="",n=0;n<t.length;++n)e+=String.fromCharCode(t[n]);return e}function Ie(t){for(var e=new Uint8Array(t.length),n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}var Ce,Te,Se=function(){function t(t,e,n,r,i,o,s){void 0===i&&(i=at.MIN),void 0===o&&(o=at.MIN),void 0===s&&(s=_e.ai),this.target=t,this.targetId=e,this.fi=n,this.sequenceNumber=r,this.li=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=s}return t.prototype.di=function(e){return new t(this.target,this.targetId,this.fi,e,this.li,this.lastLimboFreeSnapshotVersion,this.resumeToken)},t.prototype.vi=function(e,n){return new t(this.target,this.targetId,this.fi,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e)},t.prototype.wi=function(e){return new t(this.target,this.targetId,this.fi,this.sequenceNumber,this.li,e,this.resumeToken)},t.prototype.isEqual=function(t){return this.targetId===t.targetId&&this.fi===t.fi&&this.sequenceNumber===t.sequenceNumber&&this.li.isEqual(t.li)&&this.lastLimboFreeSnapshotVersion.isEqual(t.lastLimboFreeSnapshotVersion)&&this.resumeToken.isEqual(t.resumeToken)&&this.target.isEqual(t.target)},t}(),Ae=function(){function t(t){this.count=t}return t.prototype.isEqual=function(t){return t&&t.count===this.count},t}();function Oe(t){switch(t){case S.OK:return v("Treated status OK as error");case S.CANCELLED:case S.UNKNOWN:case S.DEADLINE_EXCEEDED:case S.RESOURCE_EXHAUSTED:case S.INTERNAL:case S.UNAVAILABLE:case S.UNAUTHENTICATED:return!1;case S.INVALID_ARGUMENT:case S.NOT_FOUND:case S.ALREADY_EXISTS:case S.PERMISSION_DENIED:case S.FAILED_PRECONDITION:case S.ABORTED:case S.OUT_OF_RANGE:case S.UNIMPLEMENTED:case S.DATA_LOSS:return!0;default:return v("Unknown status code: "+t)}}function Ne(t){if(void 0===t)return g("GRPC error has no .code"),S.UNKNOWN;switch(t){case Ce.OK:return S.OK;case Ce.CANCELLED:return S.CANCELLED;case Ce.UNKNOWN:return S.UNKNOWN;case Ce.DEADLINE_EXCEEDED:return S.DEADLINE_EXCEEDED;case Ce.RESOURCE_EXHAUSTED:return S.RESOURCE_EXHAUSTED;case Ce.INTERNAL:return S.INTERNAL;case Ce.UNAVAILABLE:return S.UNAVAILABLE;case Ce.UNAUTHENTICATED:return S.UNAUTHENTICATED;case Ce.INVALID_ARGUMENT:return S.INVALID_ARGUMENT;case Ce.NOT_FOUND:return S.NOT_FOUND;case Ce.ALREADY_EXISTS:return S.ALREADY_EXISTS;case Ce.PERMISSION_DENIED:return S.PERMISSION_DENIED;case Ce.FAILED_PRECONDITION:return S.FAILED_PRECONDITION;case Ce.ABORTED:return S.ABORTED;case Ce.OUT_OF_RANGE:return S.OUT_OF_RANGE;case Ce.UNIMPLEMENTED:return S.UNIMPLEMENTED;case Ce.DATA_LOSS:return S.DATA_LOSS;default:return v("Unknown status code: "+t)}}function ke(t){if(void 0===t)return Ce.OK;switch(t){case S.OK:return Ce.OK;case S.CANCELLED:return Ce.CANCELLED;case S.UNKNOWN:return Ce.UNKNOWN;case S.DEADLINE_EXCEEDED:return Ce.DEADLINE_EXCEEDED;case S.RESOURCE_EXHAUSTED:return Ce.RESOURCE_EXHAUSTED;case S.INTERNAL:return Ce.INTERNAL;case S.UNAVAILABLE:return Ce.UNAVAILABLE;case S.UNAUTHENTICATED:return Ce.UNAUTHENTICATED;case S.INVALID_ARGUMENT:return Ce.INVALID_ARGUMENT;case S.NOT_FOUND:return Ce.NOT_FOUND;case S.ALREADY_EXISTS:return Ce.ALREADY_EXISTS;case S.PERMISSION_DENIED:return Ce.PERMISSION_DENIED;case S.FAILED_PRECONDITION:return Ce.FAILED_PRECONDITION;case S.ABORTED:return Ce.ABORTED;case S.OUT_OF_RANGE:return Ce.OUT_OF_RANGE;case S.UNIMPLEMENTED:return Ce.UNIMPLEMENTED;case S.DATA_LOSS:return Ce.DATA_LOSS;default:return v("Unknown status code: "+t)}}(Te=Ce||(Ce={}))[Te.OK=0]="OK",Te[Te.CANCELLED=1]="CANCELLED",Te[Te.UNKNOWN=2]="UNKNOWN",Te[Te.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Te[Te.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Te[Te.NOT_FOUND=5]="NOT_FOUND",Te[Te.ALREADY_EXISTS=6]="ALREADY_EXISTS",Te[Te.PERMISSION_DENIED=7]="PERMISSION_DENIED",Te[Te.UNAUTHENTICATED=16]="UNAUTHENTICATED",Te[Te.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Te[Te.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Te[Te.ABORTED=10]="ABORTED",Te[Te.OUT_OF_RANGE=11]="OUT_OF_RANGE",Te[Te.UNIMPLEMENTED=12]="UNIMPLEMENTED",Te[Te.INTERNAL=13]="INTERNAL",Te[Te.UNAVAILABLE=14]="UNAVAILABLE",Te[Te.DATA_LOSS=15]="DATA_LOSS";var xe=new dt(ft.G);function Pe(){return xe}function Re(){return Pe()}var De=new dt(ft.G);function Me(){return De}var Le=new dt(ft.G);function je(){return Le}var Ue=new vt(ft.G);function Ve(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=Ue,r=0,i=t;r<i.length;r++){var o=i[r];n=n.add(o)}return n}var Fe=new vt(w);function qe(){return Fe}var He=function(){function t(t){this.G=t?function(e,n){return t(e,n)||ft.G(e.key,n.key)}:function(t,e){return ft.G(t.key,e.key)},this.mi=Me(),this.pi=new dt(this.G)}return t.gi=function(e){return new t(e.G)},t.prototype.has=function(t){return null!=this.mi.get(t)},t.prototype.get=function(t){return this.mi.get(t)},t.prototype.first=function(){return this.pi.vt()},t.prototype.last=function(){return this.pi.wt()},t.prototype.J=function(){return this.pi.J()},t.prototype.indexOf=function(t){var e=this.mi.get(t);return e?this.pi.indexOf(e):-1},Object.defineProperty(t.prototype,"size",{get:function(){return this.pi.size},enumerable:!0,configurable:!0}),t.prototype.forEach=function(t){this.pi.pt((function(e,n){return t(e),!1}))},t.prototype.add=function(t){var e=this.delete(t.key);return e.copy(e.mi.lt(t.key,t),e.pi.lt(t,null))},t.prototype.delete=function(t){var e=this.get(t);return e?this.copy(this.mi.remove(t),this.pi.remove(e)):this},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.pi.bt(),r=e.pi.bt();n.St();){var i=n.Dt().key,o=r.Dt().key;if(!i.isEqual(o))return!1}return!0},t.prototype.toString=function(){var t=[];return this.forEach((function(e){t.push(e.toString())})),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"},t.prototype.copy=function(e,n){var r=new t;return r.G=this.G,r.mi=e,r.pi=n,r},t}(),Ge=function(){function t(){this.bi=new dt(ft.G)}return t.prototype.track=function(t){var e=t.doc.key,n=this.bi.get(e);n?0!==t.type&&3===n.type?this.bi=this.bi.lt(e,t):3===t.type&&1!==n.type?this.bi=this.bi.lt(e,{type:n.type,doc:t.doc}):2===t.type&&2===n.type?this.bi=this.bi.lt(e,{type:2,doc:t.doc}):2===t.type&&0===n.type?this.bi=this.bi.lt(e,{type:0,doc:t.doc}):1===t.type&&0===n.type?this.bi=this.bi.remove(e):1===t.type&&2===n.type?this.bi=this.bi.lt(e,{type:1,doc:n.doc}):0===t.type&&1===n.type?this.bi=this.bi.lt(e,{type:2,doc:t.doc}):v("unsupported combination of changes: "+JSON.stringify(t)+" after "+JSON.stringify(n)):this.bi=this.bi.lt(e,t)},t.prototype.yi=function(){var t=[];return this.bi.pt((function(e,n){t.push(n)})),t},t}(),Be=function(){function t(t,e,n,r,i,o,s,a){this.query=t,this.docs=e,this._i=n,this.docChanges=r,this.Ii=i,this.fromCache=o,this.Ti=s,this.Ei=a}return t.Di=function(e,n,r,i){var o=[];return n.forEach((function(t){o.push({type:0,doc:t})})),new t(e,n,He.gi(n),o,r,i,!0,!1)},Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return!this.Ii.J()},enumerable:!0,configurable:!0}),t.prototype.isEqual=function(t){if(!(this.fromCache===t.fromCache&&this.Ti===t.Ti&&this.Ii.isEqual(t.Ii)&&this.query.isEqual(t.query)&&this.docs.isEqual(t.docs)&&this._i.isEqual(t._i)))return!1;var e=this.docChanges,n=t.docChanges;if(e.length!==n.length)return!1;for(var r=0;r<e.length;r++)if(e[r].type!==n[r].type||!e[r].doc.isEqual(n[r].doc))return!1;return!0},t}(),ze=function(){function t(t,e,n,r,i){this.li=t,this.Si=e,this.Ri=n,this.Ci=r,this.Ai=i}return t.Pi=function(e,n){var r,i=((r={})[e]=We.ki(e,n),r);return new t(at.MIN,i,qe(),Pe(),Ve())},t}(),We=function(){function t(t,e,n,r,i){this.resumeToken=t,this.Ni=e,this.Oi=n,this.Fi=r,this.Vi=i}return t.ki=function(e,n){return new t(_e.ai,n,Ve(),Ve(),Ve())},t}(),Ke=function(t,e,n,r){this.Ui=t,this.removedTargetIds=e,this.key=n,this.xi=r},$e=function(t,e){this.targetId=t,this.ji=e},Ye=function(t,e,n,r){void 0===n&&(n=_e.ai),void 0===r&&(r=null),this.state=t,this.targetIds=e,this.resumeToken=n,this.cause=r},Qe=function(){function t(){this.Li=0,this.qi=Ze(),this.Bi=_e.ai,this.Mi=!1,this.Qi=!0}return Object.defineProperty(t.prototype,"Ni",{get:function(){return this.Mi},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"resumeToken",{get:function(){return this.Bi},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"Gi",{get:function(){return 0!==this.Li},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"Wi",{get:function(){return this.Qi},enumerable:!0,configurable:!0}),t.prototype.zi=function(t){t.bn()>0&&(this.Qi=!0,this.Bi=t)},t.prototype.Ki=function(){var t=Ve(),e=Ve(),n=Ve();return this.qi.forEach((function(r,i){switch(i){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:n=n.add(r);break;default:v("Encountered invalid change type: "+i)}})),new We(this.Bi,this.Mi,t,e,n)},t.prototype.Hi=function(){this.Qi=!1,this.qi=Ze()},t.prototype.Ji=function(t,e){this.Qi=!0,this.qi=this.qi.lt(t,e)},t.prototype.Yi=function(t){this.Qi=!0,this.qi=this.qi.remove(t)},t.prototype.Xi=function(){this.Li+=1},t.prototype.$i=function(){this.Li-=1},t.prototype.Zi=function(){this.Qi=!0,this.Mi=!0},t}(),Je=function(){function t(t){this.te=t,this.ne={},this.ie=Pe(),this.ee=Xe(),this.re=new vt(w)}return t.prototype.ue=function(t){for(var e=0,n=t.Ui;e<n.length;e++){var r=n[e];t.xi instanceof Xt?this.se(r,t.xi):t.xi instanceof Zt&&this.oe(r,t.key,t.xi)}for(var i=0,o=t.removedTargetIds;i<o.length;i++)this.oe(r=o[i],t.key,t.xi)},t.prototype.he=function(t){var e=this;this.ce(t,(function(n){var r=e.ae(n);switch(t.state){case 0:e.fe(n)&&r.zi(t.resumeToken);break;case 1:r.$i(),r.Gi||r.Hi(),r.zi(t.resumeToken);break;case 2:r.$i(),r.Gi||e.removeTarget(n),y(!t.cause,"WatchChangeAggregator does not handle errored targets");break;case 3:e.fe(n)&&(r.Zi(),r.zi(t.resumeToken));break;case 4:e.fe(n)&&(e.le(n),r.zi(t.resumeToken));break;default:v("Unknown target watch change state: "+t.state)}}))},t.prototype.ce=function(t,e){t.targetIds.length>0?t.targetIds.forEach(e):L(this.ne,e)},t.prototype.de=function(t){var e=t.targetId,n=t.ji.count,r=this.ve(e);if(r){var i=r.target;if(i.Nn())if(0===n){var o=new ft(i.path);this.oe(e,o,new Zt(o,at.q()))}else y(1===n,"Single document existence filter with count: "+n);else this.we(e)!==n&&(this.le(e),this.re=this.re.add(e))}},t.prototype.me=function(t){var e=this,n={};L(this.ne,(function(r,i){var o=e.ve(r);if(o){if(i.Ni&&o.target.Nn()){var s=new ft(o.target.path);null!==e.ie.get(s)||e.pe(r,s)||e.oe(r,s,new Zt(s,t))}i.Wi&&(n[r]=i.Ki(),i.Hi())}}));var r=Ve();this.ee.forEach((function(t,n){var i=!0;n.qt((function(t){var n=e.ve(t);return!n||2===n.fi||(i=!1,!1)})),i&&(r=r.add(t))}));var i=new ze(t,n,this.re,this.ie,r);return this.ie=Pe(),this.ee=Xe(),this.re=new vt(w),i},t.prototype.se=function(t,e){if(this.fe(t)){var n=this.pe(t,e.key)?2:0;this.ae(t).Ji(e.key,n),this.ie=this.ie.lt(e.key,e),this.ee=this.ee.lt(e.key,this.ge(e.key).add(t))}},t.prototype.oe=function(t,e,n){if(this.fe(t)){var r=this.ae(t);this.pe(t,e)?r.Ji(e,1):r.Yi(e),this.ee=this.ee.lt(e,this.ge(e).delete(t)),n&&(this.ie=this.ie.lt(e,n))}},t.prototype.removeTarget=function(t){delete this.ne[t]},t.prototype.we=function(t){var e=this.ae(t).Ki();return this.te.be(t).size+e.Oi.size-e.Vi.size},t.prototype.Xi=function(t){this.ae(t).Xi()},t.prototype.ae=function(t){return this.ne[t]||(this.ne[t]=new Qe),this.ne[t]},t.prototype.ge=function(t){var e=this.ee.get(t);return e||(e=new vt(w),this.ee=this.ee.lt(t,e)),e},t.prototype.fe=function(t){var e=null!==this.ve(t);return e||p("WatchChangeAggregator","Detected inactive target",t),e},t.prototype.ve=function(t){var e=this.ne[t];return e&&e.Gi?null:this.te.ye(t)},t.prototype.le=function(t){var e=this;y(!this.ne[t].Gi,"Should only reset active targets"),this.ne[t]=new Qe,this.te.be(t).forEach((function(n){e.oe(t,n,null)}))},t.prototype.pe=function(t,e){return this.te.be(t).has(e)},t}();function Xe(){return new dt(ft.G)}function Ze(){return new dt(ft.G)}var tn,en,nn=((tn={})[me.ASCENDING.name]="ASCENDING",tn[me.DESCENDING.name]="DESCENDING",tn),rn=((en={})[ce.LESS_THAN.name]="LESS_THAN",en[ce.LESS_THAN_OR_EQUAL.name]="LESS_THAN_OR_EQUAL",en[ce.GREATER_THAN.name]="GREATER_THAN",en[ce.GREATER_THAN_OR_EQUAL.name]="GREATER_THAN_OR_EQUAL",en[ce.EQUAL.name]="EQUAL",en[ce.ARRAY_CONTAINS.name]="ARRAY_CONTAINS",en[ce.IN.name]="IN",en[ce.ARRAY_CONTAINS_ANY.name]="ARRAY_CONTAINS_ANY",en),on=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function sn(t,e){y(!oe(t),e+" is missing")}function an(t){return"number"==typeof t?t:"string"==typeof t?Number(t):v("can't parse "+t)}var un=function(){function t(t,e){this.s=t,this.options=e}return t.prototype._e=function(t){var e=void 0===t.code?S.UNKNOWN:Ne(t.code);return new A(e,t.message||"")},t.prototype.Ie=function(t){return this.options.Te||oe(t)?t:{value:t}},t.prototype.Ee=function(t){var e;return oe(e="object"==typeof t?t.value:t)?null:e},t.prototype.M=function(t){return this.options.Te?new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+t.nanoseconds).slice(-9)+"Z":{seconds:""+t.seconds,nanos:t.nanoseconds}},t.prototype.L=function(t){if("string"==typeof t)return this.De(t);y(!!t,"Cannot deserialize null or undefined timestamp.");var e=an(t.seconds||"0");return new st(e,t.nanos||0)},t.prototype.De=function(t){var e=0,n=on.exec(t);if(y(!!n,"invalid timestamp: "+t),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),e=Number(r)}var i=new Date(t),o=Math.floor(i.getTime()/1e3);return new st(o,e)},t.prototype.Se=function(t){return this.options.Te?t.toBase64():t.toUint8Array()},t.prototype.Re=function(t){return this.options.Te?(y(void 0===t||"string"==typeof t,"value must be undefined or a string when using proto3 Json"),_e.fromBase64String(t||"")):(y(void 0===t||t instanceof Uint8Array,"value must be undefined or Uint8Array"),_e.fromUint8Array(t||new Uint8Array))},t.prototype.Ce=function(t){return"string"==typeof t?(y(this.options.Te,"Expected bytes to be passed in as Uint8Array, but got a string instead."),dn.fromBase64String(t)):(y(!this.options.Te,"Expected bytes to be passed in as Uint8Array, but got a string instead."),dn.fromUint8Array(t))},t.prototype.toVersion=function(t){return this.M(t.M())},t.prototype.fromVersion=function(t){return y(!!t,"Trying to deserialize version that isn't set"),at.L(this.L(t))},t.prototype.Ae=function(t,e){return this.Pe(t).child("documents").child(e).nt()},t.prototype.ke=function(t){var e=ct.it(t);return y(this.Ne(e),"Tried to deserialize invalid key "+e.toString()),e},t.prototype.Oe=function(t){return this.Ae(this.s,t.path)},t.prototype.Fe=function(t){var e=this.ke(t);return y(e.get(1)===this.s.projectId,"Tried to deserialize key from different project: "+e.get(1)+" vs "+this.s.projectId),y(!e.get(3)&&!this.s.database||e.get(3)===this.s.database,"Tried to deserialize key from different database: "+e.get(3)+" vs "+this.s.database),new ft(this.Ve(e))},t.prototype.Ue=function(t){return this.Ae(this.s,t)},t.prototype.xe=function(t){var e=this.ke(t);return 4===e.length?ct.et:this.Ve(e)},Object.defineProperty(t.prototype,"je",{get:function(){return new ct(["projects",this.s.projectId,"databases",this.s.database]).nt()},enumerable:!0,configurable:!0}),t.prototype.Pe=function(t){return new ct(["projects",t.projectId,"databases",t.database])},t.prototype.Ve=function(t){return y(t.length>4&&"documents"===t.get(4),"tried to deserialize invalid key "+t.toString()),t.K(5)},t.prototype.Ne=function(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)},t.prototype.Le=function(t){if(t instanceof Lt)return{nullValue:"NULL_VALUE"};if(t instanceof jt)return{booleanValue:t.value()};if(t instanceof Ft)return{integerValue:""+t.value()};if(t instanceof qt){var e=t.value();if(this.options.Te){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:t.value()}}return t instanceof Ht?{stringValue:t.value()}:t instanceof $t?{mapValue:this.qe(t)}:t instanceof Qt?{arrayValue:this.Be(t)}:t instanceof Gt?{timestampValue:this.M(t.Ht)}:t instanceof Kt?{geoPointValue:{latitude:t.value().latitude,longitude:t.value().longitude}}:t instanceof zt?{bytesValue:this.Se(t.value())}:t instanceof Wt?{referenceValue:this.Ae(t.s,t.key.path)}:v("Unknown FieldValue "+JSON.stringify(t))},t.prototype.Me=function(t){var e=this;if("nullValue"in t)return Lt.yn;if("booleanValue"in t)return jt.of(t.booleanValue);if("integerValue"in t)return new Ft(an(t.integerValue));if("doubleValue"in t){if(this.options.Te){if("NaN"===t.doubleValue)return qt.Tn;if("Infinity"===t.doubleValue)return qt.POSITIVE_INFINITY;if("-Infinity"===t.doubleValue)return qt.NEGATIVE_INFINITY}return new qt(t.doubleValue)}if("stringValue"in t)return new Ht(t.stringValue);if("mapValue"in t)return this.Qe(t.mapValue.fields||{});if("arrayValue"in t)return sn(t.arrayValue,"arrayValue"),new Qt((t.arrayValue.values||[]).map((function(t){return e.Me(t)})));if("timestampValue"in t)return sn(t.timestampValue,"timestampValue"),new Gt(this.L(t.timestampValue));if("geoPointValue"in t)return sn(t.geoPointValue,"geoPointValue"),new Kt(new ot(t.geoPointValue.latitude||0,t.geoPointValue.longitude||0));if("bytesValue"in t){sn(t.bytesValue,"bytesValue");var n=this.Ce(t.bytesValue);return new zt(n)}if("referenceValue"in t){sn(t.referenceValue,"referenceValue");var r=this.ke(t.referenceValue),i=new C(r.get(1),r.get(3)),o=new ft(this.Ve(r));return new Wt(i,o)}return v("Unknown Value proto "+JSON.stringify(t))},t.prototype.Ge=function(t,e){return{name:this.Oe(t),fields:this.We(e)}},t.prototype.ze=function(t){return y(!t.en,"Can't serialize documents with mutations."),{name:this.Oe(t.key),fields:this.We(t.data()),updateTime:this.M(t.version.M())}},t.prototype.Ke=function(t,e){var n=this,r=this.Fe(t.name),i=this.fromVersion(t.updateTime);return new Xt(r,i,{hasCommittedMutations:!!e},void 0,t,(function(t){return n.Me(t)}))},t.prototype.We=function(t){var e=this,n={};return t.forEach((function(t,r){n[t]=e.Le(r)})),n},t.prototype.Qe=function(t){var e=this,n=t,r=$t.vn();return j(n,(function(t,n){r.set(new lt([t]),e.Me(n))})),r.cn()},t.prototype.qe=function(t){return{fields:this.We(t)}},t.prototype.Be=function(t){var e=this,n=[];return t.forEach((function(t){n.push(e.Le(t))})),{values:n}},t.prototype.He=function(t){var e=this;y(!!t.found,"Tried to deserialize a found document from a missing document."),sn(t.found.name,"doc.found.name"),sn(t.found.updateTime,"doc.found.updateTime");var n=this.Fe(t.found.name),r=this.fromVersion(t.found.updateTime);return new Xt(n,r,{},void 0,t.found,(function(t){return e.Me(t)}))},t.prototype.Je=function(t){y(!!t.missing,"Tried to deserialize a missing document from a found document."),y(!!t.readTime,"Tried to deserialize a missing document without a read time.");var e=this.Fe(t.missing),n=this.fromVersion(t.readTime);return new Zt(e,n)},t.prototype.Ye=function(t){return"found"in t?this.He(t):"missing"in t?this.Je(t):v("invalid batch get response: "+JSON.stringify(t))},t.prototype.Xe=function(t){switch(t){case 1:return"ADD";case 3:return"CURRENT";case 0:return"NO_CHANGE";case 2:return"REMOVE";case 4:return"RESET";default:return v("Unknown WatchTargetChangeState: "+t)}},t.prototype.$e=function(t){if(t instanceof $e)return{filter:{count:t.ji.count,targetId:t.targetId}};if(t instanceof Ke){if(t.xi instanceof Xt){var e=t.xi;return{documentChange:{document:{name:this.Oe(e.key),fields:this.We(e.data()),updateTime:this.toVersion(e.version)},targetIds:t.Ui,removedTargetIds:t.removedTargetIds}}}if(t.xi instanceof Zt)return{documentDelete:{document:this.Oe((e=t.xi).key),readTime:this.toVersion(e.version),removedTargetIds:t.removedTargetIds}};if(null===t.xi)return{documentRemove:{document:this.Oe(t.key),removedTargetIds:t.removedTargetIds}}}if(t instanceof Ye){var n=void 0;return t.cause&&(n={code:ke(t.cause.code),message:t.cause.message}),{targetChange:{targetChangeType:this.Xe(t.state),targetIds:t.targetIds,resumeToken:this.Se(t.resumeToken),cause:n}}}return v("Unrecognized watch change: "+JSON.stringify(t))},t.prototype.Ze=function(t){var e,n=this;if("targetChange"in t){sn(t.targetChange,"targetChange");var r=this.tr(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],o=this.Re(t.targetChange.resumeToken),s=t.targetChange.cause,a=s&&this._e(s);e=new Ye(r,i,o,a||null)}else if("documentChange"in t){sn(t.documentChange,"documentChange");var u=t.documentChange;sn(u.document,"documentChange.name"),sn(u.document.name,"documentChange.document.name"),sn(u.document.updateTime,"documentChange.document.updateTime");var c=this.Fe(u.document.name),h=this.fromVersion(u.document.updateTime),l=new Xt(c,h,{},void 0,u.document,(function(t){return n.Me(t)})),f=u.removedTargetIds||[];e=new Ke(u.targetIds||[],f,l.key,l)}else if("documentDelete"in t){sn(t.documentDelete,"documentDelete");var d=t.documentDelete;sn(d.document,"documentDelete.document"),c=this.Fe(d.document),h=d.readTime?this.fromVersion(d.readTime):at.q(),l=new Zt(c,h),e=new Ke([],f=d.removedTargetIds||[],l.key,l)}else if("documentRemove"in t){sn(t.documentRemove,"documentRemove");var p=t.documentRemove;sn(p.document,"documentRemove"),c=this.Fe(p.document),e=new Ke([],f=p.removedTargetIds||[],c,null)}else{if(!("filter"in t))return v("Unknown change type "+JSON.stringify(t));sn(t.filter,"filter");var g=t.filter;sn(g.targetId,"filter.targetId");var m=new Ae(g.count||0);e=new $e(g.targetId,m)}return e},t.prototype.tr=function(t){return"NO_CHANGE"===t?0:"ADD"===t?1:"REMOVE"===t?2:"CURRENT"===t?3:"RESET"===t?4:v("Got unexpected TargetChange.state: "+t)},t.prototype.nr=function(t){if(!("targetChange"in t))return at.MIN;var e=t.targetChange;return e.targetIds&&e.targetIds.length?at.MIN:e.readTime?this.fromVersion(e.readTime):at.MIN},t.prototype.ir=function(t){var e,n=this;if(t instanceof Nt)e={update:this.Ge(t.key,t.value)};else if(t instanceof Pt)e={delete:this.Oe(t.key)};else if(t instanceof kt)e={update:this.Ge(t.key,t.data),updateMask:this.er(t.un)};else if(t instanceof xt)e={transform:{document:this.Oe(t.key),fieldTransforms:t.fieldTransforms.map((function(t){return n.rr(t)}))}};else{if(!(t instanceof Rt))return v("Unknown mutation type "+t.type);e={verify:this.Oe(t.key)}}return t.in.$t||(e.currentDocument=this.ur(t.in)),e},t.prototype.sr=function(t){var e=this,n=t.currentDocument?this.or(t.currentDocument):At.NONE;if(t.update){sn(t.update.name,"name");var r=this.Fe(t.update.name),i=this.Qe(t.update.fields||{});if(t.updateMask){var o=this.hr(t.updateMask);return new kt(r,i,o,n)}return new Nt(r,i,n)}if(t.delete)return r=this.Fe(t.delete),new Pt(r,n);if(t.transform){r=this.Fe(t.transform.document);var s=t.transform.fieldTransforms.map((function(t){return e.cr(t)}));return y(!0===n.exists,'Transforms only support precondition "exists == true"'),new xt(r,s)}return t.verify?(r=this.Fe(t.verify),new Rt(r,n)):v("unknown mutation proto: "+JSON.stringify(t))},t.prototype.ur=function(t){return y(!t.$t,"Can't serialize an empty precondition"),void 0!==t.updateTime?{updateTime:this.toVersion(t.updateTime)}:void 0!==t.exists?{exists:t.exists}:v("Unknown precondition")},t.prototype.or=function(t){return void 0!==t.updateTime?At.updateTime(this.fromVersion(t.updateTime)):void 0!==t.exists?At.exists(t.exists):At.NONE},t.prototype.ar=function(t,e){var n=this,r=this.fromVersion(t.updateTime?t.updateTime:e);r.isEqual(at.MIN)&&(r=this.fromVersion(e));var i=null;return t.transformResults&&t.transformResults.length>0&&(i=t.transformResults.map((function(t){return n.Me(t)}))),new St(r,i)},t.prototype.lr=function(t,e){var n=this;return t&&t.length>0?(y(void 0!==e,"Received a write result without a commit time"),t.map((function(t){return n.ar(t,e)}))):[]},t.prototype.rr=function(t){var e=this,n=t.transform;if(n instanceof bt)return{fieldPath:t.field.nt(),setToServerValue:"REQUEST_TIME"};if(n instanceof wt)return{fieldPath:t.field.nt(),appendMissingElements:{values:n.elements.map((function(t){return e.Le(t)}))}};if(n instanceof _t)return{fieldPath:t.field.nt(),removeAllFromArray:{values:n.elements.map((function(t){return e.Le(t)}))}};if(n instanceof Et)return{fieldPath:t.field.nt(),increment:this.Le(n.Kt)};throw v("Unknown transform: "+t.transform)},t.prototype.cr=function(t){var e=this,n=null;if("setToServerValue"in t)y("REQUEST_TIME"===t.setToServerValue,"Unknown server value transform proto: "+JSON.stringify(t)),n=bt.instance;else if("appendMissingElements"in t){var r=t.appendMissingElements.values||[];n=new wt(r.map((function(t){return e.Me(t)})))}else if("removeAllFromArray"in t)n=new _t((r=t.removeAllFromArray.values||[]).map((function(t){return e.Me(t)})));else if("increment"in t){var i=this.Me(t.increment);y(i instanceof Ut,"NUMERIC_ADD transform requires a NumberValue"),n=new Et(i)}else v("Unknown transform proto: "+JSON.stringify(t));var o=lt.ot(t.fieldPath);return new Tt(o,n)},t.prototype.dr=function(t){return{documents:[this.Ue(t.path)]}},t.prototype.vr=function(t){var e=t.documents.length;return y(1===e,"DocumentsTarget contained other than 1 document: "+e),ue.jn(this.xe(t.documents[0])).Yn()},t.prototype.wr=function(t){var e={structuredQuery:{}},n=t.path;null!==t.collectionGroup?(y(n.length%2==0,"Collection Group queries should be within a document path or root."),e.parent=this.Ue(n),e.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(y(n.length%2!=0,"Document queries with filters are not supported."),e.parent=this.Ue(n.H()),e.structuredQuery.from=[{collectionId:n.X()}]);var r=this.mr(t.filters);r&&(e.structuredQuery.where=r);var i=this.pr(t.orderBy);i&&(e.structuredQuery.orderBy=i);var o=this.Ie(t.limit);return null!==o&&(e.structuredQuery.limit=o),t.startAt&&(e.structuredQuery.startAt=this.gr(t.startAt)),t.endAt&&(e.structuredQuery.endAt=this.gr(t.endAt)),e},t.prototype.br=function(t){var e=this.xe(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){y(1===r,"StructuredQuery.from with more than one collection is not supported.");var o=n.from[0];o.allDescendants?i=o.collectionId:e=e.child(o.collectionId)}var s=[];n.where&&(s=this.yr(n.where));var a=[];n.orderBy&&(a=this._r(n.orderBy));var u=null;n.limit&&(u=this.Ee(n.limit));var c=null;n.startAt&&(c=this.Ir(n.startAt));var h=null;return n.endAt&&(h=this.Ir(n.endAt)),new ue(e,i,a,s,u,"F",c,h).Yn()},t.prototype.Tr=function(t){var e=this.Er(t.fi);return null==e?null:{"goog-listen-tags":e}},t.prototype.Er=function(t){switch(t){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return v("Unrecognized query purpose: "+t)}},t.prototype.Yn=function(t){var e,n=t.target;return(e=n.Nn()?{documents:this.dr(n)}:{query:this.wr(n)}).targetId=t.targetId,t.resumeToken.bn()>0&&(e.resumeToken=this.Se(t.resumeToken)),e},t.prototype.mr=function(t){var e=this;if(0!==t.length){var n=t.map((function(t){return t instanceof he?e.Dr(t):v("Unrecognized filter: "+JSON.stringify(t))}));return 1===n.length?n[0]:{compositeFilter:{op:"AND",filters:n}}}},t.prototype.yr=function(t){var e=this;return t?void 0!==t.unaryFilter?[this.Sr(t)]:void 0!==t.fieldFilter?[this.Rr(t)]:void 0!==t.compositeFilter?t.compositeFilter.filters.map((function(t){return e.yr(t)})).reduce((function(t,e){return t.concat(e)})):v("Unknown filter: "+JSON.stringify(t)):[]},t.prototype.pr=function(t){var e=this;if(0!==t.length)return t.map((function(t){return e.Cr(t)}))},t.prototype._r=function(t){var e=this;return t.map((function(t){return e.Ar(t)}))},t.prototype.gr=function(t){var e=this;return{before:t.before,values:t.position.map((function(t){return e.Le(t)}))}},t.prototype.Ir=function(t){var e=this,n=!!t.before,r=t.values.map((function(t){return e.Me(t)}));return new ve(r,n)},t.prototype.Pr=function(t){return nn[t.name]},t.prototype.kr=function(t){switch(t){case"ASCENDING":return me.ASCENDING;case"DESCENDING":return me.DESCENDING;default:return}},t.prototype.Nr=function(t){return rn[t.name]},t.prototype.Or=function(t){switch(t){case"EQUAL":return ce.EQUAL;case"GREATER_THAN":return ce.GREATER_THAN;case"GREATER_THAN_OR_EQUAL":return ce.GREATER_THAN_OR_EQUAL;case"LESS_THAN":return ce.LESS_THAN;case"LESS_THAN_OR_EQUAL":return ce.LESS_THAN_OR_EQUAL;case"ARRAY_CONTAINS":return ce.ARRAY_CONTAINS;case"IN":return ce.IN;case"ARRAY_CONTAINS_ANY":return ce.ARRAY_CONTAINS_ANY;case"OPERATOR_UNSPECIFIED":return v("Unspecified operator");default:return v("Unknown operator")}},t.prototype.Fr=function(t){return{fieldPath:t.nt()}},t.prototype.Vr=function(t){return lt.ot(t.fieldPath)},t.prototype.Cr=function(t){return{field:this.Fr(t.field),direction:this.Pr(t.dir)}},t.prototype.Ar=function(t){return new ye(this.Vr(t.field),this.kr(t.direction))},t.prototype.Rr=function(t){return he.create(this.Vr(t.fieldFilter.field),this.Or(t.fieldFilter.op),this.Me(t.fieldFilter.value))},t.prototype.Dr=function(t){if(t.op===ce.EQUAL){if(t.value.isEqual(qt.Tn))return{unaryFilter:{field:this.Fr(t.field),op:"IS_NAN"}};if(t.value.isEqual(Lt.yn))return{unaryFilter:{field:this.Fr(t.field),op:"IS_NULL"}}}return{fieldFilter:{field:this.Fr(t.field),op:this.Nr(t.op),value:this.Le(t.value)}}},t.prototype.Sr=function(t){switch(t.unaryFilter.op){case"IS_NAN":var e=this.Vr(t.unaryFilter.field);return he.create(e,ce.EQUAL,qt.Tn);case"IS_NULL":var n=this.Vr(t.unaryFilter.field);return he.create(n,ce.EQUAL,Lt.yn);case"OPERATOR_UNSPECIFIED":return v("Unspecified filter");default:return v("Unknown filter")}},t.prototype.er=function(t){var e=[];return t.fields.forEach((function(t){return e.push(t.nt())})),{fieldPaths:e}},t.prototype.hr=function(t){var e=(t.fieldPaths||[]).map((function(t){return lt.ot(t)}));return Ct.Yt(e)},t}(),cn=function(){function t(){}return t.Ur=function(e){t.platform&&v("Platform already defined"),t.platform=e},t.t=function(){return t.platform||v("Platform not set"),t.platform},t}();function hn(t,e){function n(){var t="This constructor is private.";throw e&&(t+=" ",t+=e),new A(S.INVALID_ARGUMENT,t)}return n.prototype=t.prototype,Object.assign(n,t),n}function ln(){if("undefined"==typeof Uint8Array)throw new A(S.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function fn(){if(!cn.t().xr)throw new A(S.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var dn=function(){function t(t){fn(),this.ci=t}return t.fromBase64String=function(e){F("Blob.fromBase64String",arguments,1),B("Blob.fromBase64String","string",1,e),fn();try{var n=cn.t().atob(e);return new t(n)}catch(t){throw new A(S.INVALID_ARGUMENT,"Failed to construct Blob from Base64 string: "+t)}},t.fromUint8Array=function(e){if(F("Blob.fromUint8Array",arguments,1),ln(),!(e instanceof Uint8Array))throw et("Blob.fromUint8Array","Uint8Array",1,e);var n=Ee(e);return new t(n)},t.prototype.toBase64=function(){return F("Blob.toBase64",arguments,0),fn(),cn.t().btoa(this.ci)},t.prototype.toUint8Array=function(){F("Blob.toUint8Array",arguments,0),ln();var t=Ie(this.ci);return t},t.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},t.prototype.isEqual=function(t){return this.ci===t.ci},t.prototype.Dn=function(){return 2*this.ci.length},t.prototype.U=function(t){return w(this.ci,t.ci)},t}(),pn=hn(dn,"Use Blob.fromUint8Array() or Blob.fromBase64String() instead."),gn=function(){function t(t,e){var n=this;this.previousValue=t,e&&(e.jr=function(t){return n.Lr(t)},this.qr=function(t){return e.Br(t)})}return t.prototype.Lr=function(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue},t.prototype.next=function(){var t=++this.previousValue;return this.qr&&this.qr(t),t},t.Mr=-1,t}(),mn=function(){var t=this;this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))},vn=function(){function t(t,e,n,r,i){this.Qr=t,this.Gr=e,this.Wr=n,this.op=r,this.zr=i,this.Kr=new mn,this.then=this.Kr.promise.then.bind(this.Kr.promise),this.catch=this.Kr.promise.catch.bind(this.Kr.promise),this.Kr.promise.catch((function(t){}))}return t.Hr=function(e,n,r,i,o){var s=new t(e,n,Date.now()+r,i,o);return s.start(r),s},t.prototype.start=function(t){var e=this;this.Jr=setTimeout((function(){return e.Yr()}),t)},t.prototype.Xr=function(){return this.Yr()},t.prototype.cancel=function(t){null!==this.Jr&&(this.clearTimeout(),this.Kr.reject(new A(S.CANCELLED,"Operation cancelled"+(t?": "+t:""))))},t.prototype.Yr=function(){var t=this;this.Qr.$r((function(){return null!==t.Jr?(t.clearTimeout(),t.op().then((function(e){return t.Kr.resolve(e)}))):Promise.resolve()}))},t.prototype.clearTimeout=function(){null!==this.Jr&&(this.zr(this),clearTimeout(this.Jr),this.Jr=null)},t}(),yn=function(){function t(){this.Zr=Promise.resolve(),this.tu=!1,this.nu=[],this.iu=null,this.eu=!1,this.ru=[]}return Object.defineProperty(t.prototype,"uu",{get:function(){return this.tu},enumerable:!0,configurable:!0}),t.prototype.$r=function(t){this.enqueue(t)},t.prototype.su=function(t){this.ou(),this.hu(t)},t.prototype.cu=function(t){return this.ou(),this.hu(t)},t.prototype.au=function(t){return o.__awaiter(this,void 0,void 0,(function(){return o.__generator(this,(function(e){switch(e.label){case 0:return this.ou(),this.tu?[3,2]:(this.tu=!0,[4,this.cu(t)]);case 1:e.sent(),e.label=2;case 2:return[2]}}))}))},t.prototype.enqueue=function(t){return this.ou(),this.tu?new Promise((function(t){})):this.hu(t)},t.prototype.hu=function(t){var e=this,n=this.Zr.then((function(){return e.eu=!0,t().catch((function(t){e.iu=t,e.eu=!1;var n=t.stack||t.message||"";throw g("INTERNAL UNHANDLED ERROR: ",n),n.indexOf("Firestore Test Simulated Error")<0&&setTimeout((function(){throw t}),0),t})).then((function(t){return e.eu=!1,t}))}));return this.Zr=n,n},t.prototype.fu=function(t,e,n){var r=this;this.ou(),y(e>=0,"Attempted to schedule an operation with a negative delay of "+e),this.ru.indexOf(t)>-1&&(e=0);var i=vn.Hr(this,t,e,n,(function(t){return r.lu(t)}));return this.nu.push(i),i},t.prototype.ou=function(){this.iu&&v("AsyncQueue is already failed: "+(this.iu.stack||this.iu.message))},t.prototype.du=function(){y(this.eu,"verifyOpInProgress() called when no op in progress on this queue.")},t.prototype.vu=function(){return o.__awaiter(this,void 0,void 0,(function(){var t;return o.__generator(this,(function(e){switch(e.label){case 0:return[4,t=this.Zr];case 1:e.sent(),e.label=2;case 2:if(t!==this.Zr)return[3,0];e.label=3;case 3:return[2]}}))}))},t.prototype.wu=function(t){for(var e=0,n=this.nu;e<n.length;e++)if(n[e].Gr===t)return!0;return!1},t.prototype.mu=function(t){var e=this;return this.vu().then((function(){y("all"===t||e.wu(t),"Attempted to drain to missing operation "+t),e.nu.sort((function(t,e){return t.Wr-e.Wr}));for(var n=0,r=e.nu;n<r.length;n++){var i=r[n];if(i.Xr(),"all"!==t&&i.Gr===t)break}return e.vu()}))},t.prototype.pu=function(t){this.ru.push(t)},t.prototype.lu=function(t){var e=this.nu.indexOf(t);y(e>=0,"Delayed operation not found."),this.nu.splice(e,1)},t}();function bn(t){for(var e="",n=0;n<t.length;n++)e.length>0&&(e=_n(e)),e=wn(t.get(n),e);return _n(e)}function wn(t,e){for(var n=e,r=t.length,i=0;i<r;i++){var o=t.charAt(i);switch(o){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=o}}return n}function _n(t){return t+"\x01\x01"}function En(t){var e=t.length;if(y(e>=2,"Invalid path "+t),2===e)return y("\x01"===t.charAt(0)&&"\x01"===t.charAt(1),"Non-empty path "+t+" had length 2"),ct.et;for(var n=e-2,r=[],i="",o=0;o<e;){var s=t.indexOf("\x01",o);switch((s<0||s>n)&&v('Invalid encoded resource path: "'+t+'"'),t.charAt(s+1)){case"\x01":var a=t.substring(o,s),u=void 0;0===i.length?u=a:(u=i+=a,i=""),r.push(u);break;case"\x10":i+=t.substring(o,s),i+="\0";break;case"\x11":i+=t.substring(o,s+1);break;default:v('Invalid encoded resource path: "'+t+'"')}o=s+2}return new ct(r)}var In=function(){function t(t,e,n,r){this.batchId=t,this.En=e,this.baseMutations=n,this.mutations=r,y(r.length>0,"Cannot create an empty mutation batch")}return t.prototype.Wt=function(t,e,n){e&&y(e.key.isEqual(t),"applyToRemoteDocument: key "+t+" should match maybeDoc key\n        "+e.key);var r=n.gu;y(r.length===this.mutations.length,"Mismatch between mutations length\n      ("+this.mutations.length+") and mutation results length\n      ("+r.length+").");for(var i=0;i<this.mutations.length;i++){var o=this.mutations[i];o.key.isEqual(t)&&(e=o.Wt(e,r[i]))}return e},t.prototype.Gt=function(t,e){e&&y(e.key.isEqual(t),"applyToLocalDocument: key "+t+" should match maybeDoc key\n        "+e.key);for(var n=0,r=this.baseMutations;n<r.length;n++)(a=r[n]).key.isEqual(t)&&(e=a.Gt(e,e,this.En));for(var i=e,o=0,s=this.mutations;o<s.length;o++){var a;(a=s[o]).key.isEqual(t)&&(e=a.Gt(e,i,this.En))}return e},t.prototype.bu=function(t){var e=this,n=t;return this.mutations.forEach((function(r){var i=e.Gt(r.key,t.get(r.key));i&&(n=n.lt(r.key,i))})),n},t.prototype.keys=function(){return this.mutations.reduce((function(t,e){return t.add(e.key)}),Ve())},t.prototype.isEqual=function(t){return this.batchId===t.batchId&&_(this.mutations,t.mutations)&&_(this.baseMutations,t.baseMutations)},t}(),Cn=function(){function t(t,e,n,r,i){this.batch=t,this.yu=e,this.gu=n,this.streamToken=r,this._u=i}return t.from=function(e,n,r,i){y(e.mutations.length===r.length,"Mutations sent "+e.mutations.length+" must equal results received "+r.length);for(var o=je(),s=e.mutations,a=0;a<s.length;a++)o=o.lt(s[a].key,r[a].version);return new t(e,n,r,i,o)},t}(),Tn=function(){function t(){this.Iu=new vt(Sn.Sn),this.Tu=new vt(Sn.Eu)}return t.prototype.J=function(){return this.Iu.J()},t.prototype.Du=function(t,e){var n=new Sn(t,e);this.Iu=this.Iu.add(n),this.Tu=this.Tu.add(n)},t.prototype.Su=function(t,e){var n=this;t.forEach((function(t){return n.Du(t,e)}))},t.prototype.Ru=function(t,e){this.Cu(new Sn(t,e))},t.prototype.Au=function(t,e){var n=this;t.forEach((function(t){return n.Ru(t,e)}))},t.prototype.Pu=function(t){var e=this,n=ft.EMPTY,r=new Sn(n,t),i=new Sn(n,t+1),o=[];return this.Tu.Lt([r,i],(function(t){e.Cu(t),o.push(t.key)})),o},t.prototype.ku=function(){var t=this;this.Iu.forEach((function(e){return t.Cu(e)}))},t.prototype.Cu=function(t){this.Iu=this.Iu.delete(t),this.Tu=this.Tu.delete(t)},t.prototype.Nu=function(t){var e=ft.EMPTY,n=new Sn(e,t),r=new Sn(e,t+1),i=Ve();return this.Tu.Lt([n,r],(function(t){i=i.add(t.key)})),i},t.prototype.Ou=function(t){var e=new Sn(t,0),n=this.Iu.Bt(e);return null!==n&&t.isEqual(n.key)},t}(),Sn=function(){function t(t,e){this.key=t,this.Fu=e}return t.Sn=function(t,e){return ft.G(t.key,e.key)||w(t.Fu,e.Fu)},t.Eu=function(t,e){return w(t.Fu,e.Fu)||ft.G(t.key,e.key)},t}(),An=function(){function t(t){this.Vu=t,this.Uu={}}return t.prototype.get=function(t){var e=this.Vu(t),n=this.Uu[e];if(void 0!==n)for(var r=0,i=n;r<i.length;r++){var o=i[r],s=o[1];if(o[0].isEqual(t))return s}},t.prototype.has=function(t){return void 0!==this.get(t)},t.prototype.set=function(t,e){var n=this.Vu(t),r=this.Uu[n];if(void 0!==r){for(var i=0;i<r.length;i++)if(r[i][0].isEqual(t))return void(r[i]=[t,e]);r.push([t,e])}else this.Uu[n]=[[t,e]]},t.prototype.delete=function(t){var e=this.Vu(t),n=this.Uu[e];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(n[r][0].isEqual(t))return 1===n.length?delete this.Uu[e]:n.splice(r,1),!0;return!1},t.prototype.forEach=function(t){j(this.Uu,(function(e,n){for(var r=0,i=n;r<i.length;r++){var o=i[r];t(o[0],o[1])}}))},t.prototype.J=function(){return U(this.Uu)},t}(),On=function(){function t(t){var e=this;this.xu=null,this.ju=null,this.result=void 0,this.error=void 0,this.Lu=!1,this.qu=!1,t((function(t){e.Lu=!0,e.result=t,e.xu&&e.xu(t)}),(function(t){e.Lu=!0,e.error=t,e.ju&&e.ju(t)}))}return t.prototype.catch=function(t){return this.next(void 0,t)},t.prototype.next=function(e,n){var r=this;return this.qu&&v("Called next() or catch() twice for PersistencePromise"),this.qu=!0,this.Lu?this.error?this.Bu(n,this.error):this.Mu(e,this.result):new t((function(t,i){r.xu=function(n){r.Mu(e,n).next(t,i)},r.ju=function(e){r.Bu(n,e).next(t,i)}}))},t.prototype.Qu=function(){var t=this;return new Promise((function(e,n){t.next(e,n)}))},t.prototype.Gu=function(e){try{var n=e();return n instanceof t?n:t.resolve(n)}catch(e){return t.reject(e)}},t.prototype.Mu=function(e,n){return e?this.Gu((function(){return e(n)})):t.resolve(n)},t.prototype.Bu=function(e,n){return e?this.Gu((function(){return e(n)})):t.reject(n)},t.resolve=function(e){return new t((function(t,n){t(e)}))},t.reject=function(e){return new t((function(t,n){n(e)}))},t.Wu=function(e){return new t((function(t,n){var r=0,i=0,o=!1;e.forEach((function(e){++r,e.next((function(){++i,o&&i===r&&t()}),(function(t){return n(t)}))})),o=!0,i===r&&t()}))},t.zu=function(e){for(var n=t.resolve(!1),r=function(e){n=n.next((function(n){return n?t.resolve(n):e()}))},i=0,o=e;i<o.length;i++)r(o[i]);return n},t.forEach=function(t,e){var n=this,r=[];return t.forEach((function(t,i){r.push(e.call(n,t,i))})),this.Wu(r)},t}(),Nn=function(){function t(){this.Ku=new An((function(t){return t.toString()})),this.Hu=!1}return Object.defineProperty(t.prototype,"readTime",{get:function(){return y(void 0!==this.Ju,"Read time is not set. All removeEntry() calls must include a readTime if `trackRemovals` is used."),this.Ju},set:function(t){y(void 0===this.Ju||this.Ju.isEqual(t),"All changes in a RemoteDocumentChangeBuffer must have the same read time"),this.Ju=t},enumerable:!0,configurable:!0}),t.prototype.Yu=function(t,e){this.Xu(),this.readTime=e,this.Ku.set(t.key,t)},t.prototype.$u=function(t,e){this.Xu(),e&&(this.readTime=e),this.Ku.set(t,null)},t.prototype.Zu=function(t,e){this.Xu();var n=this.Ku.get(e);return void 0!==n?On.resolve(n):this.ts(t,e)},t.prototype.getEntries=function(t,e){return this.ns(t,e)},t.prototype.apply=function(t){return this.Xu(),this.Hu=!0,this.es(t)},t.prototype.Xu=function(){y(!this.Hu,"Changes have already been applied.")},t}(),kn="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",xn=function(){function t(){this.rs=[]}return t.prototype.us=function(t){this.rs.push(t)},t.prototype.ss=function(){this.rs.forEach((function(t){return t()}))},t}(),Pn=function(){function t(e){this.db=e,12.2===t.os(a.getUA())&&g("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return t.hs=function(e,n,r){return y(t.cs(),"IndexedDB not supported in current environment."),p("SimpleDb","Opening database:",e),new On((function(i,o){var s=window.indexedDB.open(e,n);s.onsuccess=function(e){i(new t(e.target.result))},s.onblocked=function(){o(new A(S.FAILED_PRECONDITION,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},s.onerror=function(t){var e=t.target.error;o("VersionError"===e.name?new A(S.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):e)},s.onupgradeneeded=function(t){p("SimpleDb",'Database "'+e+'" requires upgrade from version:',t.oldVersion),r.createOrUpgrade(t.target.result,s.transaction,t.oldVersion,pr).next((function(){p("SimpleDb","Database upgrade to version "+pr+" complete")}))}})).Qu()},t.delete=function(t){return p("SimpleDb","Removing database:",t),Ln(window.indexedDB.deleteDatabase(t)).Qu()},t.cs=function(){if("undefined"==typeof window||null==window.indexedDB)return!1;if(t.as())return!0;if(void 0===window.navigator)return!1;var e=a.getUA(),n=t.os(e),r=0<n&&n<10,i=t.fs(e),o=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||o)},t.as=function(){var t;return"undefined"!=typeof process&&"YES"===(null===(t=process.env)||void 0===t?void 0:t.ls)},t.ds=function(t,e){return t.store(e)},t.os=function(t){var e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(n)},t.fs=function(t){var e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)},t.prototype.vs=function(t){this.db.onversionchange=function(e){return t(e)}},t.prototype.runTransaction=function(t,e,n){return o.__awaiter(this,void 0,void 0,(function(){var r,i,s,a,u,c;return o.__generator(this,(function(h){switch(h.label){case 0:r=t.startsWith("readonly"),i=t.endsWith("idempotent"),s=0,a=function(){var t,a,c,h;return o.__generator(this,(function(o){switch(o.label){case 0:++s,t=Dn.open(u.db,r?"readonly":"readwrite",e),o.label=1;case 1:return o.trys.push([1,3,,4]),(a=n(t).catch((function(e){return t.abort(e),On.reject(e)})).Qu()).catch((function(){})),[4,t.ws];case 2:return o.sent(),[2,{value:a}];case 3:return p("SimpleDb","Transaction failed with error: %s. Retrying: %s.",(c=o.sent()).message,h=i&&"FirebaseError"!==c.name&&s<3),h?[3,4]:[2,{value:Promise.reject(c)}];case 4:return[2]}}))},u=this,h.label=1;case 1:return[5,a()];case 2:return"object"==typeof(c=h.sent())?[2,c.value]:[3,1];case 3:return[2]}}))}))},t.prototype.close=function(){this.db.close()},t}(),Rn=function(){function t(t){this.ms=t,this.ps=!1,this.gs=null}return Object.defineProperty(t.prototype,"Lu",{get:function(){return this.ps},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"bs",{get:function(){return this.gs},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"cursor",{set:function(t){this.ms=t},enumerable:!0,configurable:!0}),t.prototype.done=function(){this.ps=!0},t.prototype.ys=function(t){this.gs=t},t.prototype.delete=function(){return Ln(this.ms.delete())},t}(),Dn=function(){function t(t){var e=this;this.transaction=t,this.aborted=!1,this._s=new mn,this.transaction.oncomplete=function(){e._s.resolve()},this.transaction.onabort=function(){t.error?e._s.reject(t.error):e._s.resolve()},this.transaction.onerror=function(t){var n=Un(t.target.error);e._s.reject(n)}}return t.open=function(e,n,r){return new t(e.transaction(r,n))},Object.defineProperty(t.prototype,"ws",{get:function(){return this._s.promise},enumerable:!0,configurable:!0}),t.prototype.abort=function(t){t&&this._s.reject(t),this.aborted||(p("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},t.prototype.store=function(t){var e=this.transaction.objectStore(t);return y(!!e,"Object store not part of transaction: "+t),new Mn(e)},t}(),Mn=function(){function t(t){this.store=t}return t.prototype.put=function(t,e){var n;return void 0!==e?(p("SimpleDb","PUT",this.store.name,t,e),n=this.store.put(e,t)):(p("SimpleDb","PUT",this.store.name,"<auto-key>",t),n=this.store.put(t)),Ln(n)},t.prototype.add=function(t){return p("SimpleDb","ADD",this.store.name,t,t),Ln(this.store.add(t))},t.prototype.get=function(t){var e=this;return Ln(this.store.get(t)).next((function(n){return void 0===n&&(n=null),p("SimpleDb","GET",e.store.name,t,n),n}))},t.prototype.delete=function(t){return p("SimpleDb","DELETE",this.store.name,t),Ln(this.store.delete(t))},t.prototype.count=function(){return p("SimpleDb","COUNT",this.store.name),Ln(this.store.count())},t.prototype.Is=function(t,e){var n=this.cursor(this.options(t,e)),r=[];return this.Ts(n,(function(t,e){r.push(e)})).next((function(){return r}))},t.prototype.Es=function(t,e){p("SimpleDb","DELETE ALL",this.store.name);var n=this.options(t,e);n.Ds=!1;var r=this.cursor(n);return this.Ts(r,(function(t,e,n){return n.delete()}))},t.prototype.Ss=function(t,e){var n;e?n=t:(n={},e=t);var r=this.cursor(n);return this.Ts(r,e)},t.prototype.Rs=function(t){var e=this.cursor({});return new On((function(n,r){e.onerror=function(t){var e=Un(t.target.error);r(e)},e.onsuccess=function(e){var r=e.target.result;r?t(r.primaryKey,r.value).next((function(t){t?r.continue():n()})):n()}}))},t.prototype.Ts=function(t,e){var n=[];return new On((function(r,i){t.onerror=function(t){i(t.target.error)},t.onsuccess=function(t){var i=t.target.result;if(i){var o=new Rn(i),s=e(i.primaryKey,i.value,o);if(s instanceof On){var a=s.catch((function(t){return o.done(),On.reject(t)}));n.push(a)}o.Lu?r():null===o.bs?i.continue():i.continue(o.bs)}else r()}})).next((function(){return On.Wu(n)}))},t.prototype.options=function(t,e){var n=void 0;return void 0!==t&&("string"==typeof t?n=t:(y(void 0===e,"3rd argument must not be defined if 2nd is a range."),e=t)),{index:n,range:e}},t.prototype.cursor=function(t){var e="next";if(t.reverse&&(e="prev"),t.index){var n=this.store.index(t.index);return t.Ds?n.openKeyCursor(t.range,e):n.openCursor(t.range,e)}return this.store.openCursor(t.range,e)},t}();function Ln(t){return new On((function(e,n){t.onsuccess=function(t){e(t.target.result)},t.onerror=function(t){var e=Un(t.target.error);n(e)}}))}var jn=!1;function Un(t){var e=Pn.os(a.getUA());if(e>=12.2&&e<13){var n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){var r=new A("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return jn||(jn=!0,setTimeout((function(){throw r}),0)),r}}return t}var Vn=function(){function t(t,e,n,r){this.userId=t,this.serializer=e,this.Cs=n,this.As=r,this.Ps={}}return t.ks=function(e,n,r,i){return y(""!==e.uid,"UserID must not be an empty string."),new t(e.l()?e.uid:"",n,r,i)},t.prototype.Ns=function(t){var e=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Hn(t).Ss({index:br.userMutationsIndex,range:n},(function(t,n,r){e=!1,r.done()})).next((function(){return e}))},t.prototype.Os=function(t,e,n){return this.Fs(t).next((function(e){return e.lastStreamToken=n.toBase64(),Bn(t).put(e)}))},t.prototype.Vs=function(t){return this.Fs(t).next((function(t){return _e.fromBase64String(t.lastStreamToken)}))},t.prototype.Us=function(t,e){return this.Fs(t).next((function(n){return n.lastStreamToken=e.toBase64(),Bn(t).put(n)}))},t.prototype.xs=function(t,e,n,r){var i=this,o=Gn(t),s=Hn(t);return s.add({}).next((function(a){y("number"==typeof a,"Auto-generated key is not a number");for(var u=new In(a,e,n,r),c=i.serializer.js(i.userId,u),h=[],l=new vt((function(t,e){return w(t.nt(),e.nt())})),f=0,d=r;f<d.length;f++){var p=d[f],g=wr.key(i.userId,p.key.path,a);l=l.add(p.key.path.H()),h.push(s.put(c)),h.push(o.put(g,wr.PLACEHOLDER))}return l.forEach((function(e){h.push(i.Cs.Ls(t,e))})),t.us((function(){i.Ps[a]=u.keys()})),On.Wu(h).next((function(){return u}))}))},t.prototype.qs=function(t,e){var n=this;return Hn(t).get(e).next((function(t){return t?(y(t.userId===n.userId,"Unexpected user '"+t.userId+"' for mutation batch "+e),n.serializer.Bs(t)):null}))},t.prototype.Ms=function(t,e){var n=this;return this.Ps[e]?On.resolve(this.Ps[e]):this.qs(t,e).next((function(t){if(t){var r=t.keys();return n.Ps[e]=r,r}return null}))},t.prototype.Qs=function(t,e){var n=this,r=e+1,i=IDBKeyRange.lowerBound([this.userId,r]),o=null;return Hn(t).Ss({index:br.userMutationsIndex,range:i},(function(t,e,i){e.userId===n.userId&&(y(e.batchId>=r,"Should have found mutation after "+r),o=n.serializer.Bs(e)),i.done()})).next((function(){return o}))},t.prototype.Gs=function(t){var e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return Hn(t).Ss({index:br.userMutationsIndex,range:e,reverse:!0},(function(t,e,r){n=e.batchId,r.done()})).next((function(){return n}))},t.prototype.Ws=function(t){var e=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Hn(t).Is(br.userMutationsIndex,n).next((function(t){return t.map((function(t){return e.serializer.Bs(t)}))}))},t.prototype.zs=function(t,e){var n=this,r=wr.prefixForPath(this.userId,e.path),i=IDBKeyRange.lowerBound(r),o=[];return Gn(t).Ss({range:i},(function(r,i,s){var a=r[0],u=r[2],c=En(r[1]);if(a===n.userId&&e.path.isEqual(c))return Hn(t).get(u).next((function(t){if(!t)throw v("Dangling document-mutation reference found: "+r+" which points to "+u);y(t.userId===n.userId,"Unexpected user '"+t.userId+"' for mutation batch "+u),o.push(n.serializer.Bs(t))}));s.done()})).next((function(){return o}))},t.prototype.Ks=function(t,e){var n=this,r=new vt(w),i=[];return e.forEach((function(e){var o=wr.prefixForPath(n.userId,e.path),s=IDBKeyRange.lowerBound(o),a=Gn(t).Ss({range:s},(function(t,i,o){var s=t[0],a=t[2],u=En(t[1]);s===n.userId&&e.path.isEqual(u)?r=r.add(a):o.done()}));i.push(a)})),On.Wu(i).next((function(){return n.Hs(t,r)}))},t.prototype.Js=function(t,e){var n=this;y(!e.Nn(),"Document queries shouldn't go down this path"),y(!e.ui(),"CollectionGroup queries should be handled in LocalDocumentsView");var r=e.path,i=r.length+1,o=wr.prefixForPath(this.userId,r),s=IDBKeyRange.lowerBound(o),a=new vt(w);return Gn(t).Ss({range:s},(function(t,e,o){var s=t[0],u=t[2],c=En(t[1]);s===n.userId&&r.$(c)?c.length===i&&(a=a.add(u)):o.done()})).next((function(){return n.Hs(t,a)}))},t.prototype.Hs=function(t,e){var n=this,r=[],i=[];return e.forEach((function(e){i.push(Hn(t).get(e).next((function(t){if(null===t)throw v("Dangling document-mutation reference found, which points to "+e);y(t.userId===n.userId,"Unexpected user '"+t.userId+"' for mutation batch "+e),r.push(n.serializer.Bs(t))})))})),On.Wu(i).next((function(){return r}))},t.prototype.Ys=function(t,e){var n=this;return qn(t.Xs,this.userId,e).next((function(r){return t.us((function(){n.$s(e.batchId)})),On.forEach(r,(function(e){return n.As.Zs(t,e)}))}))},t.prototype.$s=function(t){delete this.Ps[t]},t.prototype.to=function(t){var e=this;return this.Ns(t).next((function(n){if(!n)return On.resolve();var r=IDBKeyRange.lowerBound(wr.prefixForUser(e.userId)),i=[];return Gn(t).Ss({range:r},(function(t,n,r){if(t[0]===e.userId){var o=En(t[1]);i.push(o)}else r.done()})).next((function(){y(0===i.length,"Document leak -- detected dangling mutation references when queue is empty. Dangling keys: "+i.map((function(t){return t.nt()})))}))}))},t.prototype.Ou=function(t,e){return Fn(t,this.userId,e)},t.prototype.Fs=function(t){var e=this;return Bn(t).get(this.userId).next((function(t){return t||new yr(e.userId,-1,"")}))},t}();function Fn(t,e,n){var r=wr.prefixForPath(e,n.path),i=r[1],o=IDBKeyRange.lowerBound(r),s=!1;return Gn(t).Ss({range:o,Ds:!0},(function(t,n,r){t[0]===e&&t[1]===i&&(s=!0),r.done()})).next((function(){return s}))}function qn(t,e,n){var r=t.store(br.store),i=t.store(wr.store),o=[],s=IDBKeyRange.only(n.batchId),a=0,u=r.Ss({range:s},(function(t,e,n){return a++,n.delete()}));o.push(u.next((function(){y(1===a,"Dangling document-mutation reference found: Missing batch "+n.batchId)})));for(var c=[],h=0,l=n.mutations;h<l.length;h++){var f=l[h],d=wr.key(e,f.key.path,n.batchId);o.push(i.delete(d)),c.push(f.key)}return On.Wu(o).next((function(){return c}))}function Hn(t){return Vr.ds(t,br.store)}function Gn(t){return Vr.ds(t,wr.store)}function Bn(t){return Vr.ds(t,yr.store)}var zn=function(){function t(t,e){this.no=t,y((1&t)===t,"Generator ID "+t+" contains more than 1 reserved bits"),this.io(void 0!==e?e:this.no)}return t.prototype.next=function(){var t=this.eo;return this.eo+=2,t},t.prototype.after=function(t){return this.io(t+2),this.next()},t.prototype.io=function(t){y((1&t)===this.no,"Cannot supply target ID from different generator ID"),this.eo=t},t.ro=function(){return new t(0,2)},t.uo=function(){return new t(1)},t}(),Wn=function(){function t(t,e,n){this.so=t,this.oo=e,this.Cs=n}return t.prototype.ho=function(t,e){var n=this;return this.oo.zs(t,e).next((function(r){return n.co(t,e,r)}))},t.prototype.co=function(t,e,n){return this.so.Zu(t,e).next((function(t){for(var r=0,i=n;r<i.length;r++)t=i[r].Gt(e,t);return t}))},t.prototype.ao=function(t,e,n){var r=Re();return e.forEach((function(t,e){for(var i=0,o=n;i<o.length;i++)e=o[i].Gt(t,e);r=r.lt(t,e)})),r},t.prototype.fo=function(t,e){var n=this;return this.so.getEntries(t,e).next((function(e){return n.lo(t,e)}))},t.prototype.lo=function(t,e){var n=this;return this.oo.Ks(t,e).next((function(r){var i=n.ao(t,e,r),o=Pe();return i.forEach((function(t,e){e||(e=new Zt(t,at.q())),o=o.lt(t,e)})),o}))},t.prototype.do=function(t,e,n){return e.Nn()?this.vo(t,e.path):e.ui()?this.wo(t,e,n):this.mo(t,e,n)},t.prototype.vo=function(t,e){return this.ho(t,new ft(e)).next((function(t){var e=Me();return t instanceof Xt&&(e=e.lt(t.key,t)),e}))},t.prototype.wo=function(t,e,n){var r=this;y(e.path.J(),"Currently we only support collection group queries at the root.");var i=e.collectionGroup,o=Me();return this.Cs.po(t,i).next((function(s){return On.forEach(s,(function(s){var a=e.Hn(s.child(i));return r.mo(t,a,n).next((function(t){t.forEach((function(t,e){o=o.lt(t,e)}))}))})).next((function(){return o}))}))},t.prototype.mo=function(t,e,n){var r,i,o=this;return this.so.do(t,e,n).next((function(n){return r=n,o.oo.Js(t,e)})).next((function(e){return o.bo(t,i=e,r).next((function(t){r=t;for(var e=0,n=i;e<n.length;e++)for(var o=n[e],s=0,a=o.mutations;s<a.length;s++){var u=a[s],c=u.key,h=r.get(c),l=u.Gt(h,h,o.En);r=l instanceof Xt?r.lt(c,l):r.remove(c)}}))})).next((function(){return r.forEach((function(t,n){e.matches(n)||(r=r.remove(t))})),r}))},t.prototype.bo=function(t,e,n){for(var r=Ve(),i=0,o=e;i<o.length;i++)for(var s=0,a=o[i].mutations;s<a.length;s++){var u=a[s];u instanceof kt&&null===n.get(u.key)&&(r=r.add(u.key))}var c=n;return this.so.getEntries(t,r).next((function(t){return t.forEach((function(t,e){null!==e&&e instanceof Xt&&(c=c.lt(t,e))})),c}))},t}(),Kn=function(){function t(t,e,n,r){this.targetId=t,this.fromCache=e,this.yo=n,this._o=r}return t.Io=function(e,n){for(var r=Ve(),i=Ve(),o=0,s=n.docChanges;o<s.length;o++){var a=s[o];switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}}return new t(e,n.fromCache,r,i)},t}(),$n=function(){function t(t,e,n){this.persistence=t,this.To=e,this.Eo=new Tn,this.Do=new dt(w),this.So=new An((function(t){return t.canonicalId()})),this.Ro=at.MIN,y(t.Co,"LocalStore was passed an unstarted persistence implementation"),this.persistence.As.Ao(this.Eo),this.oo=t.Po(n),this.ko=t.No(),this.Oo=t.Fo(),this.Vo=new Wn(this.ko,this.oo,this.persistence.Uo()),this.To.xo(this.Vo)}return t.prototype.start=function(){return this.jo()},t.prototype.Lo=function(t){return o.__awaiter(this,void 0,void 0,(function(){var e,n,r,i=this;return o.__generator(this,(function(o){switch(o.label){case 0:return e=this.oo,n=this.Vo,[4,this.persistence.runTransaction("Handle user change","readonly-idempotent",(function(r){var o;return i.oo.Ws(r).next((function(s){return o=s,e=i.persistence.Po(t),n=new Wn(i.ko,e,i.persistence.Uo()),e.Ws(r)})).next((function(t){for(var e=[],i=[],s=Ve(),a=0,u=o;a<u.length;a++){var c=u[a];e.push(c.batchId);for(var h=0,l=c.mutations;h<l.length;h++){var f=l[h];s=s.add(f.key)}}for(var d=0,p=t;d<p.length;d++){i.push((c=p[d]).batchId);for(var g=0,m=c.mutations;g<m.length;g++)s=s.add((f=m[g]).key)}return n.fo(r,s).next((function(t){return{qo:t,Bo:e,Mo:i}}))}))}))];case 1:return r=o.sent(),this.oo=e,this.Vo=n,this.To.xo(this.Vo),[2,r]}}))}))},t.prototype.Qo=function(t){var e,n=this,r=st.now(),i=t.reduce((function(t,e){return t.add(e.key)}),Ve());return this.persistence.runTransaction("Locally write mutations","readwrite-idempotent",(function(o){return n.Vo.fo(o,i).next((function(i){e=i;for(var s=[],a=0,u=t;a<u.length;a++){var c=u[a],h=c.rn(e.get(c.key));null!=h&&s.push(new kt(c.key,h,h.un(),At.exists(!0)))}return n.oo.xs(o,r,s,t)}))})).then((function(t){var n=t.bu(e);return{batchId:t.batchId,Ku:n}}))},t.prototype.Go=function(t){var e=this;return this.persistence.runTransaction("Lookup mutation documents","readonly-idempotent",(function(n){return e.oo.Ms(n,t).next((function(t){return t?e.Vo.fo(n,t):On.resolve(null)}))}))},t.prototype.Os=function(t){var e=this;return this.persistence.runTransaction("Acknowledge batch","readwrite-primary-idempotent",(function(n){var r=t.batch.keys(),i=e.ko.Wo({zo:!0});return e.oo.Os(n,t.batch,t.streamToken).next((function(){return e.Ko(n,t,i)})).next((function(){return i.apply(n)})).next((function(){return e.oo.to(n)})).next((function(){return e.Vo.fo(n,r)}))}))},t.prototype.Ho=function(t){var e=this;return this.persistence.runTransaction("Reject batch","readwrite-primary-idempotent",(function(n){var r;return e.oo.qs(n,t).next((function(t){return y(null!==t,"Attempt to reject nonexistent batch!"),r=t.keys(),e.oo.Ys(n,t)})).next((function(){return e.oo.to(n)})).next((function(){return e.Vo.fo(n,r)}))}))},t.prototype.Gs=function(){var t=this;return this.persistence.runTransaction("Get highest unacknowledged batch id","readonly-idempotent",(function(e){return t.oo.Gs(e)}))},t.prototype.Vs=function(){var t=this;return this.persistence.runTransaction("Get last stream token","readonly-idempotent",(function(e){return t.oo.Vs(e)}))},t.prototype.Us=function(t){var e=this;return this.persistence.runTransaction("Set last stream token","readwrite-primary-idempotent",(function(n){return e.oo.Us(n,t)}))},t.prototype.Jo=function(){var t=this;return this.persistence.runTransaction("Get last remote snapshot version","readonly-idempotent",(function(e){return t.Oo.Jo(e)}))},t.prototype.Yo=function(e){var n=this,r=e.li,i=this.Do;return this.persistence.runTransaction("Apply remote event","readwrite-primary-idempotent",(function(o){var s=n.ko.Wo({zo:!0});i=n.Do;var a=[];L(e.Si,(function(e,s){var u=i.get(e);if(u){a.push(n.Oo.Xo(o,s.Vi,e).next((function(){return n.Oo.$o(o,s.Oi,e)})));var c=s.resumeToken;if(c.bn()>0){var h=u.vi(c,r).di(o.Zo);i=i.lt(e,h),t.th(u,h,s)&&a.push(n.Oo.nh(o,h))}}}));var u=Pe(),c=Ve();if(e.Ci.forEach((function(t,e){c=c.add(t)})),a.push(s.getEntries(o,c).next((function(t){e.Ci.forEach((function(i,c){var h=t.get(i);c instanceof Zt&&c.version.isEqual(at.MIN)?(s.$u(i,r),u=u.lt(i,c)):null==h||c.version.h(h.version)>0||0===c.version.h(h.version)&&h.hasPendingWrites?(y(!at.MIN.isEqual(r),"Cannot add a document when the remote version is zero"),s.Yu(c,r),u=u.lt(i,c)):p("LocalStore","Ignoring outdated watch update for ",i,". Current version:",h.version," Watch version:",c.version),e.Ai.has(i)&&a.push(n.persistence.As.ih(o,i))}))}))),!r.isEqual(at.MIN)){var h=n.Oo.Jo(o).next((function(t){return y(r.h(t)>=0,"Watch stream reverted to previous snapshot?? "+r+" < "+t),n.Oo.eh(o,o.Zo,r)}));a.push(h)}return On.Wu(a).next((function(){return s.apply(o)})).next((function(){return n.Vo.lo(o,u)}))})).then((function(t){return n.Do=i,t}))},t.th=function(t,e,n){return y(e.resumeToken.bn()>0,"Attempted to persist target data with no resume token"),0===t.resumeToken.bn()||e.li.B()-t.li.B()>=this.rh||n.Oi.size+n.Fi.size+n.Vi.size>0},t.prototype.uh=function(t){for(var e=this,n=0,r=t;n<r.length;n++){var i=r[n],o=i.targetId;if(this.Eo.Su(i.yo,o),this.Eo.Au(i._o,o),!i.fromCache){var s=this.Do.get(o);y(null!==s,"Can't set limbo-free snapshot version for unknown target: "+o);var a=s.wi(s.li);this.Do=this.Do.lt(o,a)}}return this.persistence.runTransaction("notifyLocalViewChanges","readwrite-idempotent",(function(n){return On.forEach(t,(function(t){return On.forEach(t._o,(function(t){return e.persistence.As.Ru(n,t)}))}))}))},t.prototype.sh=function(t){var e=this;return this.persistence.runTransaction("Get next mutation batch","readonly-idempotent",(function(n){return void 0===t&&(t=-1),e.oo.Qs(n,t)}))},t.prototype.oh=function(t){var e=this;return this.persistence.runTransaction("read document","readonly-idempotent",(function(n){return e.Vo.ho(n,t)}))},t.prototype.hh=function(t){var e=this;return this.persistence.runTransaction("Allocate target","readwrite-idempotent",(function(n){var r;return e.Oo.ah(n,t).next((function(i){return i?On.resolve(r=i):e.Oo.fh(n).next((function(i){return r=new Se(t,i,0,n.Zo),e.Oo.lh(n,r).next((function(){return r}))}))}))})).then((function(n){return null===e.Do.get(n.targetId)&&(e.Do=e.Do.lt(n.targetId,n),e.So.set(t,n.targetId)),n}))},t.prototype.ah=function(t,e){var n=this.So.get(e);return void 0!==n?On.resolve(this.Do.get(n)):this.Oo.ah(t,e)},t.prototype.dh=function(t,e){var n=this,r=this.Do.get(t);return y(null!==r,"Tried to release nonexistent target: "+t),this.persistence.runTransaction("Release target",e?"readwrite-idempotent":"readwrite-primary-idempotent",(function(i){var o=n.Eo.Pu(t);return e?On.resolve():On.forEach(o,(function(t){return n.persistence.As.Ru(i,t)})).next((function(){n.persistence.As.removeTarget(i,r)}))})).then((function(){n.Do=n.Do.remove(t),n.So.delete(r.target)}))},t.prototype.vh=function(t,e){var n=this,r=at.MIN,i=Ve();return this.persistence.runTransaction("Execute query","readonly-idempotent",(function(o){return n.ah(o,t.Yn()).next((function(t){if(t)return r=t.lastLimboFreeSnapshotVersion,n.Oo.wh(o,t.targetId).next((function(t){i=t}))})).next((function(){return n.To.do(o,t,e?r:at.MIN,e?i:Ve())})).next((function(t){return{documents:t,mh:i}}))}))},t.prototype.ph=function(t){var e=this;return this.persistence.runTransaction("Remote document keys","readonly-idempotent",(function(n){return e.Oo.wh(n,t)}))},t.prototype.gh=function(){return this.persistence.gh()},t.prototype.bh=function(t){this.oo.$s(t)},t.prototype.yh=function(t){this.persistence.yh(t)},t.prototype.Ko=function(t,e,n){var r=this,i=e.batch,o=i.keys(),s=On.resolve();return o.forEach((function(r){s=s.next((function(){return n.Zu(t,r)})).next((function(t){var o=t,s=e._u.get(r);y(null!==s,"ackVersions should contain every doc in the write."),(!o||o.version.h(s)<0)&&((o=i.Wt(r,o,e))?n.Yu(o,e.yu):y(!t,"Mutation batch "+i+" applied to document "+t+" resulted in null"))}))})),s.next((function(){return r.oo.Ys(t,i)}))},t.prototype._h=function(t){var e=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary-idempotent",(function(n){return t.Ih(n,e.Do)}))},t.prototype.Th=function(t){var e=this,n=this.Do.get(t);return n?Promise.resolve(n.target):this.persistence.runTransaction("Get target data","readonly-idempotent",(function(n){return e.Oo.ye(n,t).next((function(t){return t?t.target:null}))}))},t.prototype.Eh=function(){var t=this;return this.persistence.runTransaction("Get new document changes","readonly-idempotent",(function(e){return t.ko.Eh(e,t.Ro)})).then((function(e){var n=e.Dh;return t.Ro=e.readTime,n}))},t.prototype.jo=function(){return o.__awaiter(this,void 0,void 0,(function(){var t,e=this;return o.__generator(this,(function(n){switch(n.label){case 0:return t=this,[4,this.persistence.runTransaction("Synchronize last document change read time","readonly-idempotent",(function(t){return e.ko.Sh(t)}))];case 1:return t.Ro=n.sent(),[2]}}))}))},t.rh=3e8,t}();function Yn(t){return o.__awaiter(this,void 0,void 0,(function(){return o.__generator(this,(function(e){if(t.code!==S.FAILED_PRECONDITION||t.message!==kn)throw t;return p("LocalStore","Unexpectedly lost primary lease"),[2]}))}))}function Qn(t,e){var n=t[1],r=e[1],i=w(t[0],e[0]);return 0===i?w(n,r):i}var Jn=function(){function t(t){this.Rh=t,this.buffer=new vt(Qn),this.Ch=0}return t.prototype.Ah=function(){return++this.Ch},t.prototype.Ph=function(t){var e=[t,this.Ah()];if(this.buffer.size<this.Rh)this.buffer=this.buffer.add(e);else{var n=this.buffer.last();Qn(e,n)<0&&(this.buffer=this.buffer.delete(n).add(e))}},Object.defineProperty(t.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!0,configurable:!0}),t}(),Xn={kh:!1,Nh:0,Oh:0,Fh:0},Zn=function(){function t(t,e,n){this.Vh=t,this.Uh=e,this.xh=n}return t.jh=function(e){return new t(e,t.Lh,t.qh)},t.Bh=-1,t.Mh=1048576,t.Gh=new t(t.Qh=41943040,t.Lh=10,t.qh=1e3),t.DISABLED=new t(t.Bh,0,0),t}(),tr=function(){function t(t,e,n){this.Wh=t,this.Qr=e,this.zh=n,this.Kh=!1,this.Hh=null}return t.prototype.start=function(){y(null===this.Hh,"Cannot start an already started LruScheduler"),this.Wh.params.Vh!==Zn.Bh&&this.Jh()},t.prototype.stop=function(){this.Hh&&(this.Hh.cancel(),this.Hh=null)},Object.defineProperty(t.prototype,"Co",{get:function(){return null!==this.Hh},enumerable:!0,configurable:!0}),t.prototype.Jh=function(){var t=this;y(null===this.Hh,"Cannot schedule GC while a task is pending");var e=this.Kh?3e5:6e4;p("LruGarbageCollector","Garbage collection scheduled in "+e+"ms"),this.Hh=this.Qr.fu("lru_garbage_collection",e,(function(){return t.Hh=null,t.Kh=!0,t.zh._h(t.Wh).then((function(){return t.Jh()})).catch(Yn)}))},t}(),er=function(){function t(t,e){this.Yh=t,this.params=e}return t.prototype.Xh=function(t,e){return this.Yh.$h(t).next((function(t){return Math.floor(e/100*t)}))},t.prototype.Zh=function(t,e){var n=this;if(0===e)return On.resolve(gn.Mr);var r=new Jn(e);return this.Yh.ce(t,(function(t){return r.Ph(t.sequenceNumber)})).next((function(){return n.Yh.tc(t,(function(t){return r.Ph(t)}))})).next((function(){return r.maxValue}))},t.prototype.nc=function(t,e,n){return this.Yh.nc(t,e,n)},t.prototype.ic=function(t,e){return this.Yh.ic(t,e)},t.prototype.Ih=function(t,e){var n=this;return this.params.Vh===Zn.Bh?(p("LruGarbageCollector","Garbage collection skipped; disabled"),On.resolve(Xn)):this.ec(t).next((function(r){return r<n.params.Vh?(p("LruGarbageCollector","Garbage collection skipped; Cache size "+r+" is lower than threshold "+n.params.Vh),Xn):n.rc(t,e)}))},t.prototype.ec=function(t){return this.Yh.ec(t)},t.prototype.rc=function(t,e){var n,r,i,o,s,a,u,c=this,h=Date.now();return this.Xh(t,this.params.Uh).next((function(e){return e>c.params.xh?(p("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+c.params.xh+" from "+e),r=c.params.xh):r=e,o=Date.now(),c.Zh(t,r)})).next((function(r){return n=r,s=Date.now(),c.nc(t,n,e)})).next((function(e){return i=e,a=Date.now(),c.ic(t,n)})).next((function(t){return u=Date.now(),f()<=0&&p("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(o-h)+"ms\n\tDetermined least recently used "+r+" in "+(s-o)+"ms\n\tRemoved "+i+" targets in "+(a-s)+"ms\n\tRemoved "+t+" documents in "+(u-a)+"ms\nTotal Duration: "+(u-h)+"ms"),On.resolve({kh:!0,Nh:r,Oh:i,Fh:t})}))},t}(),nr=function(){function t(t,e){this.As=t,this.serializer=e,this.uc=zn.ro()}return t.prototype.fh=function(t){var e=this;return this.sc(t).next((function(n){return n.highestTargetId=e.uc.after(n.highestTargetId),e.oc(t,n).next((function(){return n.highestTargetId}))}))},t.prototype.Jo=function(t){return this.sc(t).next((function(t){return at.L(new st(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds))}))},t.prototype.hc=function(t){return or(t.Xs)},t.prototype.eh=function(t,e,n){var r=this;return this.sc(t).next((function(i){return i.highestListenSequenceNumber=e,n&&(i.lastRemoteSnapshotVersion=n.M()),e>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=e),r.oc(t,i)}))},t.prototype.lh=function(t,e){var n=this;return this.cc(t,e).next((function(){return n.sc(t).next((function(r){return r.targetCount+=1,n.ac(e,r),n.oc(t,r)}))}))},t.prototype.nh=function(t,e){return this.cc(t,e)},t.prototype.fc=function(t,e){var n=this;return this.lc(t,e.targetId).next((function(){return rr(t).delete(e.targetId)})).next((function(){return n.sc(t)})).next((function(e){return y(e.targetCount>0,"Removing from an empty target cache"),e.targetCount-=1,n.oc(t,e)}))},t.prototype.nc=function(t,e,n){var r=this,i=0,o=[];return rr(t).Ss((function(s,a){var u=r.serializer.dc(a);u.sequenceNumber<=e&&null===n.get(u.targetId)&&(i++,o.push(r.fc(t,u)))})).next((function(){return On.Wu(o)})).next((function(){return i}))},t.prototype.ce=function(t,e){var n=this;return rr(t).Ss((function(t,r){var i=n.serializer.dc(r);e(i)}))},t.prototype.sc=function(t){return ir(t.Xs)},t.prototype.oc=function(t,e){return(n=t,Vr.ds(n,Ar.store)).put(Ar.key,e);var n},t.prototype.cc=function(t,e){return rr(t).put(this.serializer.vc(e))},t.prototype.ac=function(t,e){var n=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,n=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,n=!0),n},t.prototype.wc=function(t){return this.sc(t).next((function(t){return t.targetCount}))},t.prototype.ah=function(t,e){var n=this,r=e.canonicalId(),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]),o=null;return rr(t).Ss({range:i,index:Tr.queryTargetsIndexName},(function(t,r,i){var s=n.serializer.dc(r);e.isEqual(s.target)&&(o=s,i.done())})).next((function(){return o}))},t.prototype.$o=function(t,e,n){var r=this,i=[],o=sr(t);return e.forEach((function(e){var s=bn(e.path);i.push(o.put(new Sr(n,s))),i.push(r.As.Du(t,e))})),On.Wu(i)},t.prototype.Xo=function(t,e,n){var r=this,i=sr(t);return On.forEach(e,(function(e){var o=bn(e.path);return On.Wu([i.delete([n,o]),r.As.Ru(t,e)])}))},t.prototype.lc=function(t,e){var n=sr(t),r=IDBKeyRange.bound([e],[e+1],!1,!0);return n.delete(r)},t.prototype.wh=function(t,e){var n=IDBKeyRange.bound([e],[e+1],!1,!0),r=sr(t),i=Ve();return r.Ss({range:n,Ds:!0},(function(t,e,n){var r=En(t[1]),o=new ft(r);i=i.add(o)})).next((function(){return i}))},t.prototype.Ou=function(t,e){var n=bn(e.path),r=IDBKeyRange.bound([n],[E(n)],!1,!0),i=0;return sr(t).Ss({index:Sr.documentTargetsIndex,Ds:!0,range:r},(function(t,e,n){0!==t[0]&&(i++,n.done())})).next((function(){return i>0}))},t.prototype.ye=function(t,e){var n=this;return rr(t).get(e).next((function(t){return t?n.serializer.dc(t):null}))},t}();function rr(t){return Vr.ds(t,Tr.store)}function ir(t){return Pn.ds(t,Ar.store).get(Ar.key).next((function(t){return y(null!==t,"Missing metadata row."),t}))}function or(t){return ir(t).next((function(t){return t.highestListenSequenceNumber}))}function sr(t){return Vr.ds(t,Sr.store)}var ar=function(){function t(t,e){this.serializer=t,this.Cs=e}return t.prototype.Yu=function(t,e,n){return cr(t).put(hr(e),n)},t.prototype.$u=function(t,e){var n=cr(t),r=hr(e);return n.delete(r)},t.prototype.updateMetadata=function(t,e){var n=this;return this.getMetadata(t).next((function(r){return r.byteSize+=e,n.mc(t,r)}))},t.prototype.Zu=function(t,e){var n=this;return cr(t).get(hr(e)).next((function(t){return n.pc(t)}))},t.prototype.gc=function(t,e){var n=this;return cr(t).get(hr(e)).next((function(t){var e=n.pc(t);return e?{bc:e,size:lr(t)}:null}))},t.prototype.getEntries=function(t,e){var n=this,r=Re();return this.yc(t,e,(function(t,e){var i=n.pc(e);r=r.lt(t,i)})).next((function(){return r}))},t.prototype._c=function(t,e){var n=this,r=Re(),i=new dt(ft.G);return this.yc(t,e,(function(t,e){var o=n.pc(e);o?(r=r.lt(t,o),i=i.lt(t,lr(e))):(r=r.lt(t,null),i=i.lt(t,0))})).next((function(){return{Ic:r,Tc:i}}))},t.prototype.yc=function(t,e,n){if(e.J())return On.resolve();var r=IDBKeyRange.bound(e.first().path.tt(),e.last().path.tt()),i=e.bt(),o=i.Dt();return cr(t).Ss({range:r},(function(t,e,r){for(var s=ft.at(t);o&&ft.G(o,s)<0;)n(o,null),o=i.Dt();o&&o.isEqual(s)&&(n(o,e),o=i.St()?i.Dt():null),o?r.ys(o.path.tt()):r.done()})).next((function(){for(;o;)n(o,null),o=i.St()?i.Dt():null}))},t.prototype.do=function(t,e,n){var r=this;y(!e.ui(),"CollectionGroup queries should be handled in LocalDocumentsView");var i=Me(),o=e.path.length+1,s={};if(n.isEqual(at.MIN)){var a=e.path.tt();s.range=IDBKeyRange.lowerBound(a)}else{var u=e.path.tt(),c=this.serializer.Ec(n);s.range=IDBKeyRange.lowerBound([u,c],!0),s.index=Ir.collectionReadTimeIndex}return cr(t).Ss(s,(function(t,n,s){if(t.length===o){var a=r.serializer.Dc(n);e.path.$(a.key.path)?a instanceof Xt&&e.matches(a)&&(i=i.lt(a.key,a)):s.done()}})).next((function(){return i}))},t.prototype.Eh=function(t,e){var n=this,r=Pe(),i=this.serializer.Ec(e),o=cr(t),s=IDBKeyRange.lowerBound(i,!0);return o.Ss({index:Ir.readTimeIndex,range:s},(function(t,e){var o=n.serializer.Dc(e);r=r.lt(o.key,o),i=e.readTime})).next((function(){return{Dh:r,readTime:n.serializer.Sc(i)}}))},t.prototype.Sh=function(t){var e=this,n=cr(t),r=at.MIN;return n.Ss({index:Ir.readTimeIndex,reverse:!0},(function(t,n,i){n.readTime&&(r=e.serializer.Sc(n.readTime)),i.done()})).next((function(){return r}))},t.prototype.Wo=function(e){return new t.Rc(this,!!e&&e.zo)},t.prototype.Cc=function(t){return this.getMetadata(t).next((function(t){return t.byteSize}))},t.prototype.getMetadata=function(t){return ur(t).get(Cr.key).next((function(t){return y(!!t,"Missing document cache metadata"),t}))},t.prototype.mc=function(t,e){return ur(t).put(Cr.key,e)},t.prototype.pc=function(t){if(t){var e=this.serializer.Dc(t);return e instanceof Zt&&e.version.isEqual(at.q())?null:e}return null},t.Rc=function(t){function e(e,n){var r=t.call(this)||this;return r.Ac=e,r.zo=n,r.Pc=new An((function(t){return t.toString()})),r}return o.__extends(e,t),e.prototype.es=function(t){var e=this,n=[],r=0,i=new vt((function(t,e){return w(t.nt(),e.nt())}));return this.Ku.forEach((function(o,s){var a=e.Pc.get(o);if(y(void 0!==a,"Cannot modify a document that wasn't read (for "+o+")"),s){y(!e.readTime.isEqual(at.MIN),"Cannot add a document with a read time of zero");var u=e.Ac.serializer.kc(s,e.readTime);i=i.add(o.path.H());var c=lr(u);r+=c-a,n.push(e.Ac.Yu(t,o,u))}else if(r-=a,e.zo){var h=e.Ac.serializer.kc(new Zt(o,at.q()),e.readTime);n.push(e.Ac.Yu(t,o,h))}else n.push(e.Ac.$u(t,o))})),i.forEach((function(r){n.push(e.Ac.Cs.Ls(t,r))})),n.push(this.Ac.updateMetadata(t,r)),On.Wu(n)},e.prototype.ts=function(t,e){var n=this;return this.Ac.gc(t,e).next((function(t){return null===t?(n.Pc.set(e,0),null):(n.Pc.set(e,t.size),t.bc)}))},e.prototype.ns=function(t,e){var n=this;return this.Ac._c(t,e).next((function(t){var e=t.Ic;return t.Tc.forEach((function(t,e){n.Pc.set(t,e)})),e}))},e}(Nn),t}();function ur(t){return Vr.ds(t,Cr.store)}function cr(t){return Vr.ds(t,Ir.store)}function hr(t){return t.path.tt()}function lr(t){var e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw v("Unknown remote document type");e=t.noDocument}return JSON.stringify(e).length}var fr=function(){function t(){this.Nc=new dr}return t.prototype.Ls=function(t,e){return this.Nc.add(e),On.resolve()},t.prototype.po=function(t,e){return On.resolve(this.Nc.getEntries(e))},t}(),dr=function(){function t(){this.index={}}return t.prototype.add=function(t){y(t.length%2==1,"Expected a collection path.");var e=t.X(),n=t.H(),r=this.index[e]||new vt(ct.G),i=!r.has(n);return this.index[e]=r.add(n),i},t.prototype.has=function(t){var e=t.X(),n=t.H(),r=this.index[e];return r&&r.has(n)},t.prototype.getEntries=function(t){return(this.index[t]||new vt(ct.G)).tt()},t}(),pr=9,gr=function(){function t(t){this.serializer=t}return t.prototype.createOrUpgrade=function(t,e,n,r){var i=this;y(n<r&&n>=0&&r<=pr,"Unexpected schema upgrade from v"+n+" to v{toVersion}.");var o=new Dn(e);n<1&&r>=1&&(function(t){t.createObjectStore(vr.store)}(t),function(t){t.createObjectStore(yr.store,{keyPath:yr.keyPath}),t.createObjectStore(br.store,{keyPath:br.keyPath,autoIncrement:!0}).createIndex(br.userMutationsIndex,br.userMutationsKeyPath,{unique:!0}),t.createObjectStore(wr.store)}(t),Nr(t),function(t){t.createObjectStore(Ir.store)}(t));var s=On.resolve();return n<3&&r>=3&&(0!==n&&(function(t){t.deleteObjectStore(Sr.store),t.deleteObjectStore(Tr.store),t.deleteObjectStore(Ar.store)}(t),Nr(t)),s=s.next((function(){return function(t){var e=t.store(Ar.store),n=new Ar(0,0,at.MIN.M(),0);return e.put(Ar.key,n)}(o)}))),n<4&&r>=4&&(0!==n&&(s=s.next((function(){return function(t,e){return e.store(br.store).Is().next((function(n){t.deleteObjectStore(br.store),t.createObjectStore(br.store,{keyPath:br.keyPath,autoIncrement:!0}).createIndex(br.userMutationsIndex,br.userMutationsKeyPath,{unique:!0});var r=e.store(br.store),i=n.map((function(t){return r.put(t)}));return On.Wu(i)}))}(t,o)}))),s=s.next((function(){!function(t){t.createObjectStore(kr.store,{keyPath:kr.keyPath})}(t)}))),n<5&&r>=5&&(s=s.next((function(){return i.removeAcknowledgedMutations(o)}))),n<6&&r>=6&&(s=s.next((function(){return function(t){t.createObjectStore(Cr.store)}(t),i.addDocumentGlobal(o)}))),n<7&&r>=7&&(s=s.next((function(){return i.ensureSequenceNumbers(o)}))),n<8&&r>=8&&(s=s.next((function(){return i.createCollectionParentIndex(t,o)}))),n<9&&r>=9&&(s=s.next((function(){!function(t){t.objectStoreNames.contains("remoteDocumentChanges")&&t.deleteObjectStore("remoteDocumentChanges")}(t),function(t){var e=t.objectStore(Ir.store);e.createIndex(Ir.readTimeIndex,Ir.readTimeIndexPath,{unique:!1}),e.createIndex(Ir.collectionReadTimeIndex,Ir.collectionReadTimeIndexPath,{unique:!1})}(e)}))),s},t.prototype.addDocumentGlobal=function(t){var e=0;return t.store(Ir.store).Ss((function(t,n){e+=lr(n)})).next((function(){var n=new Cr(e);return t.store(Cr.store).put(Cr.key,n)}))},t.prototype.removeAcknowledgedMutations=function(t){var e=this,n=t.store(yr.store),r=t.store(br.store);return n.Is().next((function(n){return On.forEach(n,(function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.Is(br.userMutationsIndex,i).next((function(r){return On.forEach(r,(function(r){y(r.userId===n.userId,"Cannot process batch "+r.batchId+" from unexpected user");var i=e.serializer.Bs(r);return qn(t,n.userId,i).next((function(){}))}))}))}))}))},t.prototype.ensureSequenceNumbers=function(t){var e=t.store(Sr.store),n=t.store(Ir.store);return or(t).next((function(t){var r=[];return n.Ss((function(n,i){var o=new ct(n),s=function(t){return[0,bn(t)]}(o);r.push(e.get(s).next((function(n){return n?On.resolve():function(n){return e.put(new Sr(0,bn(n),t))}(o)})))})).next((function(){return On.Wu(r)}))}))},t.prototype.createCollectionParentIndex=function(t,e){t.createObjectStore(Or.store,{keyPath:Or.keyPath});var n=e.store(Or.store),r=new dr,i=function(t){if(r.add(t)){var e=t.X(),i=t.H();return n.put({collectionId:e,parent:bn(i)})}};return e.store(Ir.store).Ss({Ds:!0},(function(t,e){var n=new ct(t);return i(n.H())})).next((function(){return e.store(wr.store).Ss({Ds:!0},(function(t,e){var n=En(t[1]);return i(n.H())}))}))},t}(),mr=function(t,e){this.seconds=t,this.nanoseconds=e},vr=function(){function t(t,e,n){this.ownerId=t,this.allowTabSynchronization=e,this.leaseTimestampMs=n}return t.store="owner",t.key="owner",t}(),yr=function(){function t(t,e,n){this.userId=t,this.lastAcknowledgedBatchId=e,this.lastStreamToken=n}return t.store="mutationQueues",t.keyPath="userId",t}(),br=function(){function t(t,e,n,r,i){this.userId=t,this.batchId=e,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i}return t.store="mutations",t.keyPath="batchId",t.userMutationsIndex="userMutationsIndex",t.userMutationsKeyPath=["userId","batchId"],t}(),wr=function(){function t(){}return t.prefixForUser=function(t){return[t]},t.prefixForPath=function(t,e){return[t,bn(e)]},t.key=function(t,e,n){return[t,bn(e),n]},t.store="documentMutations",t.PLACEHOLDER=new t,t}(),_r=function(t,e){this.path=t,this.readTime=e},Er=function(t,e){this.path=t,this.version=e},Ir=function(){function t(t,e,n,r,i,o){this.unknownDocument=t,this.noDocument=e,this.document=n,this.hasCommittedMutations=r,this.readTime=i,this.parentPath=o}return t.store="remoteDocuments",t.readTimeIndex="readTimeIndex",t.readTimeIndexPath="readTime",t.collectionReadTimeIndex="collectionReadTimeIndex",t.collectionReadTimeIndexPath=["parentPath","readTime"],t}(),Cr=function(){function t(t){this.byteSize=t}return t.store="remoteDocumentGlobal",t.key="remoteDocumentGlobalKey",t}(),Tr=function(){function t(t,e,n,r,i,o,s){this.targetId=t,this.canonicalId=e,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.lastLimboFreeSnapshotVersion=o,this.query=s}return t.store="targets",t.keyPath="targetId",t.queryTargetsIndexName="queryTargetsIndex",t.queryTargetsKeyPath=["canonicalId","targetId"],t}(),Sr=function(){function t(t,e,n){this.targetId=t,this.path=e,this.sequenceNumber=n,y(0===t==(void 0!==n),"A target-document row must either have targetId == 0 and a defined sequence number, or a non-zero targetId and no sequence number")}return t.store="targetDocuments",t.keyPath=["targetId","path"],t.documentTargetsIndex="documentTargetsIndex",t.documentTargetsKeyPath=["path","targetId"],t}(),Ar=function(){function t(t,e,n,r){this.highestTargetId=t,this.highestListenSequenceNumber=e,this.lastRemoteSnapshotVersion=n,this.targetCount=r}return t.key="targetGlobalKey",t.store="targetGlobal",t}(),Or=function(){function t(t,e){this.collectionId=t,this.parent=e}return t.store="collectionParents",t.keyPath=["collectionId","parent"],t}();function Nr(t){t.createObjectStore(Sr.store,{keyPath:Sr.keyPath}).createIndex(Sr.documentTargetsIndex,Sr.documentTargetsKeyPath,{unique:!0}),t.createObjectStore(Tr.store,{keyPath:Tr.keyPath}).createIndex(Tr.queryTargetsIndexName,Tr.queryTargetsKeyPath,{unique:!0}),t.createObjectStore(Ar.store)}var kr=function(){function t(t,e,n,r){this.clientId=t,this.updateTimeMs=e,this.networkEnabled=n,this.inForeground=r}return t.store="clientMetadata",t.keyPath="clientId",t}(),xr=o.__spreadArrays([yr.store,br.store,wr.store,Ir.store,Tr.store,vr.store,Ar.store,Sr.store],[kr.store]),Pr=o.__spreadArrays(xr,[Cr.store]),Rr=o.__spreadArrays(Pr,[Or.store]),Dr=function(){function t(){this.Oc=new dr}return t.prototype.Ls=function(t,e){var n=this;if(y(e.length%2==1,"Expected a collection path."),!this.Oc.has(e)){var r=e.X(),i=e.H();t.us((function(){n.Oc.add(e)}));var o={collectionId:r,parent:bn(i)};return Mr(t).put(o)}return On.resolve()},t.prototype.po=function(t,e){var n=[],r=IDBKeyRange.bound([e,""],[E(e),""],!1,!0);return Mr(t).Is(r).next((function(t){for(var r=0,i=t;r<i.length;r++){var o=i[r];if(o.collectionId!==e)break;n.push(En(o.parent))}return n}))},t}();function Mr(t){return Vr.ds(t,Or.store)}var Lr=function(){function t(t){this.Fc=t}return t.prototype.Dc=function(t){if(t.document)return this.Fc.Ke(t.document,!!t.hasCommittedMutations);if(t.noDocument){var e=ft.at(t.noDocument.path),n=this.Vc(t.noDocument.readTime);return new Zt(e,n,{hasCommittedMutations:!!t.hasCommittedMutations})}return t.unknownDocument?(e=ft.at(t.unknownDocument.path),n=this.Vc(t.unknownDocument.version),new te(e,n)):v("Unexpected DbRemoteDocument")},t.prototype.kc=function(t,e){var n=this.Ec(e),r=t.key.path.H().tt();if(t instanceof Xt){var i=t.proto?t.proto:this.Fc.ze(t),o=t.hasCommittedMutations;return new Ir(null,null,i,o,n,r)}if(t instanceof Zt){var s=t.key.path.tt(),a=this.Uc(t.version);return o=t.hasCommittedMutations,new Ir(null,new _r(s,a),null,o,n,r)}if(t instanceof te){s=t.key.path.tt();var u=this.Uc(t.version);return new Ir(new Er(s,u),null,null,!0,n,r)}return v("Unexpected MaybeDocument")},t.prototype.Ec=function(t){var e=t.M();return[e.seconds,e.nanoseconds]},t.prototype.Sc=function(t){var e=new st(t[0],t[1]);return at.L(e)},t.prototype.Uc=function(t){var e=t.M();return new mr(e.seconds,e.nanoseconds)},t.prototype.Vc=function(t){var e=new st(t.seconds,t.nanoseconds);return at.L(e)},t.prototype.js=function(t,e){var n=this,r=e.baseMutations.map((function(t){return n.Fc.ir(t)})),i=e.mutations.map((function(t){return n.Fc.ir(t)}));return new br(t,e.batchId,e.En.toMillis(),r,i)},t.prototype.Bs=function(t){var e=this,n=(t.baseMutations||[]).map((function(t){return e.Fc.sr(t)})),r=t.mutations.map((function(t){return e.Fc.sr(t)})),i=st.fromMillis(t.localWriteTimeMs);return new In(t.batchId,i,n,r)},t.prototype.xc=function(t){var e=[];return t.forEach((function(t){e.push(bn(t.path))})),e},t.prototype.jc=function(t){for(var e=Ve(),n=0,r=t;n<r.length;n++)e=e.add(new ft(En(r[n])));return e},t.prototype.dc=function(t){var e,n=this.Vc(t.readTime),r=void 0!==t.lastLimboFreeSnapshotVersion?this.Vc(t.lastLimboFreeSnapshotVersion):at.MIN;return e=void 0!==t.query.documents?this.Fc.vr(t.query):this.Fc.br(t.query),new Se(e,t.targetId,0,t.lastListenSequenceNumber,n,r,_e.fromBase64String(t.resumeToken))},t.prototype.vc=function(t){y(0===t.fi,"Only queries with purpose 0 may be stored, got "+t.fi);var e,n=this.Uc(t.li),r=this.Uc(t.lastLimboFreeSnapshotVersion);e=t.target.Nn()?this.Fc.dr(t.target):this.Fc.wr(t.target);var i=t.resumeToken.toBase64();return new Tr(t.targetId,t.target.canonicalId(),n,i,t.sequenceNumber,r,e)},t}(),jr="Another tab has exclusive access to the persistence layer. To allow shared access, make sure to invoke `enablePersistence()` with `synchronizeTabs:true` in all tabs.",Ur=function(t){function e(e,n){var r=t.call(this)||this;return r.Xs=e,r.Zo=n,r}return o.__extends(e,t),e}(xn),Vr=function(){function t(e,n,r,i,o,s,a,u){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.Lc=s,this.qc=u,this.Bc=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Mc=null,this.inForeground=!1,this.Qc=null,this.Gc=null,this.Wc=Number.NEGATIVE_INFINITY,this.zc=function(t){return Promise.resolve()},this.As=new Hr(this,o),this.Kc=n+t.Hc,this.serializer=new Lr(a),this.document=i.document,this.Oo=new nr(this.As,this.serializer),this.Cs=new Dr,this.so=new ar(this.serializer,this.Cs),!i.window||!i.window.localStorage)throw new A(S.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");this.window=i.window,this.Jc=this.window.localStorage}return t.ds=function(t,e){if(t instanceof Ur)return Pn.ds(t.Xs,e);throw v("IndexedDbPersistence must use instances of IndexedDbTransaction")},t.Yc=function(e){return o.__awaiter(this,void 0,void 0,(function(){var n;return o.__generator(this,(function(r){switch(r.label){case 0:if(!t.cs())throw new A(S.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");return[4,(n=new t(e.allowTabSynchronization,e.persistenceKey,e.clientId,e.platform,e.Xc,e.Lc,e.serializer,e.qc)).start()];case 1:return r.sent(),[2,n]}}))}))},t.prototype.start=function(){var t=this;return y(!this.Co,"IndexedDbPersistence double-started!"),y(null!==this.window,"Expected 'window' to be defined"),Pn.hs(this.Kc,pr,new gr(this.serializer)).then((function(e){return t.$c=e,t.Zc()})).then((function(){return t.ta(),t.na(),t.ia(),t.$c.runTransaction("readonly-idempotent",[Ar.store],(function(t){return or(t)}))})).then((function(e){t.ea=new gn(e,t.qc)})).then((function(){t.Bc=!0})).catch((function(e){return t.$c&&t.$c.close(),Promise.reject(e)}))},t.prototype.ra=function(t){var e=this;return this.zc=function(n){return o.__awaiter(e,void 0,void 0,(function(){return o.__generator(this,(function(e){return this.Co?[2,t(n)]:[2]}))}))},t(this.isPrimary)},t.prototype.ua=function(t){var e=this;this.$c.vs((function(n){return o.__awaiter(e,void 0,void 0,(function(){return o.__generator(this,(function(e){switch(e.label){case 0:return null!==n.newVersion?[3,2]:[4,t()];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))}))},t.prototype.yh=function(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.Lc.$r((function(){return o.__awaiter(e,void 0,void 0,(function(){return o.__generator(this,(function(t){switch(t.label){case 0:return this.Co?[4,this.Zc()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))})))},t.prototype.Zc=function(){var t=this;return this.$c.runTransaction("readwrite-idempotent",Rr,(function(e){return qr(e).put(new kr(t.clientId,Date.now(),t.networkEnabled,t.inForeground)).next((function(){if(t.isPrimary)return t.sa(e).next((function(e){e||(t.isPrimary=!1,t.Lc.$r((function(){return t.zc(!1)})))}))})).next((function(){return t.oa(e)})).next((function(n){return t.isPrimary&&!n?t.ha(e).next((function(){return!1})):!!n&&t.ca(e).next((function(){return!0}))}))})).catch((function(e){if(!t.allowTabSynchronization)throw e;return p("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1})).then((function(e){t.isPrimary!==e&&t.Lc.$r((function(){return t.zc(e)})),t.isPrimary=e}))},t.prototype.sa=function(t){var e=this;return Fr(t).get(vr.key).next((function(t){return On.resolve(e.aa(t))}))},t.prototype.fa=function(t){return qr(t).delete(this.clientId)},t.prototype.la=function(){return o.__awaiter(this,void 0,void 0,(function(){var e=this;return o.__generator(this,(function(n){switch(n.label){case 0:return!this.isPrimary||this.da(this.Wc,18e5)?[3,2]:(this.Wc=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary-idempotent",(function(n){var r=t.ds(n,kr.store);return r.Is().next((function(t){var n=e.va(t,18e5),i=t.filter((function(t){return-1===n.indexOf(t)}));return On.forEach(i,(function(t){return r.delete(t.clientId)})).next((function(){return i}))}))})).catch((function(){return[]}))]);case 1:n.sent().forEach((function(t){e.window.localStorage.removeItem(e.wa(t.clientId))})),n.label=2;case 2:return[2]}}))}))},t.prototype.ia=function(){var t=this;this.Gc=this.Lc.fu("client_metadata_refresh",4e3,(function(){return t.Zc().then((function(){return t.la()})).then((function(){return t.ia()}))}))},t.prototype.aa=function(t){return!!t&&t.ownerId===this.clientId},t.prototype.oa=function(t){var e=this;return Fr(t).get(vr.key).next((function(n){if(null!==n&&e.da(n.leaseTimestampMs,5e3)&&!e.ma(n.ownerId)){if(e.aa(n)&&e.networkEnabled)return!0;if(!e.aa(n)){if(!n.allowTabSynchronization)throw new A(S.FAILED_PRECONDITION,jr);return!1}}return!(!e.networkEnabled||!e.inForeground)||qr(t).Is().next((function(t){return void 0===e.va(t,5e3).find((function(t){return!(e.clientId===t.clientId||!(!e.networkEnabled&&t.networkEnabled||!e.inForeground&&t.inForeground&&e.networkEnabled===t.networkEnabled))}))}))})).next((function(t){return e.isPrimary!==t&&p("IndexedDbPersistence","Client "+(t?"is":"is not")+" eligible for a primary lease."),t}))},t.prototype.shutdown=function(){return o.__awaiter(this,void 0,void 0,(function(){var t=this;return o.__generator(this,(function(e){switch(e.label){case 0:return this.Bc=!1,this.pa(),this.Gc&&(this.Gc.cancel(),this.Gc=null),this.ga(),this.ba(),[4,this.$c.runTransaction("readwrite-idempotent",[vr.store,kr.store],(function(e){return t.ha(e).next((function(){return t.fa(e)}))}))];case 1:return e.sent(),this.$c.close(),this.ya(),[2]}}))}))},t.prototype.va=function(t,e){var n=this;return t.filter((function(t){return n.da(t.updateTimeMs,e)&&!n.ma(t.clientId)}))},t.prototype.gh=function(){var t=this;return this.$c.runTransaction("readonly-idempotent",[kr.store],(function(e){return qr(e).Is().next((function(e){return t.va(e,18e5).map((function(t){return t.clientId}))}))}))},t.clearPersistence=function(e){return o.__awaiter(this,void 0,void 0,(function(){return o.__generator(this,(function(n){switch(n.label){case 0:return t.cs()?[4,Pn.delete(e+t.Hc)]:[2,Promise.resolve()];case 1:return n.sent(),[2]}}))}))},Object.defineProperty(t.prototype,"Co",{get:function(){return this.Bc},enumerable:!0,configurable:!0}),t.prototype.Po=function(t){return y(this.Co,"Cannot initialize MutationQueue before persistence is started."),Vn.ks(t,this.serializer,this.Cs,this.As)},t.prototype.Fo=function(){return y(this.Co,"Cannot initialize TargetCache before persistence is started."),this.Oo},t.prototype.No=function(){return y(this.Co,"Cannot initialize RemoteDocumentCache before persistence is started."),this.so},t.prototype.Uo=function(){return y(this.Co,"Cannot initialize IndexManager before persistence is started."),this.Cs},t.prototype.runTransaction=function(t,e,n){var r=this;p("IndexedDbPersistence","Starting transaction:",t);var i,o=e.endsWith("idempotent"),s=e.startsWith("readonly")?o?"readonly-idempotent":"readonly":o?"readwrite-idempotent":"readwrite";return this.$c.runTransaction(s,Rr,(function(o){return i=new Ur(o,r.ea.next()),"readwrite-primary"===e||"readwrite-primary-idempotent"===e?r.sa(o).next((function(t){return!!t||r.oa(o)})).next((function(e){if(!e)throw g("Failed to obtain primary lease for action '"+t+"'."),r.isPrimary=!1,r.Lc.$r((function(){return r.zc(!1)})),new A(S.FAILED_PRECONDITION,kn);return n(i)})).next((function(t){return r.ca(o).next((function(){return t}))})):r._a(o).next((function(){return n(i)}))})).then((function(t){return i.ss(),t}))},t.prototype._a=function(t){var e=this;return Fr(t).get(vr.key).next((function(t){if(null!==t&&e.da(t.leaseTimestampMs,5e3)&&!e.ma(t.ownerId)&&!e.aa(t)&&!t.allowTabSynchronization)throw new A(S.FAILED_PRECONDITION,jr)}))},t.prototype.ca=function(t){var e=new vr(this.clientId,this.allowTabSynchronization,Date.now());return Fr(t).put(vr.key,e)},t.cs=function(){return Pn.cs()},t.Ia=function(t){var e=t.s.projectId;return t.s.o||(e+="."+t.s.database),"firestore/"+t.persistenceKey+"/"+e+"/"},t.prototype.ha=function(t){var e=this,n=Fr(t);return n.get(vr.key).next((function(t){return e.aa(t)?(p("IndexedDbPersistence","Releasing primary lease."),n.delete(vr.key)):On.resolve()}))},t.prototype.da=function(t,e){var n=Date.now();return!(t<n-e||t>n&&(g("Detected an update time that is in the future: "+t+" > "+n),1))},t.prototype.ta=function(){var t=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Qc=function(){t.Lc.$r((function(){return t.inForeground="visible"===t.document.visibilityState,t.Zc()}))},this.document.addEventListener("visibilitychange",this.Qc),this.inForeground="visible"===this.document.visibilityState)},t.prototype.ga=function(){this.Qc&&(y(null!==this.document&&"function"==typeof this.document.addEventListener,"Expected 'document.addEventListener' to be a function"),this.document.removeEventListener("visibilitychange",this.Qc),this.Qc=null)},t.prototype.na=function(){var t=this;"function"==typeof this.window.addEventListener&&(this.Mc=function(){t.pa(),t.Lc.$r((function(){return t.shutdown()}))},this.window.addEventListener("unload",this.Mc))},t.prototype.ba=function(){this.Mc&&(y("function"==typeof this.window.removeEventListener,"Expected 'window.removeEventListener' to be a function"),this.window.removeEventListener("unload",this.Mc),this.Mc=null)},t.prototype.ma=function(t){try{var e=null!==this.Jc.getItem(this.wa(t));return p("IndexedDbPersistence","Client '"+t+"' "+(e?"is":"is not")+" zombied in LocalStorage"),e}catch(t){return g("IndexedDbPersistence","Failed to get zombied client id.",t),!1}},t.prototype.pa=function(){try{this.Jc.setItem(this.wa(this.clientId),String(Date.now()))}catch(t){g("Failed to set zombie client id.",t)}},t.prototype.ya=function(){try{this.Jc.removeItem(this.wa(this.clientId))}catch(t){}},t.prototype.wa=function(t){return"firestore_zombie_"+this.persistenceKey+"_"+t},t.Hc="main",t}();function Fr(t){return t.store(vr.store)}function qr(t){return t.store(kr.store)}var Hr=function(){function t(t,e){this.db=t,this.Ta=null,this.Wh=new er(this,e)}return t.prototype.$h=function(t){var e=this.Ea(t);return this.db.Fo().wc(t).next((function(t){return e.next((function(e){return t+e}))}))},t.prototype.Ea=function(t){var e=0;return this.tc(t,(function(t){e++})).next((function(){return e}))},t.prototype.ce=function(t,e){return this.db.Fo().ce(t,e)},t.prototype.tc=function(t,e){return this.Da(t,(function(t,n){return e(n)}))},t.prototype.Ao=function(t){this.Ta=t},t.prototype.Du=function(t,e){return Gr(t,e)},t.prototype.Ru=function(t,e){return Gr(t,e)},t.prototype.nc=function(t,e,n){return this.db.Fo().nc(t,e,n)},t.prototype.Zs=function(t,e){return Gr(t,e)},t.prototype.Sa=function(t,e){return this.Ta.Ou(e)?On.resolve(!0):function(t,e){var n=!1;return Bn(t).Rs((function(r){return Fn(t,r,e).next((function(t){return t&&(n=!0),On.resolve(!t)}))})).next((function(){return n}))}(t,e)},t.prototype.ic=function(t,e){var n=this,r=this.db.No().Wo(),i=[],o=0;return this.Da(t,(function(s,a){if(a<=e){var u=n.Sa(t,s).next((function(e){if(!e)return o++,r.Zu(t,s).next((function(){return r.$u(s),sr(t).delete([0,bn(s.path)])}))}));i.push(u)}})).next((function(){return On.Wu(i)})).next((function(){return r.apply(t)})).next((function(){return o}))},t.prototype.removeTarget=function(t,e){var n=e.di(t.Zo);return this.db.Fo().nh(t,n)},t.prototype.ih=function(t,e){return Gr(t,e)},t.prototype.Da=function(t,e){var n,r=sr(t),i=gn.Mr;return r.Ss({index:Sr.documentTargetsIndex},(function(t,r){var o=r.path,s=r.sequenceNumber;0===t[0]?(i!==gn.Mr&&e(new ft(En(n)),i),i=s,n=o):i=gn.Mr})).next((function(){i!==gn.Mr&&e(new ft(En(n)),i)}))},t.prototype.ec=function(t){return this.db.No().Cc(t)},t}();function Gr(t,e){return sr(t).put(function(t,e){return new Sr(0,bn(t.path),e)}(e,t.Zo))}var Br=function(){function t(){}return t.prototype.xo=function(t){this.Ra=t},t.prototype.do=function(t,e,n,r){var i=this;return y(void 0!==this.Ra,"setLocalDocumentsView() not called"),e.Jn()||n.isEqual(at.MIN)?this.Ca(t,e):this.Ra.fo(t,r).next((function(o){var s=i.Aa(e,o);return(e.ii()||e.ei())&&i.Pa(e.Fn,s,r,n)?i.Ca(t,e):(f()<=0&&p("IndexFreeQueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),e.toString()),i.Ra.do(t,e,n).next((function(t){return s.forEach((function(e){t=t.lt(e.key,e)})),t})))}))},t.prototype.Aa=function(t,e){var n=new vt((function(e,n){return t.Xn(e,n)}));return e.forEach((function(e,r){r instanceof Xt&&t.matches(r)&&(n=n.add(r))})),n},t.prototype.Pa=function(t,e,n,r){if(n.size!==e.size)return!0;var i="F"===t?e.last():e.first();return!!i&&(i.hasPendingWrites||i.version.h(r)>0)},t.prototype.Ca=function(t,e){return f()<=0&&p("IndexFreeQueryEngine","Using full collection scan to execute query: %s",e.toString()),this.Ra.do(t,e,at.MIN)},t}(),zr=function(){function t(t,e){this.Cs=t,this.As=e,this.oo=[],this.ka=1,this.lastStreamToken=_e.ai,this.Na=new vt(Sn.Sn)}return t.prototype.Ns=function(t){return On.resolve(0===this.oo.length)},t.prototype.Os=function(t,e,n){var r=e.batchId,i=this.Oa(r,"acknowledged");y(0===i,"Can only acknowledge the first batch in the mutation queue");var o=this.oo[i];return y(r===o.batchId,"Queue ordering failure: expected batch "+r+", got batch "+o.batchId),this.lastStreamToken=n,On.resolve()},t.prototype.Vs=function(t){return On.resolve(this.lastStreamToken)},t.prototype.Us=function(t,e){return this.lastStreamToken=e,On.resolve()},t.prototype.xs=function(t,e,n,r){y(0!==r.length,"Mutation batches should not be empty");var i=this.ka;this.ka++,this.oo.length>0&&y(this.oo[this.oo.length-1].batchId<i,"Mutation batchIDs must be monotonically increasing order");var o=new In(i,e,n,r);this.oo.push(o);for(var s=0,a=r;s<a.length;s++){var u=a[s];this.Na=this.Na.add(new Sn(u.key,i)),this.Cs.Ls(t,u.key.path.H())}return On.resolve(o)},t.prototype.qs=function(t,e){return On.resolve(this.Fa(e))},t.prototype.Ms=function(t,e){var n=this.Fa(e);return y(null!=n,"Failed to find local mutation batch."),On.resolve(n.keys())},t.prototype.Qs=function(t,e){var n=this.Va(e+1),r=n<0?0:n;return On.resolve(this.oo.length>r?this.oo[r]:null)},t.prototype.Gs=function(){return On.resolve(0===this.oo.length?-1:this.ka-1)},t.prototype.Ws=function(t){return On.resolve(this.oo.slice())},t.prototype.zs=function(t,e){var n=this,r=new Sn(e,0),i=new Sn(e,Number.POSITIVE_INFINITY),o=[];return this.Na.Lt([r,i],(function(t){y(e.isEqual(t.key),"Should only iterate over a single key's batches");var r=n.Fa(t.Fu);y(null!==r,"Batches in the index must exist in the main table"),o.push(r)})),On.resolve(o)},t.prototype.Ks=function(t,e){var n=this,r=new vt(w);return e.forEach((function(t){var e=new Sn(t,0),i=new Sn(t,Number.POSITIVE_INFINITY);n.Na.Lt([e,i],(function(e){y(t.isEqual(e.key),"For each key, should only iterate over a single key's batches"),r=r.add(e.Fu)}))})),On.resolve(this.Ua(r))},t.prototype.Js=function(t,e){y(!e.ui(),"CollectionGroup queries should be handled in LocalDocumentsView");var n=e.path,r=n.length+1,i=n;ft.ht(i)||(i=i.child(""));var o=new Sn(new ft(i),0),s=new vt(w);return this.Na.qt((function(t){var e=t.key.path;return!!n.$(e)&&(e.length===r&&(s=s.add(t.Fu)),!0)}),o),On.resolve(this.Ua(s))},t.prototype.Ua=function(t){var e=this,n=[];return t.forEach((function(t){var r=e.Fa(t);null!==r&&n.push(r)})),n},t.prototype.Ys=function(t,e){var n=this;y(0===this.Oa(e.batchId,"removed"),"Can only remove the first entry of the mutation queue"),this.oo.shift();var r=this.Na;return On.forEach(e.mutations,(function(i){var o=new Sn(i.key,e.batchId);return r=r.delete(o),n.As.Zs(t,i.key)})).next((function(){n.Na=r}))},t.prototype.$s=function(t){},t.prototype.Ou=function(t,e){var n=new Sn(e,0),r=this.Na.Bt(n);return On.resolve(e.isEqual(r&&r.key))},t.prototype.to=function(t){return 0===this.oo.length&&y(this.Na.J(),"Document leak -- detected dangling mutation references when queue is empty."),On.resolve()},t.prototype.Oa=function(t,e){var n=this.Va(t);return y(n>=0&&n<this.oo.length,"Batches must exist to be "+e),n},t.prototype.Va=function(t){return 0===this.oo.length?0:t-this.oo[0].batchId},t.prototype.Fa=function(t){var e=this.Va(t);if(e<0||e>=this.oo.length)return null;var n=this.oo[e];return y(n.batchId===t,"If found batch must match"),n},t}(),Wr=function(){function t(t,e){this.Cs=t,this.xa=e,this.docs=new dt(ft.G),this.size=0}return t.prototype.Yu=function(t,e,n){y(!n.isEqual(at.MIN),"Cannot add a document with a read time of zero");var r=e.key,i=this.docs.get(r),o=i?i.size:0,s=this.xa(e);return this.docs=this.docs.lt(r,{bc:e,size:s,readTime:n}),this.size+=s-o,this.Cs.Ls(t,r.path.H())},t.prototype.$u=function(t){var e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)},t.prototype.Zu=function(t,e){var n=this.docs.get(e);return On.resolve(n?n.bc:null)},t.prototype.getEntries=function(t,e){var n=this,r=Re();return e.forEach((function(t){var e=n.docs.get(t);r=r.lt(t,e?e.bc:null)})),On.resolve(r)},t.prototype.do=function(t,e,n){y(!e.ui(),"CollectionGroup queries should be handled in LocalDocumentsView");for(var r=Me(),i=new ft(e.path.child("")),o=this.docs.yt(i);o.St();){var s=o.Dt(),a=s.value,u=a.bc,c=a.readTime;if(!e.path.$(s.key.path))break;c.h(n)<=0||u instanceof Xt&&e.matches(u)&&(r=r.lt(u.key,u))}return On.resolve(r)},t.prototype.ja=function(t,e){return On.forEach(this.docs,(function(t){return e(t)}))},t.prototype.Eh=function(t,e){throw new Error("getNewDocumentChanges() is not supported with MemoryPersistence")},t.prototype.Sh=function(t){return On.resolve(at.MIN)},t.prototype.Wo=function(e){return new t.Rc(this)},t.prototype.Cc=function(t){return On.resolve(this.size)},t.Rc=function(t){function e(e){var n=t.call(this)||this;return n.Ac=e,n}return o.__extends(e,t),e.prototype.es=function(t){var e=this,n=[];return this.Ku.forEach((function(r,i){i?n.push(e.Ac.Yu(t,i,e.readTime)):e.Ac.$u(r)})),On.Wu(n)},e.prototype.ts=function(t,e){return this.Ac.Zu(t,e)},e.prototype.ns=function(t,e){return this.Ac.getEntries(t,e)},e}(Nn),t}(),Kr=function(){function t(t){this.persistence=t,this.La=new An((function(t){return t.canonicalId()})),this.lastRemoteSnapshotVersion=at.MIN,this.highestTargetId=0,this.qa=0,this.Ba=new Tn,this.targetCount=0,this.uc=zn.ro()}return t.prototype.ce=function(t,e){return this.La.forEach((function(t,n){return e(n)})),On.resolve()},t.prototype.Jo=function(t){return On.resolve(this.lastRemoteSnapshotVersion)},t.prototype.hc=function(t){return On.resolve(this.qa)},t.prototype.fh=function(t){var e=this.uc.after(this.highestTargetId);return this.highestTargetId=e,On.resolve(e)},t.prototype.eh=function(t,e,n){return n&&(this.lastRemoteSnapshotVersion=n),e>this.qa&&(this.qa=e),On.resolve()},t.prototype.cc=function(t){this.La.set(t.target,t);var e=t.targetId;e>this.highestTargetId&&(this.highestTargetId=e),t.sequenceNumber>this.qa&&(this.qa=t.sequenceNumber)},t.prototype.lh=function(t,e){return y(!this.La.has(e.target),"Adding a target that already exists"),this.cc(e),this.targetCount+=1,On.resolve()},t.prototype.nh=function(t,e){return y(this.La.has(e.target),"Updating a non-existent target"),this.cc(e),On.resolve()},t.prototype.fc=function(t,e){return y(this.targetCount>0,"Removing a target from an empty cache"),y(this.La.has(e.target),"Removing a non-existent target from the cache"),this.La.delete(e.target),this.Ba.Pu(e.targetId),this.targetCount-=1,On.resolve()},t.prototype.nc=function(t,e,n){var r=this,i=0,o=[];return this.La.forEach((function(s,a){a.sequenceNumber<=e&&null===n.get(a.targetId)&&(r.La.delete(s),o.push(r.lc(t,a.targetId)),i++)})),On.Wu(o).next((function(){return i}))},t.prototype.wc=function(t){return On.resolve(this.targetCount)},t.prototype.ah=function(t,e){var n=this.La.get(e)||null;return On.resolve(n)},t.prototype.ye=function(t,e){return v("Not yet implemented.")},t.prototype.$o=function(t,e,n){this.Ba.Su(e,n);var r=this.persistence.As,i=[];return r&&e.forEach((function(e){i.push(r.Du(t,e))})),On.Wu(i)},t.prototype.Xo=function(t,e,n){this.Ba.Au(e,n);var r=this.persistence.As,i=[];return r&&e.forEach((function(e){i.push(r.Ru(t,e))})),On.Wu(i)},t.prototype.lc=function(t,e){return this.Ba.Pu(e),On.resolve()},t.prototype.wh=function(t,e){var n=this.Ba.Nu(e);return On.resolve(n)},t.prototype.Ou=function(t,e){return On.resolve(this.Ba.Ou(e))},t}(),$r=function(){function t(t,e){var n=this;this.clientId=t,this.Ma={},this.ea=new gn(0),this.Bc=!1,this.Bc=!0,this.As=e(this),this.Oo=new Kr(this),this.Cs=new fr,this.so=new Wr(this.Cs,(function(t){return n.As.Qa(t)}))}return t.Ga=function(e,n){return new t(e,(function(t){return new Jr(t,n)}))},t.Wa=function(e){return new t(e,(function(t){return new Qr(t)}))},t.prototype.shutdown=function(){return this.Bc=!1,Promise.resolve()},Object.defineProperty(t.prototype,"Co",{get:function(){return this.Bc},enumerable:!0,configurable:!0}),t.prototype.gh=function(){return o.__awaiter(this,void 0,void 0,(function(){return o.__generator(this,(function(t){return[2,[this.clientId]]}))}))},t.prototype.ra=function(t){return t(!0)},t.prototype.ua=function(){},t.prototype.yh=function(t){},t.prototype.Uo=function(){return this.Cs},t.prototype.Po=function(t){var e=this.Ma[t.v()];return e||(e=new zr(this.Cs,this.As),this.Ma[t.v()]=e),e},t.prototype.Fo=function(){return this.Oo},t.prototype.No=function(){return this.so},t.prototype.runTransaction=function(t,e,n){var r=this;p("MemoryPersistence","Starting transaction:",t);var i=new Yr(this.ea.next());return this.As.za(),n(i).next((function(t){return r.As.Ka(i).next((function(){return t}))})).Qu().then((function(t){return i.ss(),t}))},t.prototype.Ha=function(t,e){return On.zu((n=this.Ma,r=[],j(n,(function(t,e){return r.push(e)})),r).map((function(n){return function(){return n.Ou(t,e)}})));var n,r},t}(),Yr=function(t){function e(e){var n=t.call(this)||this;return n.Zo=e,n}return o.__extends(e,t),e}(xn),Qr=function(){function t(t){this.persistence=t,this.Ta=null,this.Ja=null}return Object.defineProperty(t.prototype,"Ya",{get:function(){if(this.Ja)return this.Ja;throw v("orphanedDocuments is only valid during a transaction.")},enumerable:!0,configurable:!0}),t.prototype.Ao=function(t){this.Ta=t},t.prototype.Du=function(t,e){return this.Ya.delete(e),On.resolve()},t.prototype.Ru=function(t,e){return this.Ya.add(e),On.resolve()},t.prototype.Zs=function(t,e){return this.Ya.add(e),On.resolve()},t.prototype.removeTarget=function(t,e){var n=this,r=this.persistence.Fo();return r.wh(t,e.targetId).next((function(t){t.forEach((function(t){return n.Ya.add(t)}))})).next((function(){return r.fc(t,e)}))},t.prototype.za=function(){this.Ja=new Set},t.prototype.Ka=function(t){var e=this,n=this.persistence.No().Wo();return On.forEach(this.Ya,(function(r){return e.Xa(t,r).next((function(t){t||n.$u(r)}))})).next((function(){return e.Ja=null,n.apply(t)}))},t.prototype.ih=function(t,e){var n=this;return this.Xa(t,e).next((function(t){t?n.Ya.delete(e):n.Ya.add(e)}))},t.prototype.Qa=function(t){return 0},t.prototype.Xa=function(t,e){var n=this;return On.zu([function(){return n.persistence.Fo().Ou(t,e)},function(){return n.persistence.Ha(t,e)},function(){return On.resolve(n.Ta.Ou(e))}])},t}(),Jr=function(){function t(t,e){this.persistence=t,this.Ta=null,this.$a=new An((function(t){return bn(t.path)})),this.Wh=new er(this,e)}return t.prototype.za=function(){},t.prototype.Ka=function(t){return On.resolve()},t.prototype.ce=function(t,e){return this.persistence.Fo().ce(t,e)},t.prototype.$h=function(t){var e=this.Za(t);return this.persistence.Fo().wc(t).next((function(t){return e.next((function(e){return t+e}))}))},t.prototype.Za=function(t){var e=0;return this.tc(t,(function(t){e++})).next((function(){return e}))},t.prototype.tc=function(t,e){var n=this;return On.forEach(this.$a,(function(r,i){return n.Sa(t,r,i).next((function(t){return t?On.resolve():e(i)}))}))},t.prototype.Ao=function(t){this.Ta=t},t.prototype.nc=function(t,e,n){return this.persistence.Fo().nc(t,e,n)},t.prototype.ic=function(t,e){var n=this,r=0,i=this.persistence.No(),o=i.Wo();return i.ja(t,(function(i){return n.Sa(t,i,e).next((function(t){t||(r++,o.$u(i))}))})).next((function(){return o.apply(t)})).next((function(){return r}))},t.prototype.Zs=function(t,e){return this.$a.set(e,t.Zo),On.resolve()},t.prototype.removeTarget=function(t,e){var n=e.di(t.Zo);return this.persistence.Fo().nh(t,n)},t.prototype.Du=function(t,e){return this.$a.set(e,t.Zo),On.resolve()},t.prototype.Ru=function(t,e){return this.$a.set(e,t.Zo),On.resolve()},t.prototype.ih=function(t,e){return this.$a.set(e,t.Zo),On.resolve()},t.prototype.Qa=function(t){var e=t.key.toString().length;return t instanceof Xt&&(e+=t.data().bn()),e},t.prototype.Sa=function(t,e,n){var r=this;return On.zu([function(){return r.persistence.Ha(t,e)},function(){return On.resolve(r.Ta.Ou(e))},function(){return r.persistence.Fo().Ou(t,e)},function(){var t=r.$a.get(e);return On.resolve(void 0!==t&&t>n)}])},t.prototype.ec=function(t){return this.persistence.No().Cc(t)},t}(),Xr=function(){function t(t,e,n,r,i){void 0===n&&(n=1e3),void 0===r&&(r=1.5),void 0===i&&(i=6e4),this.Lc=t,this.Gr=e,this.tf=n,this.nf=r,this.if=i,this.ef=0,this.rf=null,this.uf=Date.now(),this.reset()}return t.prototype.reset=function(){this.ef=0},t.prototype.sf=function(){this.ef=this.if},t.prototype.hf=function(t){var e=this;this.cancel();var n=Math.floor(this.ef+this.cf()),r=Math.max(0,Date.now()-this.uf),i=Math.max(0,n-r);this.ef>0&&p("ExponentialBackoff","Backing off for "+i+" ms (base delay: "+this.ef+" ms, delay with jitter: "+n+" ms, last attempt: "+r+" ms ago)"),this.rf=this.Lc.fu(this.Gr,i,(function(){return e.uf=Date.now(),t()})),this.ef*=this.nf,this.ef<this.tf&&(this.ef=this.tf),this.ef>this.if&&(this.ef=this.if)},t.prototype.cancel=function(){null!==this.rf&&(this.rf.cancel(),this.rf=null)},t.prototype.cf=function(){return(Math.random()-.5)*this.ef},t}(),Zr=function(){function t(t,e,n,r,i,o){this.Lc=t,this.af=n,this.connection=r,this.ff=i,this.listener=o,this.state=0,this.lf=0,this.df=null,this.stream=null,this.vf=new Xr(t,e)}return t.prototype.wf=function(){return 1===this.state||2===this.state||4===this.state},t.prototype.mf=function(){return 2===this.state},t.prototype.start=function(){3!==this.state?(y(0===this.state,"Already started"),this.auth()):this.pf()},t.prototype.stop=function(){return o.__awaiter(this,void 0,void 0,(function(){return o.__generator(this,(function(t){switch(t.label){case 0:return this.wf()?[4,this.close(0)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))},t.prototype.gf=function(){y(!this.wf(),"Can only inhibit backoff in a stopped state"),this.state=0,this.vf.reset()},t.prototype.bf=function(){var t=this;this.mf()&&null===this.df&&(this.df=this.Lc.fu(this.af,6e4,(function(){return t.yf()})))},t.prototype._f=function(t){this.If(),this.stream.send(t)},t.prototype.yf=function(){return o.__awaiter(this,void 0,void 0,(function(){return o.__generator(this,(function(t){return this.mf()?[2,this.close(0)]:[2]}))}))},t.prototype.If=function(){this.df&&(this.df.cancel(),this.df=null)},t.prototype.close=function(t,e){return o.__awaiter(this,void 0,void 0,(function(){return o.__generator(this,(function(n){switch(n.label){case 0:return y(this.wf(),"Only started streams should be closed."),y(3===t||oe(e),"Can't provide an error when not in an error state."),this.If(),this.vf.cancel(),this.lf++,3!==t?this.vf.reset():e&&e.code===S.RESOURCE_EXHAUSTED?(g(e.toString()),g("Using maximum backoff delay to prevent overloading the backend."),this.vf.sf()):e&&e.code===S.UNAUTHENTICATED&&this.ff.I(),null!==this.stream&&(this.Tf(),this.stream.close(),this.stream=null),this.state=t,[4,this.listener.Ef(e)];case 1:return n.sent(),[2]}}))}))},t.prototype.Tf=function(){},t.prototype.auth=function(){var t=this;y(0===this.state,"Must be in initial state to auth"),this.state=1;var e=this.Df(this.lf),n=this.lf;this.ff.getToken().then((function(e){t.lf===n&&t.Sf(e)}),(function(n){e((function(){var e=new A(S.UNKNOWN,"Fetching auth token failed: "+n.message);return t.Rf(e)}))}))},t.prototype.Sf=function(t){var e=this;y(1===this.state,"Trying to start stream in a non-starting state");var n=this.Df(this.lf);this.stream=this.Cf(t),this.stream.Af((function(){n((function(){return y(1===e.state,"Expected stream to be in state Starting, but was "+e.state),e.state=2,e.listener.Af()}))})),this.stream.Ef((function(t){n((function(){return e.Rf(t)}))})),this.stream.onMessage((function(t){n((function(){return e.onMessage(t)}))}))},t.prototype.pf=function(){var t=this;y(3===this.state,"Should only perform backoff when in Error state"),this.state=4,this.vf.hf((function(){return o.__awaiter(t,void 0,void 0,(function(){return o.__generator(this,(function(t){return y(4===this.state,"Backoff elapsed but state is now: "+this.state),this.state=0,this.start(),y(this.wf(),"PersistentStream should have started"),[2]}))}))}))},t.prototype.Rf=function(t){return y(this.wf(),"Can't handle server close on non-started stream"),p("PersistentStream","close with error: "+t),this.stream=null,this.close(3,t)},t.prototype.Df=function(t){var e=this;return function(n){e.Lc.$r((function(){return e.lf===t?n():(p("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}},t}(),ti=function(t){function e(e,n,r,i,o){var s=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle",n,r,o)||this;return s.serializer=i,s}return o.__extends(e,t),e.prototype.Cf=function(t){return this.connection.Pf("Listen",t)},e.prototype.onMessage=function(t){this.vf.reset();var e=this.serializer.Ze(t),n=this.serializer.nr(t);return this.listener.kf(e,n)},e.prototype.watch=function(t){var e={};e.database=this.serializer.je,e.addTarget=this.serializer.Yn(t);var n=this.serializer.Tr(t);n&&(e.labels=n),this._f(e)},e.prototype.Nf=function(t){var e={};e.database=this.serializer.je,e.removeTarget=t,this._f(e)},e}(Zr),ei=function(t){function e(e,n,r,i,o){var s=t.call(this,e,"write_stream_connection_backoff","write_stream_idle",n,r,o)||this;return s.serializer=i,s.Of=!1,s.lastStreamToken=_e.ai,s}return o.__extends(e,t),Object.defineProperty(e.prototype,"Ff",{get:function(){return this.Of},enumerable:!0,configurable:!0}),e.prototype.start=function(){this.Of=!1,t.prototype.start.call(this)},e.prototype.Tf=function(){this.Of&&this.Vf([])},e.prototype.Cf=function(t){return this.connection.Pf("Write",t)},e.prototype.onMessage=function(t){if(y(!!t.streamToken,"Got a write response without a stream token"),this.lastStreamToken=this.serializer.Re(t.streamToken),this.Of){this.vf.reset();var e=this.serializer.lr(t.writeResults,t.commitTime),n=this.serializer.fromVersion(t.commitTime);return this.listener.Uf(n,e)}return y(!t.writeResults||0===t.writeResults.length,"Got mutation results for handshake"),this.Of=!0,this.listener.xf()},e.prototype.jf=function(){y(this.mf(),"Writing handshake requires an opened stream"),y(!this.Of,"Handshake already completed");var t={};t.database=this.serializer.je,this._f(t)},e.prototype.Vf=function(t){var e=this;y(this.mf(),"Writing mutations requires an opened stream"),y(this.Of,"Handshake must be complete before writing mutations"),y(this.lastStreamToken.bn()>0,"Trying to write mutation without a token");var n={streamToken:this.serializer.Se(this.lastStreamToken),writes:t.map((function(t){return e.serializer.ir(t)}))};this._f(n)},e}(Zr),ni=function(){function t(t,e,n,r){this.Lc=t,this.connection=e,this.credentials=n,this.serializer=r}return t.prototype.Lf=function(t){return new ei(this.Lc,this.connection,this.credentials,this.serializer,t)},t.prototype.qf=function(t){return new ti(this.Lc,this.connection,this.credentials,this.serializer,t)},t.prototype.commit=function(t){var e=this,n={database:this.serializer.je,writes:t.map((function(t){return e.serializer.ir(t)}))};return this.Bf("Commit",n).then((function(t){return e.serializer.lr(t.writeResults,t.commitTime)}))},t.prototype.lookup=function(t){var e=this,n={database:this.serializer.je,documents:t.map((function(t){return e.serializer.Oe(t)}))};return this.Mf("BatchGetDocuments",n).then((function(n){var r=Pe();n.forEach((function(t){var n=e.serializer.Ye(t);r=r.lt(n.key,n)}));var i=[];return t.forEach((function(t){var e=r.get(t);y(!!e,"Missing entity in write response for "+t),i.push(e)})),i}))},t.prototype.Bf=function(t,e){var n=this;return this.credentials.getToken().then((function(r){return n.connection.Bf(t,e,r)})).catch((function(t){throw t.code===S.UNAUTHENTICATED&&n.credentials.I(),t}))},t.prototype.Mf=function(t,e){var n=this;return this.credentials.getToken().then((function(r){return n.connection.Mf(t,e,r)})).catch((function(t){throw t.code===S.UNAUTHENTICATED&&n.credentials.I(),t}))},t}(),ri=function(){function t(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];G("FieldPath",t,"fieldNames",1);for(var n=0;n<t.length;++n)if(B("FieldPath","string",n,t[n]),0===t[n].length)throw new A(S.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this.Qf=new lt(t)}return t.documentId=function(){return t.Gf},t.prototype.isEqual=function(e){if(!(e instanceof t))throw et("isEqual","FieldPath",1,e);return this.Qf.isEqual(e.Qf)},t.Gf=new t(lt.st().nt()),t}(),ii=new RegExp("[~\\*/\\[\\]]"),oi=function(){function t(t){this.Wf=t}return t.delete=function(){return V("FieldValue.delete",arguments),si.instance},t.serverTimestamp=function(){return V("FieldValue.serverTimestamp",arguments),ai.instance},t.arrayUnion=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return q("FieldValue.arrayUnion",arguments,1),new ui(t)},t.arrayRemove=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return q("FieldValue.arrayRemove",arguments,1),new ci(t)},t.increment=function(t){return B("FieldValue.increment","number",1,t),F("FieldValue.increment",arguments,1),new hi(t)},t.prototype.isEqual=function(t){return this===t},t}(),si=function(t){function e(){return t.call(this,"FieldValue.delete")||this}return o.__extends(e,t),e.instance=new e,e}(oi),ai=function(t){function e(){return t.call(this,"FieldValue.serverTimestamp")||this}return o.__extends(e,t),e.instance=new e,e}(oi),ui=function(t){function e(e){var n=t.call(this,"FieldValue.arrayUnion")||this;return n.zf=e,n}return o.__extends(e,t),e}(oi),ci=function(t){function e(e){var n=t.call(this,"FieldValue.arrayRemove")||this;return n.zf=e,n}return o.__extends(e,t),e}(oi),hi=function(t){function e(e){var n=t.call(this,"FieldValue.increment")||this;return n.Kf=e,n}return o.__extends(e,t),e}(oi),li=hn(oi,"Use FieldValue.<field>() instead."),fi=/^__.*__$/,di=function(){function t(t,e,n){this.data=t,this.un=e,this.fieldTransforms=n}return t.prototype.Hf=function(t,e){var n=[];return n.push(null!==this.un?new kt(t,this.data,this.un,e):new Nt(t,this.data,e)),this.fieldTransforms.length>0&&n.push(new xt(t,this.fieldTransforms)),n},t}(),pi=function(){function t(t,e,n){this.data=t,this.un=e,this.fieldTransforms=n}return t.prototype.Hf=function(t,e){var n=[new kt(t,this.data,this.un,e)];return this.fieldTransforms.length>0&&n.push(new xt(t,this.fieldTransforms)),n},t}();function gi(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw v("Unexpected case for UserDataSource: "+t)}}var mi=function(){function t(t,e,n,r,i,o){this.Jf=t,this.methodName=e,this.path=n,this.Yf=r,void 0===i&&this.Xf(),this.Yf=void 0!==r&&r,this.fieldTransforms=i||[],this.un=o||[]}return t.prototype.$f=function(e){var n=null==this.path?null:this.path.child(e),r=new t(this.Jf,this.methodName,n,!1,this.fieldTransforms,this.un);return r.Zf(e),r},t.prototype.tl=function(e){var n=null==this.path?null:this.path.child(e),r=new t(this.Jf,this.methodName,n,!1,this.fieldTransforms,this.un);return r.Xf(),r},t.prototype.nl=function(e){return new t(this.Jf,this.methodName,null,!0,this.fieldTransforms,this.un)},t.prototype.il=function(t){var e=null===this.path||this.path.J()?"":" (found in field "+this.path.toString()+")";return new A(S.INVALID_ARGUMENT,"Function "+this.methodName+"() called with invalid data. "+t+e)},t.prototype.contains=function(t){return void 0!==this.un.find((function(e){return t.$(e)}))||void 0!==this.fieldTransforms.find((function(e){return t.$(e.field)}))},t.prototype.Xf=function(){if(null!==this.path)for(var t=0;t<this.path.length;t++)this.Zf(this.path.get(t))},t.prototype.Zf=function(t){if(0===t.length)throw this.il("Document fields must not be empty");if(gi(this.Jf)&&fi.test(t))throw this.il('Document fields cannot begin and end with "__"')},t}(),vi=function(t,e){this.s=t,this.key=e},yi=function(){function t(t){this.el=t}return t.prototype.rl=function(t,e){var n=new mi(0,t,lt.et);wi("Data must be an object, but it was:",n,e);var r=this.ul(e,n);return new di(r,null,n.fieldTransforms)},t.prototype.sl=function(t,e,n){var r=new mi(2,t,lt.et);wi("Data must be an object, but it was:",r,e);var i,o,s=this.ul(e,r);if(n){for(var a=new vt(lt.G),u=0,c=n;u<c.length;u++){var h=c[u],l=void 0;if(h instanceof ri)l=h.Qf;else{if("string"!=typeof h)throw v("Expected stringOrFieldPath to be a string or a FieldPath");l=Ei(t,h)}if(!r.contains(l))throw new A(S.INVALID_ARGUMENT,"Field '"+l+"' is specified in your field mask but missing from your input data.");a=a.add(l)}i=Ct.Jt(a),o=r.fieldTransforms.filter((function(t){return i.Xt(t.field)}))}else i=Ct.Yt(r.un),o=r.fieldTransforms;return new di(s,i,o)},t.prototype.ol=function(t,e){var n=this,r=new mi(1,t,lt.et);wi("Data must be an object, but it was:",r,e);var i=new vt(lt.G),o=$t.vn();j(e,(function(e,s){var a=Ei(t,e),u=r.tl(a);if((s=n.hl(s,u))instanceof si)i=i.add(a);else{var c=n.ul(s,u);null!=c&&(i=i.add(a),o.set(a,c))}}));var s=Ct.Jt(i);return new pi(o.cn(),s,r.fieldTransforms)},t.prototype.cl=function(t,e,n,r){var i=new mi(1,t,lt.et),o=[_i(t,e)],s=[n];if(r.length%2!=0)throw new A(S.INVALID_ARGUMENT,"Function "+t+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var a=0;a<r.length;a+=2)o.push(_i(t,r[a])),s.push(r[a+1]);var u=new vt(lt.G),c=$t.vn();for(a=0;a<o.length;++a){var h=o[a],l=i.tl(h),f=this.hl(s[a],l);if(f instanceof si)u=u.add(h);else{var d=this.ul(f,l);null!=d&&(u=u.add(h),c.set(h,d))}}var p=Ct.Jt(u);return new pi(c.cn(),p,i.fieldTransforms)},t.prototype.al=function(t,e,n){void 0===n&&(n=!1);var r=new mi(n?4:3,t,lt.et),i=this.ul(e,r);return y(null!=i,"Parsed data should not be null."),y(0===r.fieldTransforms.length,"Field transforms should have been disallowed."),i},t.prototype.hl=function(t,e){try{return this.el(t)}catch(t){var n=Ii(t);throw e.il(n)}},t.prototype.ul=function(t,e){if(bi(t=this.hl(t,e)))return wi("Unsupported field value:",e,t),this.fl(t,e);if(t instanceof oi)return this.ll(t,e),null;if(e.path&&e.un.push(e.path),t instanceof Array){if(e.Yf&&4!==e.Jf)throw e.il("Nested arrays are not supported");return this.dl(t,e)}return this.vl(t,e)},t.prototype.fl=function(t,e){var n=this,r=new dt(w);return U(t)?e.path&&e.path.length>0&&e.un.push(e.path):j(t,(function(t,i){var o=n.ul(i,e.$f(t));null!=o&&(r=r.lt(t,o))})),new $t(r)},t.prototype.dl=function(t,e){for(var n=[],r=0,i=0,o=t;i<o.length;i++){var s=this.ul(o[i],e.nl(r));null==s&&(s=Lt.yn),n.push(s),r++}return new Qt(n)},t.prototype.ll=function(t,e){if(!gi(e.Jf))throw e.il(t.Wf+"() can only be used with update() and set()");if(null===e.path)throw e.il(t.Wf+"() is not currently supported inside arrays");if(t instanceof si){if(2!==e.Jf)throw 1===e.Jf?(y(e.path.length>0,"FieldValue.delete() at the top level should have already been handled."),e.il("FieldValue.delete() can only appear at the top level of your update data")):e.il("FieldValue.delete() cannot be used with set() unless you pass {merge:true}");e.un.push(e.path)}else if(t instanceof ai)e.fieldTransforms.push(new Tt(e.path,bt.instance));else if(t instanceof ui){var n=this.wl(t.Wf,t.zf),r=new wt(n);e.fieldTransforms.push(new Tt(e.path,r))}else if(t instanceof ci){n=this.wl(t.Wf,t.zf);var i=new _t(n);e.fieldTransforms.push(new Tt(e.path,i))}else if(t instanceof hi){var o=this.al("FieldValue.increment",t.Kf),s=new Et(o);e.fieldTransforms.push(new Tt(e.path,s))}else v("Unknown FieldValue type: "+t)},t.prototype.vl=function(t,e){if(null===t)return Lt.yn;if("number"==typeof t)return se(t)?new Ft(t):new qt(t);if("boolean"==typeof t)return jt.of(t);if("string"==typeof t)return new Ht(t);if(t instanceof Date)return new Gt(st.fromDate(t));if(t instanceof st)return new Gt(new st(t.seconds,1e3*Math.floor(t.nanoseconds/1e3)));if(t instanceof ot)return new Kt(t);if(t instanceof dn)return new zt(t);if(t instanceof vi)return new Wt(t.s,t.key);throw e.il("Unsupported field value: "+X(t))},t.prototype.wl=function(t,e){var n=this;return e.map((function(e,r){var i=new mi(3,t,lt.et);return n.ul(e,i.nl(r))}))},t}();function bi(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof st||t instanceof ot||t instanceof dn||t instanceof vi||t instanceof oi)}function wi(t,e,n){if(!bi(n)||!J(n)){var r=X(n);throw e.il("an object"===r?t+" a custom object":t+" "+r)}}function _i(t,e){if(e instanceof ri)return e.Qf;if("string"==typeof e)return Ei(t,e);throw new A(S.INVALID_ARGUMENT,"Function "+t+"() called with invalid data. Field path arguments must be of type string or FieldPath.")}function Ei(t,e){try{return function(t){if(t.search(ii)>=0)throw new A(S.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not contain '~', '*', '/', '[', or ']'");try{return new(ri.bind.apply(ri,o.__spreadArrays([void 0],t.split("."))))}catch(e){throw new A(S.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'")}}(e).Qf}catch(r){var n=Ii(r);throw new A(S.INVALID_ARGUMENT,"Function "+t+"() called with invalid data. "+n)}}function Ii(t){return t instanceof Error?t.message:t.toString()}var Ci=function(){function t(t){this.ml=t,this.pl=je(),this.mutations=[],this.gl=!1,this.bl=null,this.yl=new Set}return t.prototype.lookup=function(t){return o.__awaiter(this,void 0,void 0,(function(){var e,n=this;return o.__generator(this,(function(r){switch(r.label){case 0:if(this._l(),this.mutations.length>0)throw new A(S.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,this.ml.lookup(t)];case 1:return(e=r.sent()).forEach((function(t){t instanceof Zt||t instanceof Xt?n.Il(t):v("Document in a transaction was a "+t.constructor.name)})),[2,e]}}))}))},t.prototype.set=function(t,e){this.write(e.Hf(t,this.in(t))),this.yl.add(t)},t.prototype.update=function(t,e){try{this.write(e.Hf(t,this.Tl(t)))}catch(t){this.bl=t}this.yl.add(t)},t.prototype.delete=function(t){this.write([new Pt(t,this.in(t))]),this.yl.add(t)},t.prototype.commit=function(){return o.__awaiter(this,void 0,void 0,(function(){var t,e=this;return o.__generator(this,(function(n){switch(n.label){case 0:if(this._l(),this.bl)throw this.bl;return t=this.pl,this.mutations.forEach((function(e){t=t.remove(e.key)})),t.forEach((function(t,n){e.mutations.push(new Rt(t,e.in(t)))})),[4,this.ml.commit(this.mutations)];case 1:return n.sent(),this.gl=!0,[2]}}))}))},t.prototype.Il=function(t){var e;if(t instanceof Xt)e=t.version;else{if(!(t instanceof Zt))throw v("Document in a transaction was a "+t.constructor.name);e=at.q()}var n=this.pl.get(t.key);if(null!==n){if(!e.isEqual(n))throw new A(S.ABORTED,"Document version changed between two reads.")}else this.pl=this.pl.lt(t.key,e)},t.prototype.in=function(t){var e=this.pl.get(t);return!this.yl.has(t)&&e?At.updateTime(e):At.NONE},t.prototype.Tl=function(t){var e=this.pl.get(t);if(!this.yl.has(t)&&e){if(e.isEqual(at.q()))throw new A(S.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return At.updateTime(e)}return At.exists(!0)},t.prototype.write=function(t){this._l(),this.mutations=this.mutations.concat(t)},t.prototype._l=function(){y(!this.gl,"A transaction object cannot be used after its update callback has been invoked.")},t}(),Ti=function(){function t(t,e){this.Qr=t,this.El=e,this.state="Unknown",this.Dl=0,this.Sl=null,this.Rl=!0}return t.prototype.Cl=function(){var t=this;0===this.Dl&&(this.Al("Unknown"),y(null===this.Sl,"onlineStateTimer shouldn't be started yet"),this.Sl=this.Qr.fu("online_state_timeout",1e4,(function(){return t.Sl=null,y("Unknown"===t.state,"Timer should be canceled if we transitioned to a different state."),t.Pl("Backend didn't respond within 10 seconds."),t.Al("Offline"),Promise.resolve()})))},t.prototype.kl=function(t){"Online"===this.state?(this.Al("Unknown"),y(0===this.Dl,"watchStreamFailures must be 0"),y(null===this.Sl,"onlineStateTimer must be null")):(this.Dl++,this.Dl>=1&&(this.Nl(),this.Pl("Connection failed 1 times. Most recent error: "+t.toString()),this.Al("Offline")))},t.prototype.set=function(t){this.Nl(),this.Dl=0,"Online"===t&&(this.Rl=!1),this.Al(t)},t.prototype.Al=function(t){t!==this.state&&(this.state=t,this.El(t))},t.prototype.Pl=function(t){var e="Could not reach Cloud Firestore backend. "+t+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.Rl?(g(e),this.Rl=!1):p("OnlineStateTracker",e)},t.prototype.Nl=function(){null!==this.Sl&&(this.Sl.cancel(),this.Sl=null)},t}(),Si=function(){function t(t,e,n,r,i){var s=this;this.zh=t,this.ml=e,this.Ol=[],this.Fl={},this.Vl=null,this.networkEnabled=!1,this.isPrimary=!1,this.Ul=i,this.Ul.xl((function(t){n.$r((function(){return o.__awaiter(s,void 0,void 0,(function(){return o.__generator(this,(function(t){switch(t.label){case 0:return this.jl()?(p("RemoteStore","Restarting streams for network reachability change."),[4,this.Ll()]):[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))}))})),this.ql=new Ti(n,r),this.Bl=this.ml.qf({Af:this.Ml.bind(this),Ef:this.Ql.bind(this),kf:this.Gl.bind(this)}),this.Wl=this.ml.Lf({Af:this.zl.bind(this),Ef:this.Kl.bind(this),xf:this.Hl.bind(this),Uf:this.Uf.bind(this)})}return t.prototype.start=function(){return this.enableNetwork()},t.prototype.enableNetwork=function(){return o.__awaiter(this,void 0,void 0,(function(){var t;return o.__generator(this,(function(e){switch(e.label){case 0:return this.networkEnabled=!0,this.jl()?(t=this.Wl,[4,this.zh.Vs()]):[3,3];case 1:return t.lastStreamToken=e.sent(),this.Jl()?this.Yl():this.ql.set("Unknown"),[4,this.Xl()];case 2:e.sent(),e.label=3;case 3:return[2]}}))}))},t.prototype.disableNetwork=function(){return o.__awaiter(this,void 0,void 0,(function(){return o.__generator(this,(function(t){switch(t.label){case 0:return this.networkEnabled=!1,[4,this.$l()];case 1:return t.sent(),this.ql.set("Offline"),[2]}}))}))},t.prototype.$l=function(){return o.__awaiter(this,void 0,void 0,(function(){return o.__generator(this,(function(t){switch(t.label){case 0:return[4,this.Wl.stop()];case 1:return t.sent(),[4,this.Bl.stop()];case 2:return t.sent(),this.Ol.length>0&&(p("RemoteStore","Stopping write stream with "+this.Ol.length+" pending writes"),this.Ol=[]),this.Zl(),[2]}}))}))},t.prototype.shutdown=function(){return o.__awaiter(this,void 0,void 0,(function(){return o.__generator(this,(function(t){switch(t.label){case 0:return p("RemoteStore","RemoteStore shutting down."),this.networkEnabled=!1,[4,this.$l()];case 1:return t.sent(),this.Ul.shutdown(),this.ql.set("Unknown"),[2]}}))}))},t.prototype.listen=function(t){D(this.Fl,t.targetId)||(this.Fl[t.targetId]=t,this.Jl()?this.Yl():this.Bl.mf()&&this.td(t))},t.prototype.nd=function(t){y(D(this.Fl,t),"unlisten called on target no currently watched: "+t),delete this.Fl[t],this.Bl.mf()&&this.ed(t),U(this.Fl)&&(this.Bl.mf()?this.Bl.bf():this.jl()&&this.ql.set("Unknown"))},t.prototype.ye=function(t){return this.Fl[t]||null},t.prototype.be=function(t){return this.rd.be(t)},t.prototype.td=function(t){this.Vl.Xi(t.targetId),this.Bl.watch(t)},t.prototype.ed=function(t){this.Vl.Xi(t),this.Bl.Nf(t)},t.prototype.Yl=function(){y(this.Jl(),"startWatchStream() called when shouldStartWatchStream() is false."),this.Vl=new Je(this),this.Bl.start(),this.ql.Cl()},t.prototype.Jl=function(){return this.jl()&&!this.Bl.wf()&&!U(this.Fl)},t.prototype.jl=function(){return this.isPrimary&&this.networkEnabled},t.prototype.Zl=function(){this.Vl=null},t.prototype.Ml=function(){return o.__awaiter(this,void 0,void 0,(function(){var t=this;return o.__generator(this,(function(e){return L(this.Fl,(function(e,n){t.td(n)})),[2]}))}))},t.prototype.Ql=function(t){return o.__awaiter(this,void 0,void 0,(function(){return o.__generator(this,(function(e){return void 0===t&&y(!this.Jl(),"Watch stream was stopped gracefully while still needed."),this.Zl(),this.Jl()?(this.ql.kl(t),this.Yl()):this.ql.set("Unknown"),[2]}))}))},t.prototype.Gl=function(t,e){return o.__awaiter(this,void 0,void 0,(function(){var n;return o.__generator(this,(function(r){switch(r.label){case 0:return this.ql.set("Online"),t instanceof Ye&&2===t.state&&t.cause?[2,this.ud(t)]:(t instanceof Ke?this.Vl.ue(t):t instanceof $e?this.Vl.de(t):(y(t instanceof Ye,"Expected watchChange to be an instance of WatchTargetChange"),this.Vl.he(t)),e.isEqual(at.MIN)?[3,3]:[4,this.zh.Jo()]);case 1:return n=r.sent(),e.h(n)>=0?[4,this.sd(e)]:[3,3];case 2:r.sent(),r.label=3;case 3:return[2]}}))}))},t.prototype.sd=function(t){var e=this;y(!t.isEqual(at.MIN),"Can't raise event for unknown SnapshotVersion");var n=this.Vl.me(t);return L(n.Si,(function(n,r){if(r.resumeToken.bn()>0){var i=e.Fl[n];i&&(e.Fl[n]=i.vi(r.resumeToken,t))}})),n.Ri.forEach((function(t){var n=e.Fl[t];if(n){e.Fl[t]=n.vi(_e.ai,n.li),e.ed(t);var r=new Se(n.target,t,1,n.sequenceNumber);e.td(r)}})),this.rd.Yo(n)},t.prototype.ud=function(t){var e=this;y(!!t.cause,"Handling target error without a cause");var n=t.cause,r=Promise.resolve();return t.targetIds.forEach((function(t){r=r.then((function(){return o.__awaiter(e,void 0,void 0,(function(){return o.__generator(this,(function(e){return D(this.Fl,t)?(delete this.Fl[t],this.Vl.removeTarget(t),[2,this.rd.od(t,n)]):[2]}))}))}))})),r},t.prototype.Xl=function(){return o.__awaiter(this,void 0,void 0,(function(){var t;return o.__generator(this,(function(e){switch(e.label){case 0:return this.hd()?[4,this.zh.sh(this.Ol.length>0?this.Ol[this.Ol.length-1].batchId:-1)]:[3,4];case 1:return null!==(t=e.sent())?[3,2]:(0===this.Ol.length&&this.Wl.bf(),[3,4]);case 2:return this.ad(t),[4,this.Xl()];case 3:e.sent(),e.label=4;case 4:return this.fd()&&this.ld(),[2]}}))}))},t.prototype.hd=function(){return this.jl()&&this.Ol.length<10},t.prototype.dd=function(){return this.Ol.length},t.prototype.ad=function(t){y(this.hd(),"addToWritePipeline called when pipeline is full"),this.Ol.push(t),this.Wl.mf()&&this.Wl.Ff&&this.Wl.Vf(t.mutations)},t.prototype.fd=function(){return this.jl()&&!this.Wl.wf()&&this.Ol.length>0},t.prototype.ld=function(){y(this.fd(),"startWriteStream() called when shouldStartWriteStream() is false."),this.Wl.start()},t.prototype.zl=function(){return o.__awaiter(this,void 0,void 0,(function(){return o.__generator(this,(function(t){return this.Wl.jf(),[2]}))}))},t.prototype.Hl=function(){var t=this;return this.zh.Us(this.Wl.lastStreamToken).then((function(){for(var e=0,n=t.Ol;e<n.length;e++)t.Wl.Vf(n[e].mutations)})).catch(Yn)},t.prototype.Uf=function(t,e){var n=this;y(this.Ol.length>0,"Got result for empty write pipeline");var r=this.Ol.shift(),i=Cn.from(r,t,e,this.Wl.lastStreamToken);return this.rd.vd(i).then((function(){return n.Xl()}))},t.prototype.Kl=function(t){return o.__awaiter(this,void 0,void 0,(function(){var e=this;return o.__generator(this,(function(n){return void 0===t&&y(!this.fd(),"Write stream was stopped gracefully while still needed."),t&&this.Ol.length>0?[2,(this.Wl.Ff?this.wd(t):this.md(t)).then((function(){e.fd()&&e.ld()}))]:[2]}))}))},t.prototype.md=function(t){return o.__awaiter(this,void 0,void 0,(function(){return o.__generator(this,(function(e){return Oe(t.code)?(p("RemoteStore","RemoteStore error before completed handshake; resetting stream token: ",this.Wl.lastStreamToken),this.Wl.lastStreamToken=_e.ai,[2,this.zh.Us(_e.ai).catch(Yn)]):[2]}))}))},t.prototype.wd=function(t){return o.__awaiter(this,void 0,void 0,(function(){var e,n=this;return o.__generator(this,(function(r){return Oe(i=t.code)&&i!==S.ABORTED?(e=this.Ol.shift(),this.Wl.gf(),[2,this.rd.pd(e.batchId,t).then((function(){return n.Xl()}))]):[2];var i}))}))},t.prototype.gd=function(){return new Ci(this.ml)},t.prototype.Ll=function(){return o.__awaiter(this,void 0,void 0,(function(){return o.__generator(this,(function(t){switch(t.label){case 0:return this.networkEnabled=!1,[4,this.$l()];case 1:return t.sent(),this.ql.set("Unknown"),[4,this.enableNetwork()];case 2:return t.sent(),[2]}}))}))},t.prototype.bd=function(){return o.__awaiter(this,void 0,void 0,(function(){return o.__generator(this,(function(t){switch(t.label){case 0:return this.jl()?(p("RemoteStore","RemoteStore restarting streams for new credential"),[4,this.Ll()]):[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))},t.prototype.yd=function(t){return o.__awaiter(this,void 0,void 0,(function(){return o.__generator(this,(function(e){switch(e.label){case 0:return this.isPrimary=t,t&&this.networkEnabled?[4,this.enableNetwork()]:[3,2];case 1:return e.sent(),[3,4];case 2:return t?[3,4]:[4,this.$l()];case 3:e.sent(),this.ql.set("Unknown"),e.label=4;case 4:return[2]}}))}))},t}();function Ai(t,e){return y(-1===e.indexOf("_"),"Client key cannot contain '_', but was '"+e+"'"),"firestore_clients_"+t+"_"+e}function Oi(t,e,n){var r="firestore_mutations_"+t+"_"+n;return e.l()&&(r+="_"+e.uid),r}function Ni(t,e){return"firestore_targets_"+t+"_"+e}var ki=function(){function t(t,e,n,r){this.user=t,this.batchId=e,this.state=n,this.error=r,y(void 0!==r==("rejected"===n),"MutationMetadata must contain an error iff state is 'rejected'")}return t._d=function(e,n,r){var i=JSON.parse(r),o="object"==typeof i&&-1!==["pending","acknowledged","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error),s=void 0;return o&&i.error&&(o="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(s=new A(i.error.code,i.error.message)),o?new t(e,n,i.state,s):(g("SharedClientState","Failed to parse mutation state for ID '"+n+"': "+r),null)},t.prototype.Id=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),xi=function(){function t(t,e,n){this.targetId=t,this.state=e,this.error=n,y(void 0!==n==("rejected"===e),"QueryTargetMetadata must contain an error iff state is 'rejected'")}return t._d=function(e,n){var r=JSON.parse(n),i="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error),o=void 0;return i&&r.error&&(i="string"==typeof r.error.message&&"string"==typeof r.error.code)&&(o=new A(r.error.code,r.error.message)),i?new t(e,r.state,o):(g("SharedClientState","Failed to parse target state for ID '"+e+"': "+n),null)},t.prototype.Id=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),Pi=function(){function t(t,e){this.clientId=t,this.activeTargetIds=e}return t._d=function(e,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,o=qe(),s=0;i&&s<r.activeTargetIds.length;++s)i=se(r.activeTargetIds[s]),o=o.add(r.activeTargetIds[s]);return i?new t(e,o):(g("SharedClientState","Failed to parse client data for instance '"+e+"': "+n),null)},t}(),Ri=function(){function t(t,e){this.clientId=t,this.onlineState=e}return t._d=function(e){var n=JSON.parse(e);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new t(n.clientId,n.onlineState):(g("SharedClientState","Failed to parse online state: "+e),null)},t}(),Di=function(){function t(){this.activeTargetIds=qe()}return t.prototype.Td=function(t){this.activeTargetIds=this.activeTargetIds.add(t)},t.prototype.Ed=function(t){this.activeTargetIds=this.activeTargetIds.delete(t)},t.prototype.Id=function(){var t={activeTargetIds:this.activeTargetIds.tt(),updateTimeMs:Date.now()};return JSON.stringify(t)},t}(),Mi=function(){function t(e,n,r,i,o){if(this.Lc=e,this.platform=n,this.persistenceKey=r,this.Dd=i,this.rd=null,this.El=null,this.jr=null,this.Sd={},this.Rd=this.Cd.bind(this),this.Co=!1,this.Ad=[],!t.cs(this.platform))throw new A(S.UNIMPLEMENTED,"LocalStorage is not available on this platform.");var s=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.platform.window.localStorage,this.currentUser=o,this.Pd=Ai(this.persistenceKey,this.Dd),this.kd=function(t){return"firestore_sequence_number_"+t}(this.persistenceKey),this.Sd[this.Dd]=new Di,this.Nd=new RegExp("^firestore_clients_"+s+"_([^_]*)$"),this.Od=new RegExp("^firestore_mutations_"+s+"_(\\d+)(?:_(.*))?$"),this.Fd=new RegExp("^firestore_targets_"+s+"_(\\d+)$"),this.Vd=function(t){return"firestore_online_state_"+t}(this.persistenceKey),this.platform.window.addEventListener("storage",this.Rd)}return t.cs=function(t){return!(!t.window||null==t.window.localStorage)},t.prototype.start=function(){return o.__awaiter(this,void 0,void 0,(function(){var t,e,n,r,i,s,a,u,c,h,l=this;return o.__generator(this,(function(o){switch(o.label){case 0:return y(!this.Co,"WebStorageSharedClientState already started"),y(null!==this.rd,"syncEngine property must be set before calling start()"),y(null!==this.El,"onlineStateHandler property must be set before calling start()"),[4,this.rd.gh()];case 1:for(t=o.sent(),e=0,n=t;e<n.length;e++)(r=n[e])!==this.Dd&&(i=this.getItem(Ai(this.persistenceKey,r)))&&(s=Pi._d(r,i))&&(this.Sd[s.clientId]=s);for(this.Ud(),(a=this.storage.getItem(this.Vd))&&(u=this.xd(a))&&this.jd(u),c=0,h=this.Ad;c<h.length;c++)this.Cd(h[c]);return this.Ad=[],this.platform.window.addEventListener("unload",(function(){return l.shutdown()})),this.Co=!0,[2]}}))}))},t.prototype.Br=function(t){this.setItem(this.kd,JSON.stringify(t))},t.prototype.Ld=function(){var t=qe();return j(this.Sd,(function(e,n){t=t.Mt(n.activeTargetIds)})),t},t.prototype.qd=function(t){for(var e in this.Sd)if(this.Sd.hasOwnProperty(e)&&this.Sd[e].activeTargetIds.has(t))return!0;return!1},t.prototype.Bd=function(t){this.Md(t,"pending")},t.prototype.Qd=function(t,e,n){this.Md(t,e,n),this.Gd(t)},t.prototype.Wd=function(t){var e="not-current";if(this.qd(t)){var n=this.storage.getItem(Ni(this.persistenceKey,t));if(n){var r=xi._d(t,n);r&&(e=r.state)}}return this.zd.Td(t),this.Ud(),e},t.prototype.Kd=function(t){this.zd.Ed(t),this.Ud()},t.prototype.Hd=function(t){return this.zd.activeTargetIds.has(t)},t.prototype.Jd=function(t){this.removeItem(Ni(this.persistenceKey,t))},t.prototype.Yd=function(t,e,n){this.Xd(t,e,n)},t.prototype.Lo=function(t,e,n){var r=this;e.forEach((function(t){r.Gd(t)})),this.currentUser=t,n.forEach((function(t){r.Bd(t)}))},t.prototype.$d=function(t){this.Zd(t)},t.prototype.shutdown=function(){this.Co&&(this.platform.window.removeEventListener("storage",this.Rd),this.removeItem(this.Pd),this.Co=!1)},t.prototype.getItem=function(t){var e=this.storage.getItem(t);return p("SharedClientState","READ",t,e),e},t.prototype.setItem=function(t,e){p("SharedClientState","SET",t,e),this.storage.setItem(t,e)},t.prototype.removeItem=function(t){p("SharedClientState","REMOVE",t),this.storage.removeItem(t)},t.prototype.Cd=function(t){var e=this;if(t.storageArea===this.storage){if(p("SharedClientState","EVENT",t.key,t.newValue),t.key===this.Pd)return void g("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Lc.$r((function(){return o.__awaiter(e,void 0,void 0,(function(){var e,n,r,i,s,a;return o.__generator(this,(function(o){if(!this.Co)return this.Ad.push(t),[2];if(null===t.key)return[2];if(this.Nd.test(t.key)){if(null==t.newValue)return n=this.tv(t.key),[2,this.nv(n,null)];if(e=this.iv(t.key,t.newValue))return[2,this.nv(e.clientId,e)]}else if(this.Od.test(t.key)){if(null!==t.newValue&&(r=this.ev(t.key,t.newValue)))return[2,this.rv(r)]}else if(this.Fd.test(t.key)){if(null!==t.newValue&&(i=this.uv(t.key,t.newValue)))return[2,this.sv(i)]}else if(t.key===this.Vd){if(null!==t.newValue&&(s=this.xd(t.newValue)))return[2,this.jd(s)]}else t.key===this.kd&&(y(!!this.jr,"Missing sequenceNumberHandler"),(a=function(t){var e=gn.Mr;if(null!=t)try{var n=JSON.parse(t);y("number"==typeof n,"Found non-numeric sequence number"),e=n}catch(t){g("SharedClientState","Failed to read sequence number from WebStorage",t)}return e}(t.newValue))!==gn.Mr&&this.jr(a));return[2]}))}))}))}},Object.defineProperty(t.prototype,"zd",{get:function(){return this.Sd[this.Dd]},enumerable:!0,configurable:!0}),t.prototype.Ud=function(){this.setItem(this.Pd,this.zd.Id())},t.prototype.Md=function(t,e,n){var r=new ki(this.currentUser,t,e,n),i=Oi(this.persistenceKey,this.currentUser,t);this.setItem(i,r.Id())},t.prototype.Gd=function(t){var e=Oi(this.persistenceKey,this.currentUser,t);this.removeItem(e)},t.prototype.Zd=function(t){this.storage.setItem(this.Vd,JSON.stringify({clientId:this.Dd,onlineState:t}))},t.prototype.Xd=function(t,e,n){var r=Ni(this.persistenceKey,t),i=new xi(t,e,n);this.setItem(r,i.Id())},t.prototype.tv=function(t){var e=this.Nd.exec(t);return e?e[1]:null},t.prototype.iv=function(t,e){var n=this.tv(t);return y(null!==n,"Cannot parse client state key '"+t+"'"),Pi._d(n,e)},t.prototype.ev=function(t,e){var n=this.Od.exec(t);y(null!==n,"Cannot parse mutation batch key '"+t+"'");var r=Number(n[1]);return ki._d(new T(void 0!==n[2]?n[2]:null),r,e)},t.prototype.uv=function(t,e){var n=this.Fd.exec(t);y(null!==n,"Cannot parse query target key '"+t+"'");var r=Number(n[1]);return xi._d(r,e)},t.prototype.xd=function(t){return Ri._d(t)},t.prototype.rv=function(t){return o.__awaiter(this,void 0,void 0,(function(){return o.__generator(this,(function(e){return t.user.uid!==this.currentUser.uid?(p("SharedClientState","Ignoring mutation for non-active user "+t.user.uid),[2]):[2,this.rd.ov(t.batchId,t.state,t.error)]}))}))},t.prototype.sv=function(t){return this.rd.hv(t.targetId,t.state,t.error)},t.prototype.nv=function(t,e){var n=this,r=this.Ld();e?this.Sd[t]=e:delete this.Sd[t];var i=this.Ld(),s=[],a=[];return i.forEach((function(t){return o.__awaiter(n,void 0,void 0,(function(){return o.__generator(this,(function(e){return r.has(t)||s.push(t),[2]}))}))})),r.forEach((function(t){return o.__awaiter(n,void 0,void 0,(function(){return o.__generator(this,(function(e){return i.has(t)||a.push(t),[2]}))}))})),this.rd.cv(s,a)},t.prototype.jd=function(t){this.Sd[t.clientId]&&this.El(t.onlineState)},t}(),Li=function(){function t(){this.av=new Di,this.fv={},this.rd=null,this.El=null,this.jr=null}return t.prototype.Bd=function(t){},t.prototype.Qd=function(t,e,n){},t.prototype.Wd=function(t){return this.av.Td(t),this.fv[t]||"not-current"},t.prototype.Yd=function(t,e,n){this.fv[t]=e},t.prototype.Kd=function(t){this.av.Ed(t)},t.prototype.Hd=function(t){return this.av.activeTargetIds.has(t)},t.prototype.Jd=function(t){delete this.fv[t]},t.prototype.Ld=function(){return this.av.activeTargetIds},t.prototype.qd=function(t){return this.av.activeTargetIds.has(t)},t.prototype.start=function(){return this.av=new Di,Promise.resolve()},t.prototype.Lo=function(t,e,n){},t.prototype.$d=function(t){},t.prototype.shutdown=function(){},t.prototype.Br=function(t){},t}(),ji=function(t){this.key=t},Ui=function(t){this.key=t},Vi=function(){function t(t,e){this.query=t,this.lv=e,this.dv=null,this.Ni=!1,this.vv=Ve(),this.Ii=Ve(),this.wv=new He(t.Xn.bind(t))}return Object.defineProperty(t.prototype,"mv",{get:function(){return this.lv},enumerable:!0,configurable:!0}),t.prototype.pv=function(t,e){var n=this,r=e?e.gv:new Ge,i=e?e.wv:this.wv,o=e?e.Ii:this.Ii,s=i,a=!1,u=this.query.ii()&&i.size===this.query.limit?i.last():null,c=this.query.ei()&&i.size===this.query.limit?i.first():null;if(t.pt((function(t,e){var h=i.get(t),l=e instanceof Xt?e:null;l&&(y(t.isEqual(l.key),"Mismatching keys found in document changes: "+t+" != "+l.key),l=n.query.matches(l)?l:null);var f=!!h&&n.Ii.has(h.key),d=!!l&&(l.en||n.Ii.has(l.key)&&l.hasCommittedMutations),p=!1;h&&l?h.data().isEqual(l.data())?f!==d&&(r.track({type:3,doc:l}),p=!0):n.bv(h,l)||(r.track({type:2,doc:l}),p=!0,(u&&n.query.Xn(l,u)>0||c&&n.query.Xn(l,c)<0)&&(a=!0)):!h&&l?(r.track({type:0,doc:l}),p=!0):h&&!l&&(r.track({type:1,doc:h}),p=!0,(u||c)&&(a=!0)),p&&(l?(s=s.add(l),o=d?o.add(t):o.delete(t)):(s=s.delete(t),o=o.delete(t)))})),this.query.ii()||this.query.ei())for(;s.size>this.query.limit;){var h=this.query.ii()?s.last():s.first();s=s.delete(h.key),o=o.delete(h.key),r.track({type:1,doc:h})}return y(!a||!e,"View was refilled using docs that themselves needed refilling."),{wv:s,gv:r,Pa:a,Ii:o}},t.prototype.bv=function(t,e){return t.en&&e.hasCommittedMutations&&!e.en},t.prototype.es=function(t,e,n){var r=this;y(!t.Pa,"Cannot apply changes that need a refill");var i=this.wv;this.wv=t.wv,this.Ii=t.Ii;var o=t.gv.yi();o.sort((function(t,e){return function(t,e){var n=function(t){switch(t){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return v("Unknown ChangeType: "+t)}};return n(t)-n(e)}(t.type,e.type)||r.query.Xn(t.doc,e.doc)})),this.yv(n);var s=e?this._v():[],a=0===this.vv.size&&this.Ni?1:0,u=a!==this.dv;return this.dv=a,0!==o.length||u?{snapshot:new Be(this.query,t.wv,i,o,t.Ii,0===a,u,!1),Iv:s}:{Iv:s}},t.prototype.Tv=function(t){return this.Ni&&"Offline"===t?(this.Ni=!1,this.es({wv:this.wv,gv:new Ge,Ii:this.Ii,Pa:!1},!1)):{Iv:[]}},t.prototype.Ev=function(t){return!this.lv.has(t)&&!!this.wv.has(t)&&!this.wv.get(t).en},t.prototype.yv=function(t){var e=this;t&&(t.Oi.forEach((function(t){return e.lv=e.lv.add(t)})),t.Fi.forEach((function(t){return y(e.lv.has(t),"Modified document "+t+" not found in view.")})),t.Vi.forEach((function(t){return e.lv=e.lv.delete(t)})),this.Ni=t.Ni)},t.prototype._v=function(){var t=this;if(!this.Ni)return[];var e=this.vv;this.vv=Ve(),this.wv.forEach((function(e){t.Ev(e.key)&&(t.vv=t.vv.add(e.key))}));var n=[];return e.forEach((function(e){t.vv.has(e)||n.push(new Ui(e))})),this.vv.forEach((function(t){e.has(t)||n.push(new ji(t))})),n},t.prototype.Dv=function(t){this.lv=t.mh,this.vv=Ve();var e=this.pv(t.documents);return this.es(e,!0)},t.prototype.Sv=function(){return Be.Di(this.query,this.wv,this.Ii,0===this.dv)},t}(),Fi=function(){function t(t,e,n,r){this.Qr=t,this.Rv=e,this.updateFunction=n,this.Kr=r,this.Cv=5,this.vf=new Xr(this.Qr,"retry_transaction")}return t.prototype.run=function(){this.Av()},t.prototype.Av=function(){var t=this;this.vf.hf((function(){return o.__awaiter(t,void 0,void 0,(function(){var t,e,n=this;return o.__generator(this,(function(r){return t=this.Rv.gd(),(e=this.Pv(t))&&e.then((function(e){n.Qr.$r((function(){return t.commit().then((function(){n.Kr.resolve(e)})).catch((function(t){n.kv(t)}))}))})).catch((function(t){n.kv(t)})),[2]}))}))}))},t.prototype.Pv=function(t){try{var e=this.updateFunction(t);return!oe(e)&&e.catch&&e.then?e:(this.Kr.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.Kr.reject(t),null}},t.prototype.kv=function(t){var e=this;this.Cv>0&&this.Nv(t)?(this.Cv-=1,this.Qr.$r((function(){return e.Av(),Promise.resolve()}))):this.Kr.reject(t)},t.prototype.Nv=function(t){if("FirebaseError"===t.name){var e=t.code;return"aborted"===e||"failed-precondition"===e||!Oe(e)}return!1},t}(),qi=function(t,e,n){this.query=t,this.targetId=e,this.view=n},Hi=function(t){this.key=t,this.Ov=!1},Gi=function(){function t(t,e,n,r){this.zh=t,this.Rv=e,this.Fv=n,this.currentUser=r,this.Vv=null,this.Uv=new An((function(t){return t.canonicalId()})),this.xv={},this.jv=new dt(ft.G),this.Lv={},this.qv=new Tn,this.Bv={},this.Mv=new Map,this.Qv=zn.uo(),this.isPrimary=void 0,this.onlineState="Unknown"}return Object.defineProperty(t.prototype,"Gv",{get:function(){return!0===this.isPrimary},enumerable:!0,configurable:!0}),t.prototype.subscribe=function(t){y(null!==t,"SyncEngine listener cannot be null"),y(null===this.Vv,"SyncEngine already has a subscriber."),this.Vv=t},t.prototype.listen=function(t){return o.__awaiter(this,void 0,void 0,(function(){var e,n,r,i,s;return o.__generator(this,(function(o){switch(o.label){case 0:return this.Wv("listen()"),(r=this.Uv.get(t))?(this.Fv.Wd(e=r.targetId),n=r.view.Sv(),[3,4]):[3,1];case 1:return[4,this.zh.hh(t.Yn())];case 2:return i=o.sent(),s=this.Fv.Wd(i.targetId),[4,this.zv(t,e=i.targetId,"current"===s)];case 3:n=o.sent(),this.isPrimary&&this.Rv.listen(i),o.label=4;case 4:return this.Vv.kf([n]),[2,e]}}))}))},t.prototype.zv=function(t,e,n){return o.__awaiter(this,void 0,void 0,(function(){var r,i,s,a,u,c;return o.__generator(this,(function(o){switch(o.label){case 0:return[4,this.zh.vh(t,!0)];case 1:return r=o.sent(),i=new Vi(t,r.mh),s=i.pv(r.documents),a=We.ki(e,n&&"Offline"!==this.onlineState),y(0===(u=i.es(s,!0===this.isPrimary,a)).Iv.length,"View returned limbo docs before target ack from the server."),y(!!u.snapshot,"applyChanges for new view should always return a snapshot"),c=new qi(t,e,i),this.Uv.set(t,c),this.xv[e]||(this.xv[e]=[]),this.xv[e].push(t),[2,u.snapshot]}}))}))},t.prototype.Kv=function(t){return o.__awaiter(this,void 0,void 0,(function(){var e,n;return o.__generator(this,(function(r){switch(r.label){case 0:return[4,this.zh.vh(t.query,!0)];case 1:return e=r.sent(),n=t.view.Dv(e),this.isPrimary&&this.Hv(t.targetId,n.Iv),[2,n]}}))}))},t.prototype.nd=function(t){return o.__awaiter(this,void 0,void 0,(function(){var e,n,r=this;return o.__generator(this,(function(i){switch(i.label){case 0:return this.Wv("unlisten()"),y(!!(e=this.Uv.get(t)),"Trying to unlisten on query not found:"+t),(n=this.xv[e.targetId]).length>1?(this.xv[e.targetId]=n.filter((function(e){return!e.isEqual(t)})),this.Uv.delete(t),[2]):this.isPrimary?(this.Fv.Kd(e.targetId),this.Fv.qd(e.targetId)?[3,2]:[4,this.zh.dh(e.targetId,!1).then((function(){r.Fv.Jd(e.targetId),r.Rv.nd(e.targetId),r.Jv(e.targetId)})).catch(Yn)]):[3,3];case 1:i.sent(),i.label=2;case 2:return[3,5];case 3:return this.Jv(e.targetId),[4,this.zh.dh(e.targetId,!0)];case 4:i.sent(),i.label=5;case 5:return[2]}}))}))},t.prototype.write=function(t,e){return o.__awaiter(this,void 0,void 0,(function(){var n;return o.__generator(this,(function(r){switch(r.label){case 0:return this.Wv("write()"),[4,this.zh.Qo(t)];case 1:return n=r.sent(),this.Fv.Bd(n.batchId),this.Yv(n.batchId,e),[4,this.Xv(n.Ku)];case 2:return r.sent(),[4,this.Rv.Xl()];case 3:return r.sent(),[2]}}))}))},t.prototype.runTransaction=function(t,e,n){new Fi(t,this.Rv,e,n).run()},t.prototype.Yo=function(t){return o.__awaiter(this,void 0,void 0,(function(){var e,n=this;return o.__generator(this,(function(r){switch(r.label){case 0:this.Wv("applyRemoteEvent()"),r.label=1;case 1:return r.trys.push([1,4,,6]),[4,this.zh.Yo(t)];case 2:return e=r.sent(),j(t.Si,(function(t,e){var r=n.Lv[Number(t)];r&&(y(e.Oi.size+e.Fi.size+e.Vi.size<=1,"Limbo resolution for single document contains multiple changes."),e.Oi.size>0?r.Ov=!0:e.Fi.size>0?y(r.Ov,"Received change for limbo target document without add."):e.Vi.size>0&&(y(r.Ov,"Received remove for limbo target document without add."),r.Ov=!1))})),[4,this.Xv(e,t)];case 3:return r.sent(),[3,6];case 4:return[4,Yn(r.sent())];case 5:return r.sent(),[3,6];case 6:return[2]}}))}))},t.prototype.Tv=function(t,e){if(this.isPrimary&&0===e||!this.isPrimary&&1===e){this.Wv("applyOnlineStateChange()");var n=[];this.Uv.forEach((function(e,r){var i=r.view.Tv(t);y(0===i.Iv.length,"OnlineState should not affect limbo documents."),i.snapshot&&n.push(i.snapshot)})),this.Vv.$v(t),this.Vv.kf(n),this.onlineState=t,this.isPrimary&&this.Fv.$d(t)}},t.prototype.od=function(t,e){return o.__awaiter(this,void 0,void 0,(function(){var n,r,i,s,a,u=this;return o.__generator(this,(function(o){switch(o.label){case 0:return this.Wv("rejectListens()"),this.Fv.Yd(t,"rejected",e),(r=(n=this.Lv[t])&&n.key)?(this.jv=this.jv.remove(r),delete this.Lv[t],i=(i=new dt(ft.G)).lt(r,new Zt(r,at.q())),s=Ve().add(r),a=new ze(at.MIN,{},new vt(w),i,s),[2,this.Yo(a)]):[3,1];case 1:return[4,this.zh.dh(t,!1).then((function(){return u.Jv(t,e)})).catch(Yn)];case 2:o.sent(),o.label=3;case 3:return[2]}}))}))},t.prototype.ov=function(t,e,n){return o.__awaiter(this,void 0,void 0,(function(){var r;return o.__generator(this,(function(i){switch(i.label){case 0:return this.Wv("applyBatchState()"),[4,this.zh.Go(t)];case 1:return null===(r=i.sent())?(p("SyncEngine","Cannot apply mutation batch with id: "+t),[2]):"pending"!==e?[3,3]:[4,this.Rv.Xl()];case 2:return i.sent(),[3,4];case 3:"acknowledged"===e||"rejected"===e?(this.Zv(t,n||null),this.zh.bh(t)):v("Unknown batchState: "+e),i.label=4;case 4:return[4,this.Xv(r)];case 5:return i.sent(),[2]}}))}))},t.prototype.vd=function(t){return o.__awaiter(this,void 0,void 0,(function(){var e,n;return o.__generator(this,(function(r){switch(r.label){case 0:this.Wv("applySuccessfulWrite()"),this.Zv(e=t.batch.batchId,null),this.tw(e),r.label=1;case 1:return r.trys.push([1,4,,6]),[4,this.zh.Os(t)];case 2:return n=r.sent(),this.Fv.Qd(e,"acknowledged"),[4,this.Xv(n)];case 3:return r.sent(),[3,6];case 4:return[4,Yn(r.sent())];case 5:return r.sent(),[3,6];case 6:return[2]}}))}))},t.prototype.pd=function(t,e){return o.__awaiter(this,void 0,void 0,(function(){var n;return o.__generator(this,(function(r){switch(r.label){case 0:this.Wv("rejectFailedWrite()"),this.Zv(t,e),this.tw(t),r.label=1;case 1:return r.trys.push([1,4,,6]),[4,this.zh.Ho(t)];case 2:return n=r.sent(),this.Fv.Qd(t,"rejected",e),[4,this.Xv(n)];case 3:return r.sent(),[3,6];case 4:return[4,Yn(r.sent())];case 5:return r.sent(),[3,6];case 6:return[2]}}))}))},t.prototype.nw=function(t){return o.__awaiter(this,void 0,void 0,(function(){var e,n;return o.__generator(this,(function(r){switch(r.label){case 0:return this.Rv.jl()||p("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),[4,this.zh.Gs()];case 1:return-1===(e=r.sent())?(t.resolve(),[2]):((n=this.Mv.get(e)||[]).push(t),this.Mv.set(e,n),[2])}}))}))},t.prototype.tw=function(t){(this.Mv.get(t)||[]).forEach((function(t){t.resolve()})),this.Mv.delete(t)},t.prototype.iw=function(t){this.Mv.forEach((function(e){e.forEach((function(e){e.reject(new A(S.CANCELLED,t))}))})),this.Mv.clear()},t.prototype.Yv=function(t,e){var n=this.Bv[this.currentUser.v()];n||(n=new dt(w)),n=n.lt(t,e),this.Bv[this.currentUser.v()]=n},t.prototype.Zv=function(t,e){var n=this.Bv[this.currentUser.v()];if(n){var r=n.get(t);r&&(y(t===n.vt(),"Mutation callbacks processed out-of-order?"),e?r.reject(e):r.resolve(),n=n.remove(t)),this.Bv[this.currentUser.v()]=n}},t.prototype.Jv=function(t,e){var n=this;void 0===e&&(e=null),this.Fv.Kd(t),y(this.xv[t]&&0!==this.xv[t].length,"There are no queries mapped to target id "+t);for(var r=0,i=this.xv[t];r<i.length;r++){var o=i[r];this.Uv.delete(o),e&&this.Vv.ew(o,e)}if(delete this.xv[t],this.isPrimary){var s=this.qv.Nu(t);this.qv.Pu(t),s.forEach((function(t){n.qv.Ou(t)||n.rw(t)}))}},t.prototype.rw=function(t){var e=this.jv.get(t);null!==e&&(this.Rv.nd(e),this.jv=this.jv.remove(t),delete this.Lv[e])},t.prototype.Hv=function(t,e){for(var n=0,r=e;n<r.length;n++){var i=r[n];i instanceof ji?(this.qv.Du(i.key,t),this.uw(i)):i instanceof Ui?(p("SyncEngine","Document no longer in limbo: "+i.key),this.qv.Ru(i.key,t),this.qv.Ou(i.key)||this.rw(i.key)):v("Unknown limbo change: "+JSON.stringify(i))}},t.prototype.uw=function(t){var e=t.key;if(!this.jv.get(e)){p("SyncEngine","New document in limbo: "+e);var n=this.Qv.next(),r=ue.jn(e.path);this.Lv[n]=new Hi(e),this.Rv.listen(new Se(r.Yn(),n,2,gn.Mr)),this.jv=this.jv.lt(e,n)}},t.prototype.sw=function(){return this.jv},t.prototype.Xv=function(t,e){return o.__awaiter(this,void 0,void 0,(function(){var n,r,i,s=this;return o.__generator(this,(function(o){switch(o.label){case 0:return n=[],r=[],i=[],this.Uv.forEach((function(o,a){i.push(Promise.resolve().then((function(){var e=a.view.pv(t);return e.Pa?s.zh.vh(a.query,!1).then((function(t){return a.view.pv(t.documents,e)})):e})).then((function(t){var i=a.view.es(t,!0===s.isPrimary,e&&e.Si[a.targetId]);if(s.Hv(a.targetId,i.Iv),i.snapshot){s.isPrimary&&s.Fv.Yd(a.targetId,i.snapshot.fromCache?"not-current":"current"),n.push(i.snapshot);var o=Kn.Io(a.targetId,i.snapshot);r.push(o)}})))})),[4,Promise.all(i)];case 1:return o.sent(),this.Vv.kf(n),[4,this.zh.uh(r)];case 2:return o.sent(),[2]}}))}))},t.prototype.Wv=function(t){y(null!==this.Vv,"Trying to call "+t+" before calling subscribe().")},t.prototype.bd=function(t){return o.__awaiter(this,void 0,void 0,(function(){var e,n;return o.__generator(this,(function(r){switch(r.label){case 0:return e=!this.currentUser.isEqual(t),this.currentUser=t,e?(this.iw("'waitForPendingWrites' promise is rejected due to a user change."),[4,this.zh.Lo(t)]):[3,3];case 1:return n=r.sent(),this.Fv.Lo(t,n.Bo,n.Mo),[4,this.Xv(n.qo)];case 2:r.sent(),r.label=3;case 3:return[4,this.Rv.bd()];case 4:return r.sent(),[2]}}))}))},t.prototype.yd=function(t){return o.__awaiter(this,void 0,void 0,(function(){var e,n,r,i,s,a=this;return o.__generator(this,(function(o){switch(o.label){case 0:return!0!==t||!0===this.isPrimary?[3,3]:(this.isPrimary=!0,[4,this.Rv.yd(!0)]);case 1:return o.sent(),i=this.Fv.Ld(),[4,this.ow(i.tt())];case 2:for(e=o.sent(),n=0,r=e;n<r.length;n++)this.Rv.listen(r[n]);return[3,7];case 3:return!1!==t||!1===this.isPrimary?[3,7]:(this.isPrimary=!1,i=[],s=Promise.resolve(),L(this.xv,(function(t,e){a.Fv.Hd(t)?i.push(t):s=s.then((function(){return a.Jv(t),a.zh.dh(t,!0)})),a.Rv.nd(t)})),[4,s]);case 4:return o.sent(),[4,this.ow(i)];case 5:return o.sent(),this.hw(),[4,this.Rv.yd(!1)];case 6:o.sent(),o.label=7;case 7:return[2]}}))}))},t.prototype.hw=function(){var t=this;L(this.Lv,(function(e){t.Rv.nd(e)})),this.qv.ku(),this.Lv=[],this.jv=new dt(ft.G)},t.prototype.ow=function(t){return o.__awaiter(this,void 0,void 0,(function(){var e,n,r,i,s,a,u,c,h,l,f,d,p;return o.__generator(this,(function(o){switch(o.label){case 0:e=[],n=[],r=0,i=t,o.label=1;case 1:return r<i.length?(a=void 0,(u=this.xv[s=i[r]])&&0!==u.length?[4,this.zh.dh(s,!0)]:[3,8]):[3,14];case 2:return o.sent(),[4,this.zh.hh(u[0].Yn())];case 3:a=o.sent(),c=0,h=u,o.label=4;case 4:return c<h.length?(y(!!(f=this.Uv.get(l=h[c])),"No query view found for "+l),[4,this.Kv(f)]):[3,7];case 5:(d=o.sent()).snapshot&&n.push(d.snapshot),o.label=6;case 6:return c++,[3,4];case 7:return[3,12];case 8:return y(!0===this.isPrimary,"A secondary tab should never have an active target without an active query."),[4,this.zh.Th(s)];case 9:return y(!!(p=o.sent()),"Target for id "+s+" not found"),[4,this.zh.hh(p)];case 10:return a=o.sent(),[4,this.zv(this.cw(p),s,!1)];case 11:o.sent(),o.label=12;case 12:e.push(a),o.label=13;case 13:return r++,[3,1];case 14:return this.Vv.kf(n),[2,e]}}))}))},t.prototype.cw=function(t){return new ue(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)},t.prototype.gh=function(){return this.zh.gh()},t.prototype.hv=function(t,e,n){return o.__awaiter(this,void 0,void 0,(function(){var r,i;return o.__generator(this,(function(o){switch(o.label){case 0:if(this.isPrimary)return p("SyncEngine","Ignoring unexpected query state notification."),[2];if(!this.xv[t])return[3,7];switch(e){case"current":case"not-current":return[3,1];case"rejected":return[3,4]}return[3,6];case 1:return[4,this.zh.Eh()];case 2:return r=o.sent(),i=ze.Pi(t,"current"===e),[4,this.Xv(r,i)];case 3:return o.sent(),[3,7];case 4:return[4,this.zh.dh(t,!0)];case 5:return o.sent(),this.Jv(t,n),[3,7];case 6:v("Unexpected target state: "+e),o.label=7;case 7:return[2]}}))}))},t.prototype.cv=function(t,e){return o.__awaiter(this,void 0,void 0,(function(){var n,r,i,s,a,u,c,h,l,f=this;return o.__generator(this,(function(d){switch(d.label){case 0:if(!this.isPrimary)return[2];n=0,r=t,d.label=1;case 1:return n<r.length?(y(!this.xv[l=r[n]],"Trying to add an already active target"),[4,this.zh.Th(l)]):[3,6];case 2:return y(!!(i=d.sent()),"Query data for active target "+l+" not found"),[4,this.zh.hh(i)];case 3:return s=d.sent(),[4,this.zv(this.cw(i),s.targetId,!1)];case 4:d.sent(),this.Rv.listen(s),d.label=5;case 5:return n++,[3,1];case 6:a=function(t){return o.__generator(this,(function(e){switch(e.label){case 0:return u.xv[t]?[4,u.zh.dh(t,!1).then((function(){f.Rv.nd(t),f.Jv(t)})).catch(Yn)]:[2,"continue"];case 1:return e.sent(),[2]}}))},u=this,c=0,h=e,d.label=7;case 7:return c<h.length?[5,a(l=h[c])]:[3,10];case 8:d.sent(),d.label=9;case 9:return c++,[3,7];case 10:return[2]}}))}))},t.prototype.enableNetwork=function(){return this.zh.yh(!0),this.Rv.enableNetwork()},t.prototype.disableNetwork=function(){return this.zh.yh(!1),this.Rv.disableNetwork()},t.prototype.be=function(t){var e=this.Lv[t];if(e&&e.Ov)return Ve().add(e.key);var n=Ve(),r=this.xv[t];if(!r)return n;for(var i=0,o=r;i<o.length;i++){var s=o[i],a=this.Uv.get(s);y(!!a,"No query view found for "+s),n=n.Mt(a.view.mv)}return n},t}(),Bi=function(){this.aw=null,this.targetId=0,this.listeners=[]},zi=function(){function t(t){this.rd=t,this.fw=new An((function(t){return t.canonicalId()})),this.onlineState="Unknown",this.lw=new Set,this.rd.subscribe(this)}return t.prototype.listen=function(t){var e=t.query,n=!1,r=this.fw.get(e);return r||(n=!0,r=new Bi,this.fw.set(e,r)),r.listeners.push(t),y(!t.Tv(this.onlineState),"applyOnlineStateChange() shouldn't raise an event for brand-new listeners."),r.aw&&t.dw(r.aw)&&this.vw(),n?this.rd.listen(e).then((function(t){return r.targetId=t,t})):Promise.resolve(r.targetId)},t.prototype.nd=function(t){return o.__awaiter(this,void 0,void 0,(function(){var e,n,r,i;return o.__generator(this,(function(o){return n=!1,(r=this.fw.get(e=t.query))&&(i=r.listeners.indexOf(t))>=0&&(r.listeners.splice(i,1),n=0===r.listeners.length),n?(this.fw.delete(e),[2,this.rd.nd(e)]):[2]}))}))},t.prototype.kf=function(t){for(var e=!1,n=0,r=t;n<r.length;n++){var i=r[n],o=this.fw.get(i.query);if(o){for(var s=0,a=o.listeners;s<a.length;s++)a[s].dw(i)&&(e=!0);o.aw=i}}e&&this.vw()},t.prototype.ew=function(t,e){var n=this.fw.get(t);if(n)for(var r=0,i=n.listeners;r<i.length;r++)i[r].onError(e);this.fw.delete(t)},t.prototype.$v=function(t){this.onlineState=t;var e=!1;this.fw.forEach((function(n,r){for(var i=0,o=r.listeners;i<o.length;i++)o[i].Tv(t)&&(e=!0)})),e&&this.vw()},t.prototype.ww=function(t){this.lw.add(t),t.next()},t.prototype.mw=function(t){this.lw.delete(t)},t.prototype.vw=function(){this.lw.forEach((function(t){t.next()}))},t}(),Wi=function(){function t(t,e,n){this.query=t,this.pw=e,this.gw=!1,this.bw=null,this.onlineState="Unknown",this.options=n||{}}return t.prototype.dw=function(t){if(y(t.docChanges.length>0||t.Ti,"We got a new snapshot with no changes?"),!this.options.includeMetadataChanges){for(var e=[],n=0,r=t.docChanges;n<r.length;n++){var i=r[n];3!==i.type&&e.push(i)}t=new Be(t.query,t.docs,t._i,e,t.Ii,t.fromCache,t.Ti,!0)}var o=!1;return this.gw?this.yw(t)&&(this.pw.next(t),o=!0):this._w(t,this.onlineState)&&(this.Iw(t),o=!0),this.bw=t,o},t.prototype.onError=function(t){this.pw.error(t)},t.prototype.Tv=function(t){this.onlineState=t;var e=!1;return this.bw&&!this.gw&&this._w(this.bw,t)&&(this.Iw(this.bw),e=!0),e},t.prototype._w=function(t,e){return y(!this.gw,"Determining whether to raise first event but already had first event"),!t.fromCache||(this.options.Tw&&"Offline"!==e?(y(t.fromCache,"Waiting for sync, but snapshot is not from cache"),!1):!t.docs.J()||"Offline"===e)},t.prototype.yw=function(t){return t.docChanges.length>0||!!(t.Ti||this.bw&&this.bw.hasPendingWrites!==t.hasPendingWrites)&&!0===this.options.includeMetadataChanges},t.prototype.Iw=function(t){y(!this.gw,"Trying to raise initial events for second time"),t=Be.Di(t.query,t.docs,t.Ii,t.fromCache),this.gw=!0,this.pw.next(t)},t}(),Ki=function(){function t(t,e){this.cacheSizeBytes=t,this.synchronizeTabs=e}return t.prototype.Xc=function(){return Zn.jh(this.cacheSizeBytes)},t}(),$i=function(){},Yi=function(){function t(t,e,n,r){this.platform=t,this.Ew=e,this.credentials=n,this.Qr=r,this.clientId=b.u()}return t.prototype.start=function(t){var e=this;this.Dw();var n=new mn,r=new mn,i=!1;return this.credentials.T((function(o){i?e.Qr.$r((function(){return e.bd(o)})):(i=!0,e.Sw(t,r,o).then((function(t){return e.Rw(o,t)})).then(n.resolve,n.reject))})),this.Qr.$r((function(){return n.promise})),r.promise},t.prototype.enableNetwork=function(){var t=this;return this.Dw(),this.Qr.enqueue((function(){return t.rd.enableNetwork()}))},t.prototype.Sw=function(t,e,n){var r=this;return t instanceof Ki?this.Cw(n,t).then((function(t){return e.resolve(),t})).catch((function(t){if(e.reject(t),!r.Aw(t))throw t;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+t),r.Pw()})):(e.resolve(),this.Pw())},t.prototype.Aw=function(t){return t instanceof A?t.code===S.FAILED_PRECONDITION||t.code===S.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&t instanceof DOMException)||22===t.code||20===t.code||11===t.code},t.prototype.Dw=function(){if(this.Qr.uu)throw new A(S.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.Cw=function(t,e){var n=this,r=Vr.Ia(this.Ew),i=new un(this.Ew.s,{Te:!0});return Promise.resolve().then((function(){return o.__awaiter(n,void 0,void 0,(function(){var n,s;return o.__generator(this,(function(o){switch(o.label){case 0:if(e.synchronizeTabs&&!Mi.cs(this.platform))throw new A(S.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");return n=e.Xc(),this.Fv=e.synchronizeTabs?new Mi(this.Qr,this.platform,r,this.clientId,t):new Li,[4,Vr.Yc({allowTabSynchronization:e.synchronizeTabs,persistenceKey:r,clientId:this.clientId,platform:this.platform,Lc:this.Qr,serializer:i,Xc:n,qc:this.Fv})];case 1:return s=o.sent(),this.persistence=s,[2,s.As.Wh]}}))}))}))},t.prototype.Pw=function(){return this.persistence=$r.Wa(this.clientId),this.Fv=new Li,Promise.resolve(null)},t.prototype.Rw=function(t,e){var n=this;return p("FirestoreClient","Initializing. user=",t.uid),this.platform.kw(this.Ew).then((function(r){return o.__awaiter(n,void 0,void 0,(function(){var n,i,s,a,u,c=this;return o.__generator(this,(function(h){switch(h.label){case 0:return n=new Br,this.zh=new $n(this.persistence,n,t),[4,this.zh.start()];case 1:return h.sent(),e&&(this.Nw=new tr(e,this.Qr,this.zh)),i=this.platform.Ow(),s=this.platform.Fw(this.Ew.s),a=new ni(this.Qr,r,this.credentials,s),u=function(t){return c.rd.Tv(t,1)},this.Rv=new Si(this.zh,a,this.Qr,(function(t){return c.rd.Tv(t,0)}),i),this.rd=new Gi(this.zh,this.Rv,this.Fv,t),this.Fv.El=u,this.Rv.rd=this.rd,this.Fv.rd=this.rd,this.Vw=new zi(this.rd),[4,this.Fv.start()];case 2:return h.sent(),[4,this.Rv.start()];case 3:return h.sent(),[4,this.persistence.ra((function(t){return o.__awaiter(c,void 0,void 0,(function(){return o.__generator(this,(function(e){switch(e.label){case 0:return[4,this.rd.yd(t)];case 1:return e.sent(),this.Nw&&(t&&!this.Nw.Co?this.Nw.start():t||this.Nw.stop()),[2]}}))}))}))];case 4:return h.sent(),[4,this.persistence.ua((function(){return o.__awaiter(c,void 0,void 0,(function(){return o.__generator(this,(function(t){switch(t.label){case 0:return[4,this.terminate()];case 1:return t.sent(),[2]}}))}))}))];case 5:return h.sent(),[2]}}))}))}))},t.prototype.bd=function(t){return this.Qr.du(),p("FirestoreClient","Credential Changed. Current user: "+t.uid),this.rd.bd(t)},t.prototype.disableNetwork=function(){var t=this;return this.Dw(),this.Qr.enqueue((function(){return t.rd.disableNetwork()}))},t.prototype.terminate=function(){var t=this;return this.Qr.au((function(){return o.__awaiter(t,void 0,void 0,(function(){return o.__generator(this,(function(t){switch(t.label){case 0:return this.Nw&&this.Nw.stop(),[4,this.Rv.shutdown()];case 1:return t.sent(),[4,this.Fv.shutdown()];case 2:return t.sent(),[4,this.persistence.shutdown()];case 3:return t.sent(),this.credentials.D(),[2]}}))}))}))},t.prototype.waitForPendingWrites=function(){var t=this;this.Dw();var e=new mn;return this.Qr.$r((function(){return t.rd.nw(e)})),e.promise},t.prototype.listen=function(t,e,n){var r=this;this.Dw();var i=new Wi(t,e,n);return this.Qr.$r((function(){return r.Vw.listen(i)})),i},t.prototype.nd=function(t){var e=this;this.Uw||this.Qr.$r((function(){return e.Vw.nd(t)}))},t.prototype.xw=function(t){var e=this;return this.Dw(),this.Qr.enqueue((function(){return e.zh.oh(t)})).then((function(t){if(t instanceof Xt)return t;if(t instanceof Zt)return null;throw new A(S.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")}))},t.prototype.jw=function(t){var e=this;return this.Dw(),this.Qr.enqueue((function(){return o.__awaiter(e,void 0,void 0,(function(){var e,n,r;return o.__generator(this,(function(i){switch(i.label){case 0:return[4,this.zh.vh(t,!0)];case 1:return e=i.sent(),n=new Vi(t,e.mh),r=n.pv(e.documents),[2,n.es(r,!1).snapshot]}}))}))}))},t.prototype.write=function(t){var e=this;this.Dw();var n=new mn;return this.Qr.$r((function(){return e.rd.write(t,n)})),n.promise},t.prototype.s=function(){return this.Ew.s},t.prototype.ww=function(t){var e=this;this.Dw(),this.Qr.$r((function(){return e.Vw.ww(t),Promise.resolve()}))},t.prototype.mw=function(t){this.Uw||this.Vw.mw(t)},Object.defineProperty(t.prototype,"Uw",{get:function(){return this.Qr.uu},enumerable:!0,configurable:!0}),t.prototype.transaction=function(t){var e=this;this.Dw();var n=new mn;return this.Qr.$r((function(){return e.rd.runTransaction(e.Qr,t,n),Promise.resolve()})),n.promise},t}(),Qi=function(){function t(t){this.observer=t,this.muted=!1}return t.prototype.next=function(t){this.Lw(this.observer.next,t)},t.prototype.error=function(t){this.Lw(this.observer.error,t)},t.prototype.qw=function(){this.muted=!0},t.prototype.Lw=function(t,e){var n=this;this.muted||setTimeout((function(){n.muted||t(e)}),0)},t}();function Ji(t){return function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=t,r=0,i=["next","error","complete"];r<i.length;r++){var o=i[r];if(o in n&&"function"==typeof n[o])return!0}return!1}(t)}var Xi=Zn.Bh,Zi=function(){function t(t){if(void 0===t.host){if(void 0!==t.ssl)throw new A(S.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else W("settings","non-empty string","host",t.host),this.host=t.host,K("settings","boolean","ssl",t.ssl),this.ssl=M(t.ssl,!0);if(tt("settings",t,["host","ssl","credentials","timestampsInSnapshots","cacheSizeBytes","experimentalForceLongPolling"]),K("settings","object","credentials",t.credentials),this.credentials=t.credentials,K("settings","boolean","timestampsInSnapshots",t.timestampsInSnapshots),!0===t.timestampsInSnapshots?g("\n  The timestampsInSnapshots setting now defaults to true and you no\n  longer need to explicitly set it. In a future release, the setting\n  will be removed entirely and so it is recommended that you remove it\n  from your firestore.settings() call now."):!1===t.timestampsInSnapshots&&g("\n  The timestampsInSnapshots setting will soon be removed. YOU MUST UPDATE\n  YOUR CODE.\n\n  To hide this warning, stop using the timestampsInSnapshots setting in your\n  firestore.settings({ ... }) call.\n\n  Once you remove the setting, Timestamps stored in Cloud Firestore will be\n  read back as Firebase Timestamp objects instead of as system Date objects.\n  So you will also need to update code expecting a Date to instead expect a\n  Timestamp. For example:\n\n  // Old:\n  const date = snapshot.get('created_at');\n  // New:\n  const timestamp = snapshot.get('created_at'); const date =\n  timestamp.toDate();\n\n  Please audit all existing usages of Date when you enable the new\n  behavior."),this.timestampsInSnapshots=M(t.timestampsInSnapshots,!0),K("settings","number","cacheSizeBytes",t.cacheSizeBytes),void 0===t.cacheSizeBytes)this.cacheSizeBytes=Zn.Qh;else{if(t.cacheSizeBytes!==Xi&&t.cacheSizeBytes<Zn.Mh)throw new A(S.INVALID_ARGUMENT,"cacheSizeBytes must be at least "+Zn.Mh);this.cacheSizeBytes=t.cacheSizeBytes}K("settings","boolean","experimentalForceLongPolling",t.experimentalForceLongPolling),this.forceLongPolling=void 0!==t.experimentalForceLongPolling&&t.experimentalForceLongPolling}return t.prototype.isEqual=function(t){return this.host===t.host&&this.ssl===t.ssl&&this.timestampsInSnapshots===t.timestampsInSnapshots&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.forceLongPolling===t.forceLongPolling},t}(),to=function(){function t(e,n){var r=this;if(this.Bw=null,this.Mw=new yn,this.INTERNAL={delete:function(){return o.__awaiter(r,void 0,void 0,(function(){return o.__generator(this,(function(t){switch(t.label){case 0:return this.Qw(),[4,this.Gw.terminate()];case 1:return t.sent(),[2]}}))}))}},"object"==typeof e.options){var i=e;this.Bw=i,this.Ww=t.zw(i),this.Kw=i.name,this.Hw=new k(n)}else{var s=e;if(!s.projectId)throw new A(S.INVALID_ARGUMENT,"Must provide projectId");this.Ww=new C(s.projectId,s.database),this.Kw="[DEFAULT]",this.Hw=new N}this.Jw=new Zi({}),this.Yw=this.Xw(this.Ww)}return t.prototype.settings=function(t){if(F("Firestore.settings",arguments,1),B("Firestore.settings","object",1,t),D(t,"persistence"))throw new A(S.INVALID_ARGUMENT,'"persistence" is now specified with a separate call to firestore.enablePersistence().');var e=new Zi(t);if(this.Gw&&!this.Jw.isEqual(e))throw new A(S.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only call settings() before calling any other methods on a Firestore object.");this.Jw=e,void 0!==e.credentials&&(this.Hw=R(e.credentials))},t.prototype.enableNetwork=function(){return this.Qw(),this.Gw.enableNetwork()},t.prototype.disableNetwork=function(){return this.Qw(),this.Gw.disableNetwork()},t.prototype.enablePersistence=function(t){if(this.Gw)throw new A(S.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only call enablePersistence() before calling any other methods on a Firestore object.");var e=!1;return t&&(void 0!==t.experimentalTabSynchronization&&g("The 'experimentalTabSynchronization' setting has been renamed to 'synchronizeTabs'. In a future release, the setting will be removed and it is recommended that you update your firestore.enablePersistence() call to use 'synchronizeTabs'."),e=M(void 0!==t.synchronizeTabs?t.synchronizeTabs:t.experimentalTabSynchronization,!1)),this.$w(new Ki(this.Jw.cacheSizeBytes,e))},t.prototype.clearPersistence=function(){var t=this,e=Vr.Ia(this.Zw()),n=new mn;return this.Mw.su((function(){return o.__awaiter(t,void 0,void 0,(function(){var t;return o.__generator(this,(function(r){switch(r.label){case 0:if(r.trys.push([0,2,,3]),void 0!==this.Gw&&!this.Gw.Uw)throw new A(S.FAILED_PRECONDITION,"Persistence cannot be cleared after this Firestore instance is initialized.");return[4,Vr.clearPersistence(e)];case 1:return r.sent(),n.resolve(),[3,3];case 2:return t=r.sent(),n.reject(t),[3,3];case 3:return[2]}}))}))})),n.promise},t.prototype.terminate=function(){return this.app._removeServiceInstance("firestore"),this.INTERNAL.delete()},Object.defineProperty(t.prototype,"tm",{get:function(){return this.Qw(),this.Gw.Uw},enumerable:!0,configurable:!0}),t.prototype.waitForPendingWrites=function(){return this.Qw(),this.Gw.waitForPendingWrites()},t.prototype.onSnapshotsInSync=function(t){return this.Qw(),Ji(t)?this.nm(t):(B("Firestore.onSnapshotsInSync","function",1,t),this.nm({next:t}))},t.prototype.nm=function(t){var e=this,n=new Qi({next:function(){t.next&&t.next()},error:function(t){throw v("Uncaught Error in onSnapshotsInSync")}});return this.Gw.ww(n),function(){n.qw(),e.Gw.mw(n)}},t.prototype.Qw=function(){return this.Gw||this.$w(new $i),this.Gw},t.prototype.Zw=function(){return new I(this.Ww,this.Kw,this.Jw.host,this.Jw.ssl,this.Jw.forceLongPolling)},t.prototype.$w=function(t){y(!!this.Jw.host,"FirestoreSettings.host is not set"),y(!this.Gw,"configureClient() called multiple times");var e=this.Zw();return this.Gw=new Yi(cn.t(),e,this.Hw,this.Mw),this.Gw.start(t)},t.prototype.Xw=function(t){return new yi((function(e){if(e instanceof ro){var n=t,r=e.firestore.Ww;if(!r.isEqual(n))throw new A(S.INVALID_ARGUMENT,"Document reference is for database "+r.projectId+"/"+r.database+" but should be for database "+n.projectId+"/"+n.database);return new vi(t,e.im)}return e}))},t.zw=function(t){var e=t.options;if(!D(e,"projectId"))throw new A(S.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');var n=e.projectId;if(!n||"string"!=typeof n)throw new A(S.INVALID_ARGUMENT,"projectId must be a string in FirebaseApp.options");return new C(n)},Object.defineProperty(t.prototype,"app",{get:function(){if(!this.Bw)throw new A(S.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.Bw},enumerable:!0,configurable:!0}),t.prototype.collection=function(t){return F("Firestore.collection",arguments,1),B("Firestore.collection","non-empty string",1,t),this.Qw(),new co(ct.it(t),this)},t.prototype.doc=function(t){return F("Firestore.doc",arguments,1),B("Firestore.doc","non-empty string",1,t),this.Qw(),ro.em(ct.it(t),this)},t.prototype.collectionGroup=function(t){if(F("Firestore.collectionGroup",arguments,1),B("Firestore.collectionGroup","non-empty string",1,t),t.indexOf("/")>=0)throw new A(S.INVALID_ARGUMENT,"Invalid collection ID '"+t+"' passed to function Firestore.collectionGroup(). Collection IDs must not contain '/'.");return this.Qw(),new ao(new ue(ct.et,t),this)},t.prototype.runTransaction=function(t){var e=this;return F("Firestore.runTransaction",arguments,1),B("Firestore.runTransaction","function",1,t),this.Qw().transaction((function(n){return t(new eo(e,n))}))},t.prototype.batch=function(){return this.Qw(),new no(this)},Object.defineProperty(t,"logLevel",{get:function(){switch(f()){case 0:return"debug";case 1:return"error";case 2:return"silent";default:return v("Unknown log level: "+f())}},enumerable:!0,configurable:!0}),t.setLogLevel=function(t){switch(F("Firestore.setLogLevel",arguments,1),B("Firestore.setLogLevel","non-empty string",1,t),t){case"debug":d(0);break;case"error":d(1);break;case"silent":d(2);break;default:throw new A(S.INVALID_ARGUMENT,"Invalid log level: "+t)}},t.prototype.rm=function(){return this.Jw.timestampsInSnapshots},t}(),eo=function(){function t(t,e){this.um=t,this.sm=e}return t.prototype.get=function(t){var e=this;F("Transaction.get",arguments,1);var n=po("Transaction.get",t,this.um);return this.sm.lookup([n.im]).then((function(t){if(!t||1!==t.length)return v("Mismatch in docs returned from document lookup.");var r=t[0];if(r instanceof Zt)return new oo(e.um,n.im,null,!1,!1,n.om);if(r instanceof Xt)return new oo(e.um,n.im,r,!1,!1,n.om);throw v("BatchGetDocumentsRequest returned unexpected document type: "+r.constructor.name)}))},t.prototype.set=function(t,e,n){H("Transaction.set",arguments,2,3);var r=po("Transaction.set",t,this.um);n=ho("Transaction.set",n);var i=mo(r.om,e,"Transaction.set"),o=i[0],s=i[1],a=n.merge||n.mergeFields?this.um.Yw.sl(s,o,n.mergeFields):this.um.Yw.rl(s,o);return this.sm.set(r.im,a),this},t.prototype.update=function(t,e,n){for(var r,i,o=[],s=3;s<arguments.length;s++)o[s-3]=arguments[s];return"string"==typeof e||e instanceof ri?(q("Transaction.update",arguments,3),r=po("Transaction.update",t,this.um),i=this.um.Yw.cl("Transaction.update",e,n,o)):(F("Transaction.update",arguments,2),r=po("Transaction.update",t,this.um),i=this.um.Yw.ol("Transaction.update",e)),this.sm.update(r.im,i),this},t.prototype.delete=function(t){F("Transaction.delete",arguments,1);var e=po("Transaction.delete",t,this.um);return this.sm.delete(e.im),this},t}(),no=function(){function t(t){this.um=t,this.hm=[],this.cm=!1}return t.prototype.set=function(t,e,n){H("WriteBatch.set",arguments,2,3),this.am();var r=po("WriteBatch.set",t,this.um);n=ho("WriteBatch.set",n);var i=mo(r.om,e,"WriteBatch.set"),o=i[0],s=i[1],a=n.merge||n.mergeFields?this.um.Yw.sl(s,o,n.mergeFields):this.um.Yw.rl(s,o);return this.hm=this.hm.concat(a.Hf(r.im,At.NONE)),this},t.prototype.update=function(t,e,n){for(var r,i,o=[],s=3;s<arguments.length;s++)o[s-3]=arguments[s];return this.am(),"string"==typeof e||e instanceof ri?(q("WriteBatch.update",arguments,3),r=po("WriteBatch.update",t,this.um),i=this.um.Yw.cl("WriteBatch.update",e,n,o)):(F("WriteBatch.update",arguments,2),r=po("WriteBatch.update",t,this.um),i=this.um.Yw.ol("WriteBatch.update",e)),this.hm=this.hm.concat(i.Hf(r.im,At.exists(!0))),this},t.prototype.delete=function(t){F("WriteBatch.delete",arguments,1),this.am();var e=po("WriteBatch.delete",t,this.um);return this.hm=this.hm.concat(new Pt(e.im,At.NONE)),this},t.prototype.commit=function(){return o.__awaiter(this,void 0,void 0,(function(){return o.__generator(this,(function(t){return this.am(),this.cm=!0,this.hm.length>0?[2,this.um.Qw().write(this.hm)]:[2]}))}))},t.prototype.am=function(){if(this.cm)throw new A(S.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},t}(),ro=function(){function t(t,e,n){this.im=t,this.firestore=e,this.om=n,this.Gw=this.firestore.Qw()}return t.em=function(e,n,r){if(e.length%2!=0)throw new A(S.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+e.nt()+" has "+e.length);return new t(new ft(e),n,r)},Object.defineProperty(t.prototype,"id",{get:function(){return this.im.path.X()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new co(this.im.path.H(),this.firestore,this.om)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this.im.path.nt()},enumerable:!0,configurable:!0}),t.prototype.collection=function(t){if(F("DocumentReference.collection",arguments,1),B("DocumentReference.collection","non-empty string",1,t),!t)throw new A(S.INVALID_ARGUMENT,"Must provide a non-empty collection name to collection()");var e=ct.it(t);return new co(this.im.path.child(e),this.firestore)},t.prototype.isEqual=function(e){if(!(e instanceof t))throw et("isEqual","DocumentReference",1,e);return this.firestore===e.firestore&&this.im.isEqual(e.im)&&this.om===e.om},t.prototype.set=function(t,e){H("DocumentReference.set",arguments,1,2),e=ho("DocumentReference.set",e);var n=mo(this.om,t,"DocumentReference.set"),r=n[0],i=n[1],o=e.merge||e.mergeFields?this.firestore.Yw.sl(i,r,e.mergeFields):this.firestore.Yw.rl(i,r);return this.Gw.write(o.Hf(this.im,At.NONE))},t.prototype.update=function(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];return"string"==typeof t||t instanceof ri?(q("DocumentReference.update",arguments,2),n=this.firestore.Yw.cl("DocumentReference.update",t,e,r)):(F("DocumentReference.update",arguments,1),n=this.firestore.Yw.ol("DocumentReference.update",t)),this.Gw.write(n.Hf(this.im,At.exists(!0)))},t.prototype.delete=function(){return F("DocumentReference.delete",arguments,0),this.Gw.write([new Pt(this.im,At.NONE)])},t.prototype.onSnapshot=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];H("DocumentReference.onSnapshot",arguments,1,4);var n,r={includeMetadataChanges:!1},i=0;"object"!=typeof t[i]||Ji(t[i])||(tt("DocumentReference.onSnapshot",r=t[i],["includeMetadataChanges"]),K("DocumentReference.onSnapshot","boolean","includeMetadataChanges",r.includeMetadataChanges),i++);var o={includeMetadataChanges:r.includeMetadataChanges};return Ji(t[i])?n=t[i]:(B("DocumentReference.onSnapshot","function",i,t[i]),z("DocumentReference.onSnapshot","function",i+1,t[i+1]),z("DocumentReference.onSnapshot","function",i+2,t[i+2]),n={next:t[i],error:t[i+1],complete:t[i+2]}),this.fm(o,n)},t.prototype.fm=function(t,e){var n=this,r=function(t){console.error("Uncaught Error in onSnapshot:",t)};e.error&&(r=e.error.bind(e));var i=new Qi({next:function(t){if(e.next){y(t.docs.size<=1,"Too many documents returned on a document query");var r=t.docs.get(n.im);e.next(new oo(n.firestore,n.im,r,t.fromCache,t.hasPendingWrites,n.om))}},error:r}),o=this.Gw.listen(ue.jn(this.im.path),i,t);return function(){i.qw(),n.Gw.nd(o)}},t.prototype.get=function(t){var e=this;return H("DocumentReference.get",arguments,0,1),fo("DocumentReference.get",t),new Promise((function(n,r){t&&"cache"===t.source?e.firestore.Qw().xw(e.im).then((function(t){n(new oo(e.firestore,e.im,t,!0,t instanceof Xt&&t.en,e.om))}),r):e.lm(n,r,t)}))},t.prototype.lm=function(t,e,n){var r=this.fm({includeMetadataChanges:!0,Tw:!0},{next:function(i){r(),!i.exists&&i.metadata.fromCache?e(new A(S.UNAVAILABLE,"Failed to get document because the client is offline.")):i.exists&&i.metadata.fromCache&&n&&"server"===n.source?e(new A(S.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):t(i)},error:e})},t.prototype.withConverter=function(e){return new t(this.im,this.firestore,e)},t}(),io=function(){function t(t,e){this.hasPendingWrites=t,this.fromCache=e}return t.prototype.isEqual=function(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache},t}(),oo=function(){function t(t,e,n,r,i,o){this.um=t,this.im=e,this.dm=n,this.vm=r,this.wm=i,this.om=o}return t.prototype.data=function(t){if(H("DocumentSnapshot.data",arguments,0,1),t=lo("DocumentSnapshot.data",t),this.dm){if(this.om){var e=new so(this.um,this.im,this.dm,this.vm,this.wm);return this.om.fromFirestore(e,t)}return this.mm(this.dm.data(),Dt.mn(t,this.um.rm()))}},t.prototype.get=function(t,e){if(H("DocumentSnapshot.get",arguments,1,2),e=lo("DocumentSnapshot.get",e),this.dm){var n=this.dm.data().field(_i("DocumentSnapshot.get",t));if(null!==n)return this.pm(n,Dt.mn(e,this.um.rm()))}},Object.defineProperty(t.prototype,"id",{get:function(){return this.im.path.X()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ref",{get:function(){return new ro(this.im,this.um,this.om)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"exists",{get:function(){return null!==this.dm},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return new io(this.wm,this.vm)},enumerable:!0,configurable:!0}),t.prototype.isEqual=function(e){if(!(e instanceof t))throw et("isEqual","DocumentSnapshot",1,e);return this.um===e.um&&this.vm===e.vm&&this.im.isEqual(e.im)&&(null===this.dm?null===e.dm:this.dm.isEqual(e.dm))&&this.om===e.om},t.prototype.mm=function(t,e){var n=this,r={};return t.forEach((function(t,i){r[t]=n.pm(i,e)})),r},t.prototype.pm=function(t,e){if(t instanceof $t)return this.mm(t,e);if(t instanceof Qt)return this.gm(t,e);if(t instanceof Wt){var n=t.value(e),r=this.um.Qw().s();return t.s.isEqual(r)||g("Document "+this.im.path+" contains a document reference within a different database ("+t.s.projectId+"/"+t.s.database+") which is not supported. It will be treated as a reference in the current database ("+r.projectId+"/"+r.database+") instead."),new ro(n,this.um,this.om)}return t.value(e)},t.prototype.gm=function(t,e){var n=this;return t.Ht.map((function(t){return n.pm(t,e)}))},t}(),so=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o.__extends(e,t),e.prototype.data=function(e){var n=t.prototype.data.call(this,e);return y(void 0!==n,"Document in a QueryDocumentSnapshot should exist"),n},e}(oo),ao=function(){function t(t,e,n){this.bm=t,this.firestore=e,this.om=n}return t.prototype.where=function(e,n,r){F("Query.where",arguments,3),Z("Query.where",3,r);var i,o=["<","<=","==",">=",">","array-contains","in","array-contains-any"];Y("Query.where",o,2,n);var s=_i("Query.where",e),a=ce.it(n);if(s.ut()){if(a===ce.ARRAY_CONTAINS||a===ce.ARRAY_CONTAINS_ANY)throw new A(S.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+a.toString()+"' queries on FieldPath.documentId().");if(a===ce.IN){this.ym(r,a);for(var u=[],c=0,h=r;c<h.length;c++){var l=h[c];u.push(this._m(l))}i=new Qt(u)}else i=this._m(r)}else a!==ce.IN&&a!==ce.ARRAY_CONTAINS_ANY||this.ym(r,a),i=this.firestore.Yw.al("Query.where",r,a===ce.IN);var f=he.create(s,a,i);return this.Im(f),new t(this.bm.Bn(f),this.firestore,this.om)},t.prototype.orderBy=function(e,n){var r;if(H("Query.orderBy",arguments,1,2),z("Query.orderBy","non-empty string",2,n),void 0===n||"asc"===n)r=me.ASCENDING;else{if("desc"!==n)throw new A(S.INVALID_ARGUMENT,"Function Query.orderBy() has unknown direction '"+n+"', expected 'asc' or 'desc'.");r=me.DESCENDING}if(null!==this.bm.startAt)throw new A(S.INVALID_ARGUMENT,"Invalid query. You must not call Query.startAt() or Query.startAfter() before calling Query.orderBy().");if(null!==this.bm.endAt)throw new A(S.INVALID_ARGUMENT,"Invalid query. You must not call Query.endAt() or Query.endBefore() before calling Query.orderBy().");var i=_i("Query.orderBy",e),o=new ye(i,r);return this.Tm(o),new t(this.bm.Qn(o),this.firestore,this.om)},t.prototype.limit=function(e){return F("Query.limit",arguments,1),B("Query.limit","number",1,e),nt("Query.limit",1,e),new t(this.bm.Gn(e),this.firestore,this.om)},t.prototype.limitToLast=function(e){return F("Query.limitToLast",arguments,1),B("Query.limitToLast","number",1,e),nt("Query.limitToLast",1,e),new t(this.bm.Wn(e),this.firestore,this.om)},t.prototype.startAt=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];q("Query.startAt",arguments,1);var i=this.Em("Query.startAt",e,n,!0);return new t(this.bm.zn(i),this.firestore,this.om)},t.prototype.startAfter=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];q("Query.startAfter",arguments,1);var i=this.Em("Query.startAfter",e,n,!1);return new t(this.bm.zn(i),this.firestore,this.om)},t.prototype.endBefore=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];q("Query.endBefore",arguments,1);var i=this.Em("Query.endBefore",e,n,!0);return new t(this.bm.Kn(i),this.firestore,this.om)},t.prototype.endAt=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];q("Query.endAt",arguments,1);var i=this.Em("Query.endAt",e,n,!1);return new t(this.bm.Kn(i),this.firestore,this.om)},t.prototype.isEqual=function(e){if(!(e instanceof t))throw et("isEqual","Query",1,e);return this.firestore===e.firestore&&this.bm.isEqual(e.bm)},t.prototype.withConverter=function(e){return new t(this.bm,this.firestore,e)},t.prototype.Em=function(t,e,n,r){if(Z(t,1,e),e instanceof oo){if(n.length>0)throw new A(S.INVALID_ARGUMENT,"Too many arguments provided to "+t+"().");var i=e;if(!i.exists)throw new A(S.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+t+"().");return this.Dm(t,i.dm,r)}var o=[e].concat(n);return this.Sm(t,o,r)},t.prototype.Dm=function(t,e,n){for(var r=[],i=0,o=this.bm.orderBy;i<o.length;i++){var s=o[i];if(s.field.ut())r.push(new Wt(this.firestore.Ww,e.key));else{var a=e.field(s.field);if(a instanceof Bt)throw new A(S.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+s.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===a){var u=s.field.nt();throw new A(S.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+u+"' (used as the orderBy) does not exist.")}r.push(a)}}return new ve(r,n)},t.prototype.Sm=function(t,e,n){var r=this.bm.On;if(e.length>r.length)throw new A(S.INVALID_ARGUMENT,"Too many arguments provided to "+t+"(). The number of arguments must be less than or equal to the number of Query.orderBy() clauses");for(var i=[],o=0;o<e.length;o++){var s=e[o];if(r[o].field.ut()){if("string"!=typeof s)throw new A(S.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+t+"(), but got a "+typeof s);if(!this.bm.ui()&&-1!==s.indexOf("/"))throw new A(S.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+t+"() must be a plain document ID, but '"+s+"' contains a slash.");var a=this.bm.path.child(ct.it(s));if(!ft.ht(a))throw new A(S.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+t+"() must result in a valid document path, but '"+a+"' is not because it contains an odd number of segments.");var u=new ft(a);i.push(new Wt(this.firestore.Ww,u))}else{var c=this.firestore.Yw.al(t,s);i.push(c)}}return new ve(i,n)},t.prototype.onSnapshot=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];H("Query.onSnapshot",arguments,1,4);var n,r={},i=0;return"object"!=typeof t[i]||Ji(t[i])||(tt("Query.onSnapshot",r=t[i],["includeMetadataChanges"]),K("Query.onSnapshot","boolean","includeMetadataChanges",r.includeMetadataChanges),i++),Ji(t[i])?n=t[i]:(B("Query.onSnapshot","function",i,t[i]),z("Query.onSnapshot","function",i+1,t[i+1]),z("Query.onSnapshot","function",i+2,t[i+2]),n={next:t[i],error:t[i+1],complete:t[i+2]}),this.Rm(this.bm),this.fm(r,n)},t.prototype.fm=function(t,e){var n=this,r=function(t){console.error("Uncaught Error in onSnapshot:",t)};e.error&&(r=e.error.bind(e));var i=new Qi({next:function(t){e.next&&e.next(new uo(n.firestore,n.bm,t,n.om))},error:r}),o=this.firestore.Qw(),s=o.listen(this.bm,i,t);return function(){i.qw(),o.nd(s)}},t.prototype.Rm=function(t){if(t.ei()&&0===t.On.length)throw new A(S.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")},t.prototype.get=function(t){var e=this;return H("Query.get",arguments,0,1),fo("Query.get",t),this.Rm(this.bm),new Promise((function(n,r){t&&"cache"===t.source?e.firestore.Qw().jw(e.bm).then((function(t){n(new uo(e.firestore,e.bm,t,e.om))}),r):e.lm(n,r,t)}))},t.prototype.lm=function(t,e,n){var r=this.fm({includeMetadataChanges:!0,Tw:!0},{next:function(i){r(),i.metadata.fromCache&&n&&"server"===n.source?e(new A(S.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):t(i)},error:e})},t.prototype._m=function(t){if("string"==typeof t){if(""===t)throw new A(S.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!this.bm.ui()&&-1!==t.indexOf("/"))throw new A(S.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+t+"' contains a '/' character.");var e=this.bm.path.child(ct.it(t));if(!ft.ht(e))throw new A(S.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+e+"' is not because it has an odd number of segments ("+e.length+").");return new Wt(this.firestore.Ww,new ft(e))}if(t instanceof ro)return new Wt(this.firestore.Ww,t.im);throw new A(S.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+X(t)+".")},t.prototype.ym=function(t,e){if(!Array.isArray(t)||0===t.length)throw new A(S.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+e.toString()+"' filters.");if(t.length>10)throw new A(S.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters support a maximum of 10 elements in the value array.");if(t.indexOf(null)>=0)throw new A(S.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters cannot contain 'null' in the value array.");if(t.filter((function(t){return Number.isNaN(t)})).length>0)throw new A(S.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters cannot contain 'NaN' in the value array.")},t.prototype.Im=function(t){if(t instanceof he){var e=[ce.ARRAY_CONTAINS,ce.ARRAY_CONTAINS_ANY],n=[ce.IN,ce.ARRAY_CONTAINS_ANY],r=e.indexOf(t.op)>=0,i=n.indexOf(t.op)>=0;if(t.Mn()){var o=this.bm.Ln();if(null!==o&&!o.isEqual(t.field))throw new A(S.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, >, or >=) must be on the same field. But you have inequality filters on '"+o.toString()+"' and '"+t.field.toString()+"'");var s=this.bm.qn();null!==s&&this.Cm(t.field,s)}else if(i||r){var a=null;if(i&&(a=this.bm.ri(n)),null===a&&r&&(a=this.bm.ri(e)),null!=a)throw new A(S.INVALID_ARGUMENT,a===t.op?"Invalid query. You cannot use more than one '"+t.op.toString()+"' filter.":"Invalid query. You cannot use '"+t.op.toString()+"' filters with '"+a.toString()+"' filters.")}}},t.prototype.Tm=function(t){if(null===this.bm.qn()){var e=this.bm.Ln();null!==e&&this.Cm(e,t.field)}},t.prototype.Cm=function(t,e){if(!e.isEqual(t))throw new A(S.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, >, or >=) on field '"+t.toString()+"' and so you must also use '"+t.toString()+"' as your first Query.orderBy(), but your first Query.orderBy() is on field '"+e.toString()+"' instead.")},t}(),uo=function(){function t(t,e,n,r){this.um=t,this.Am=e,this.Pm=n,this.om=r,this.km=null,this.Nm=null,this.metadata=new io(n.hasPendingWrites,n.fromCache)}return Object.defineProperty(t.prototype,"docs",{get:function(){var t=[];return this.forEach((function(e){return t.push(e)})),t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return this.Pm.docs.J()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this.Pm.docs.size},enumerable:!0,configurable:!0}),t.prototype.forEach=function(t,e){var n=this;H("QuerySnapshot.forEach",arguments,1,2),B("QuerySnapshot.forEach","function",1,t),this.Pm.docs.forEach((function(r){t.call(e,n.Om(r))}))},Object.defineProperty(t.prototype,"query",{get:function(){return new ao(this.Am,this.um,this.om)},enumerable:!0,configurable:!0}),t.prototype.docChanges=function(t){t&&(tt("QuerySnapshot.docChanges",t,["includeMetadataChanges"]),K("QuerySnapshot.docChanges","boolean","includeMetadataChanges",t.includeMetadataChanges));var e=!(!t||!t.includeMetadataChanges);if(e&&this.Pm.Ei)throw new A(S.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this.km&&this.Nm===e||(this.km=function(t,e,n,r){if(n._i.J()){var i,o=0;return n.docChanges.map((function(e){var s=new so(t,e.doc.key,e.doc,n.fromCache,n.Ii.has(e.doc.key),r);return y(0===e.type,"Invalid event type for first snapshot"),y(!i||n.query.Xn(i,e.doc)<0,"Got added events in wrong order"),i=e.doc,{type:"added",doc:s,oldIndex:-1,newIndex:o++}}))}var s=n._i;return n.docChanges.filter((function(t){return e||3!==t.type})).map((function(e){var i=new so(t,e.doc.key,e.doc,n.fromCache,n.Ii.has(e.doc.key),r),o=-1,a=-1;return 0!==e.type&&(y((o=s.indexOf(e.doc.key))>=0,"Index for document not found"),s=s.delete(e.doc.key)),1!==e.type&&(a=(s=s.add(e.doc)).indexOf(e.doc.key)),{type:go(e.type),doc:i,oldIndex:o,newIndex:a}}))}(this.um,e,this.Pm,this.om),this.Nm=e),this.km},t.prototype.isEqual=function(e){if(!(e instanceof t))throw et("isEqual","QuerySnapshot",1,e);return this.um===e.um&&this.Am.isEqual(e.Am)&&this.Pm.isEqual(e.Pm)&&this.om===e.om},t.prototype.Om=function(t){return new so(this.um,t.key,t,this.metadata.fromCache,this.Pm.Ii.has(t.key),this.om)},t}();o.__spreadArrays(["length","forEach","map"],"undefined"!=typeof Symbol?[Symbol.iterator]:[]).forEach((function(t){try{Object.defineProperty(uo.prototype.docChanges,t,{get:function(){return function(){throw new A(S.INVALID_ARGUMENT,'QuerySnapshot.docChanges has been changed from a property into a method, so usages like "querySnapshot.docChanges" should become "querySnapshot.docChanges()"')}()}})}catch(t){}}));var co=function(t){function e(e,n,r){var i=t.call(this,ue.jn(e),n,r)||this;if(i.Fm=e,e.length%2!=1)throw new A(S.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+e.nt()+" has "+e.length);return i}return o.__extends(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this.bm.path.X()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this.bm.path.H();return t.J()?null:new ro(new ft(t),this.firestore)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this.bm.path.nt()},enumerable:!0,configurable:!0}),e.prototype.doc=function(t){if(H("CollectionReference.doc",arguments,0,1),0===arguments.length&&(t=b.u()),B("CollectionReference.doc","non-empty string",1,t),""===t)throw new A(S.INVALID_ARGUMENT,"Document path must be a non-empty string");var e=ct.it(t);return ro.em(this.bm.path.child(e),this.firestore,this.om)},e.prototype.add=function(t){F("CollectionReference.add",arguments,1);var e=this.om?this.om.toFirestore(t):t;B("CollectionReference.add","object",1,e);var n=this.doc();return n.set(t).then((function(){return n}))},e.prototype.withConverter=function(t){return new e(this.Fm,this.firestore,t)},e}(ao);function ho(t,e){if(void 0===e)return{merge:!1};if(tt(t,e,["merge","mergeFields"]),K(t,"boolean","merge",e.merge),function(t,e,n,r,i){void 0!==r&&function(t,e,n,r,i){if(!(r instanceof Array))throw new A(S.INVALID_ARGUMENT,"Function "+t+"() requires its "+e+" option to be an array, but it was: "+X(r));for(var o=0;o<r.length;++o)if(!i(r[o]))throw new A(S.INVALID_ARGUMENT,"Function "+t+"() requires all "+e+" elements to be a string or a FieldPath, but the value at index "+o+" was: "+X(r[o]))}(t,"mergeFields",0,r,(function(t){return"string"==typeof t||t instanceof ri}))}(t,0,0,e.mergeFields),void 0!==e.mergeFields&&void 0!==e.merge)throw new A(S.INVALID_ARGUMENT,"Invalid options passed to function "+t+'(): You cannot specify both "merge" and "mergeFields".');return e}function lo(t,e){return void 0===e?{}:(tt(t,e,["serverTimestamps"]),$(t,0,"serverTimestamps",e.serverTimestamps,["estimate","previous","none"]),e)}function fo(t,e){z(t,"object",1,e),e&&(tt(t,e,["source"]),$(t,0,"source",e.source,["default","server","cache"]))}function po(t,e,n){if(e instanceof ro){if(e.firestore!==n)throw new A(S.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}throw et(t,"DocumentReference",1,e)}function go(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return v("Unknown change type: "+t)}}function mo(t,e,n){var r;return t?(r=t.toFirestore(e),n="toFirestore() in "+n):r=e,[r,n]}var vo=hn(to,"Use firebase.firestore() instead."),yo=hn(eo,"Use firebase.firestore().runTransaction() instead."),bo=hn(no,"Use firebase.firestore().batch() instead."),wo=hn(ro,"Use firebase.firestore().doc() instead."),_o=hn(oo),Eo=hn(so),Io=hn(ao),Co=hn(uo),To=hn(co,"Use firebase.firestore().collection() instead."),So={Firestore:vo,GeoPoint:ot,Timestamp:st,Blob:pn,Transaction:yo,WriteBatch:bo,DocumentReference:wo,DocumentSnapshot:_o,Query:Io,QueryDocumentSnapshot:Eo,QuerySnapshot:Co,CollectionReference:To,FieldPath:ri,FieldValue:li,setLogLevel:to.setLogLevel,CACHE_SIZE_UNLIMITED:Xi},Ao=function(){function t(){}return t.prototype.xl=function(t){},t.prototype.shutdown=function(){},t}(),Oo=function(){function t(){var t=this;this.Vm=function(){return t.Um()},this.xm=function(){return t.jm()},this.Lm=[],this.qm()}return t.prototype.xl=function(t){this.Lm.push(t)},t.prototype.shutdown=function(){window.removeEventListener("online",this.Vm),window.removeEventListener("offline",this.xm)},t.prototype.qm=function(){window.addEventListener("online",this.Vm),window.addEventListener("offline",this.xm)},t.prototype.Um=function(){p("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var t=0,e=this.Lm;t<e.length;t++)(0,e[t])(0)},t.prototype.jm=function(){p("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var t=0,e=this.Lm;t<e.length;t++)(0,e[t])(1)},t.cs=function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},t}(),No=function(){function t(t){this.Bm=t.Bm,this.Mm=t.Mm}return t.prototype.Af=function(t){y(!this.Qm,"Called onOpen on stream twice!"),this.Qm=t},t.prototype.Ef=function(t){y(!this.Gm,"Called onClose on stream twice!"),this.Gm=t},t.prototype.onMessage=function(t){y(!this.Wm,"Called onMessage on stream twice!"),this.Wm=t},t.prototype.close=function(){this.Mm()},t.prototype.send=function(t){this.Bm(t)},t.prototype.zm=function(){y(void 0!==this.Qm,"Cannot call onOpen because no callback was set"),this.Qm()},t.prototype.Km=function(t){y(void 0!==this.Gm,"Cannot call onClose because no callback was set"),this.Gm(t)},t.prototype.Hm=function(t){y(void 0!==this.Wm,"Cannot call onMessage because no callback was set"),this.Wm(t)},t}(),ko={BatchGetDocuments:"batchGet",Commit:"commit"},xo="gl-js/ fire/"+h,Po=function(){function t(t){this.s=t.s,this.Jm=(t.ssl?"https":"http")+"://"+t.host,this.forceLongPolling=t.forceLongPolling}return t.prototype.Ym=function(t,e){if(e)for(var n in e.g)e.g.hasOwnProperty(n)&&(t[n]=e.g[n]);t["X-Goog-Api-Client"]=xo},t.prototype.Bf=function(t,e,n){var r=this,i=this.Xm(t);return new Promise((function(s,a){var u=new c.XhrIo;u.listenOnce(c.EventType.COMPLETE,(function(){try{switch(u.getLastErrorCode()){case c.ErrorCode.NO_ERROR:var e=u.getResponseJson();p("Connection","XHR received:",JSON.stringify(e)),s(e);break;case c.ErrorCode.TIMEOUT:p("Connection",'RPC "'+t+'" timed out'),a(new A(S.DEADLINE_EXCEEDED,"Request time out"));break;case c.ErrorCode.HTTP_ERROR:var n=u.getStatus();if(p("Connection",'RPC "'+t+'" failed with status:',n,"response text:",u.getResponseText()),n>0){var r=u.getResponseJson().error;if(r&&r.status&&r.message){var i=(o=r.status.toLowerCase().replace("_","-"),Object.values(S).indexOf(o)>=0?o:S.UNKNOWN);a(new A(i,r.message))}else a(new A(S.UNKNOWN,"Server responded with status "+u.getStatus()))}else p("Connection",'RPC "'+t+'" failed'),a(new A(S.UNAVAILABLE,"Connection failed."));break;default:v('RPC "'+t+'" failed with unanticipated webchannel error '+u.getLastErrorCode()+": "+u.getLastError()+", giving up.")}}finally{p("Connection",'RPC "'+t+'" completed.')}var o}));var h=o.__assign({},e);delete h.database;var l=JSON.stringify(h);p("Connection","XHR sending: ",i+" "+l);var f={"Content-Type":"text/plain"};r.Ym(f,n),u.send(i,"POST",l,f,15)}))},t.prototype.Mf=function(t,e,n){return this.Bf(t,e,n)},t.prototype.Pf=function(t,e){var n=[this.Jm,"/","google.firestore.v1.Firestore","/",t,"/channel"],r=c.createWebChannelTransport(),i={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.s.projectId+"/databases/"+this.s.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling};this.Ym(i.initMessageHeaders,e),a.isMobileCordova()||a.isReactNative()||a.isElectron()||a.isIE()||a.isUWP()||a.isBrowserExtension()||(i.httpHeadersOverwriteParam="$httpHeaders");var o=n.join("");p("Connection","Creating WebChannel: "+o+" "+i);var s=r.createWebChannel(o,i),u=!1,h=!1,l=new No({Bm:function(t){h?p("Connection","Not sending because WebChannel is closed:",t):(u||(p("Connection","Opening WebChannel transport."),s.open(),u=!0),p("Connection","WebChannel sending:",t),s.send(t))},Mm:function(){return s.close()}}),f=function(t,e){s.listen(t,(function(t){try{e(t)}catch(t){setTimeout((function(){throw t}),0)}}))};return f(c.WebChannel.EventType.OPEN,(function(){h||p("Connection","WebChannel transport opened.")})),f(c.WebChannel.EventType.CLOSE,(function(){h||(h=!0,p("Connection","WebChannel transport closed"),l.Km())})),f(c.WebChannel.EventType.ERROR,(function(t){h||(h=!0,p("Connection","WebChannel transport errored:",t),l.Km(new A(S.UNAVAILABLE,"The operation could not be completed")))})),f(c.WebChannel.EventType.MESSAGE,(function(t){var e;if(!h){var n=t.data[0];y(!!n,"Got a webchannel message without data.");var r=n.error||(null===(e=n[0])||void 0===e?void 0:e.error);if(r){p("Connection","WebChannel received error:",r);var i=r.status,o=function(t){var e=Ce[t];if(void 0!==e)return Ne(e)}(i),a=r.message;void 0===o&&(o=S.INTERNAL,a="Unknown error status: "+i+" with message "+r.message),h=!0,l.Km(new A(o,a)),s.close()}else p("Connection","WebChannel received:",n),l.Hm(n)}})),setTimeout((function(){l.zm()}),0),l},t.prototype.Xm=function(t){var e=ko[t];return y(void 0!==e,"Unknown REST mapping for: "+t),this.Jm+"/v1/projects/"+this.s.projectId+"/databases/"+this.s.database+"/documents:"+e},t}(),Ro=function(){function t(){this.xr="undefined"!=typeof atob}return Object.defineProperty(t.prototype,"document",{get:function(){return"undefined"!=typeof document?document:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"window",{get:function(){return"undefined"!=typeof window?window:null},enumerable:!0,configurable:!0}),t.prototype.kw=function(t){return Promise.resolve(new Po(t))},t.prototype.Ow=function(){return Oo.cs()?new Oo:new Ao},t.prototype.Fw=function(t){return new un(t,{Te:!0})},t.prototype.i=function(t){return JSON.stringify(t)},t.prototype.atob=function(t){return atob(t)},t.prototype.btoa=function(t){return btoa(t)},t}();function Do(t){(function(t){var e;t.INTERNAL.registerComponent(new u.Component("firestore",(function(t){var e=t.getProvider("app").getImmediate();return new to(e,t.getProvider("auth-internal"))}),"PUBLIC").setServiceProps((y((e=So)&&"object"==typeof e,"shallowCopy() expects object parameter."),o.__assign({},e))))})(t),t.registerVersion("@firebase/firestore","1.12.1")}cn.Ur(new Ro),Do(i),e.__PRIVATE_registerFirestore=Do},"7o/Q":function(t,e,n){"use strict";n.d(e,"a",(function(){return c}));var r=n("n6bG"),i=n("gRHU"),o=n("quSY"),s=n("2QA8"),a=n("2fFW"),u=n("NJ4a");class c extends o.a{constructor(t,e,n){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=i.a;break;case 1:if(!t){this.destination=i.a;break}if("object"==typeof t){t instanceof c?(this.syncErrorThrowable=t.syncErrorThrowable,this.destination=t,t.add(this)):(this.syncErrorThrowable=!0,this.destination=new h(this,t));break}default:this.syncErrorThrowable=!0,this.destination=new h(this,t,e,n)}}[s.a](){return this}static create(t,e,n){const r=new c(t,e,n);return r.syncErrorThrowable=!1,r}next(t){this.isStopped||this._next(t)}error(t){this.isStopped||(this.isStopped=!0,this._error(t))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(t){this.destination.next(t)}_error(t){this.destination.error(t),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:t}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=t,this}}class h extends c{constructor(t,e,n,o){let s;super(),this._parentSubscriber=t;let a=this;Object(r.a)(e)?s=e:e&&(s=e.next,n=e.error,o=e.complete,e!==i.a&&(a=Object.create(e),Object(r.a)(a.unsubscribe)&&this.add(a.unsubscribe.bind(a)),a.unsubscribe=this.unsubscribe.bind(this))),this._context=a,this._next=s,this._error=n,this._complete=o}next(t){if(!this.isStopped&&this._next){const{_parentSubscriber:e}=this;a.a.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?this.__tryOrSetError(e,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}}error(t){if(!this.isStopped){const{_parentSubscriber:e}=this,{useDeprecatedSynchronousErrorHandling:n}=a.a;if(this._error)n&&e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else if(e.syncErrorThrowable)n?(e.syncErrorValue=t,e.syncErrorThrown=!0):Object(u.a)(t),this.unsubscribe();else{if(this.unsubscribe(),n)throw t;Object(u.a)(t)}}}complete(){if(!this.isStopped){const{_parentSubscriber:t}=this;if(this._complete){const e=()=>this._complete.call(this._context);a.a.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?(this.__tryOrSetError(t,e),this.unsubscribe()):(this.__tryOrUnsub(e),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(t,e){try{t.call(this._context,e)}catch(n){if(this.unsubscribe(),a.a.useDeprecatedSynchronousErrorHandling)throw n;Object(u.a)(n)}}__tryOrSetError(t,e,n){if(!a.a.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{e.call(this._context,n)}catch(r){return a.a.useDeprecatedSynchronousErrorHandling?(t.syncErrorValue=r,t.syncErrorThrown=!0,!0):(Object(u.a)(r),!0)}return!1}_unsubscribe(){const{_parentSubscriber:t}=this;this._context=null,this._parentSubscriber=null,t.unsubscribe()}}},"9ppp":function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));const r=(()=>{function t(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return t.prototype=Object.create(Error.prototype),t})()},Cfvw:function(t,e,n){"use strict";var r=n("HDdC"),i=n("SeVD"),o=n("quSY"),s=n("kJWO"),a=n("jZKg"),u=n("Lhse"),c=n("c2HN"),h=n("I55L");function l(t,e){return e?function(t,e){if(null!=t){if(function(t){return t&&"function"==typeof t[s.a]}(t))return function(t,e){return new r.a(n=>{const r=new o.a;return r.add(e.schedule(()=>{const i=t[s.a]();r.add(i.subscribe({next(t){r.add(e.schedule(()=>n.next(t)))},error(t){r.add(e.schedule(()=>n.error(t)))},complete(){r.add(e.schedule(()=>n.complete()))}}))})),r})}(t,e);if(Object(c.a)(t))return function(t,e){return new r.a(n=>{const r=new o.a;return r.add(e.schedule(()=>t.then(t=>{r.add(e.schedule(()=>{n.next(t),r.add(e.schedule(()=>n.complete()))}))},t=>{r.add(e.schedule(()=>n.error(t)))}))),r})}(t,e);if(Object(h.a)(t))return Object(a.a)(t,e);if(function(t){return t&&"function"==typeof t[u.a]}(t)||"string"==typeof t)return function(t,e){if(!t)throw new Error("Iterable cannot be null");return new r.a(n=>{const r=new o.a;let i;return r.add(()=>{i&&"function"==typeof i.return&&i.return()}),r.add(e.schedule(()=>{i=t[u.a](),r.add(e.schedule((function(){if(n.closed)return;let t,e;try{const n=i.next();t=n.value,e=n.done}catch(r){return void n.error(r)}e?n.complete():(n.next(t),this.schedule())})))})),r})}(t,e)}throw new TypeError((null!==t&&typeof t||t)+" is not observable")}(t,e):t instanceof r.a?t:new r.a(Object(i.a)(t))}n.d(e,"a",(function(){return l}))},DH7j:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));const r=(()=>Array.isArray||(t=>t&&"number"==typeof t.length))()},EY2u:function(t,e,n){"use strict";n.d(e,"a",(function(){return i})),n.d(e,"b",(function(){return o}));var r=n("HDdC");const i=new r.a(t=>t.complete());function o(t){return t?function(t){return new r.a(e=>t.schedule(()=>e.complete()))}(t):i}},HDdC:function(t,e,n){"use strict";var r=n("7o/Q"),i=n("2QA8"),o=n("gRHU"),s=n("kJWO"),a=n("mCNh"),u=n("2fFW");n.d(e,"a",(function(){return c}));let c=(()=>{class t{constructor(t){this._isScalar=!1,t&&(this._subscribe=t)}lift(e){const n=new t;return n.source=this,n.operator=e,n}subscribe(t,e,n){const{operator:s}=this,a=function(t,e,n){if(t){if(t instanceof r.a)return t;if(t[i.a])return t[i.a]()}return t||e||n?new r.a(t,e,n):new r.a(o.a)}(t,e,n);if(a.add(s?s.call(a,this.source):this.source||u.a.useDeprecatedSynchronousErrorHandling&&!a.syncErrorThrowable?this._subscribe(a):this._trySubscribe(a)),u.a.useDeprecatedSynchronousErrorHandling&&a.syncErrorThrowable&&(a.syncErrorThrowable=!1,a.syncErrorThrown))throw a.syncErrorValue;return a}_trySubscribe(t){try{return this._subscribe(t)}catch(e){u.a.useDeprecatedSynchronousErrorHandling&&(t.syncErrorThrown=!0,t.syncErrorValue=e),function(t){for(;t;){const{closed:e,destination:n,isStopped:i}=t;if(e||i)return!1;t=n&&n instanceof r.a?n:null}return!0}(t)?t.error(e):console.warn(e)}}forEach(t,e){return new(e=h(e))((e,n)=>{let r;r=this.subscribe(e=>{try{t(e)}catch(i){n(i),r&&r.unsubscribe()}},n,e)})}_subscribe(t){const{source:e}=this;return e&&e.subscribe(t)}[s.a](){return this}pipe(...t){return 0===t.length?this:Object(a.b)(t)(this)}toPromise(t){return new(t=h(t))((t,e)=>{let n;this.subscribe(t=>n=t,t=>e(t),()=>t(n))})}}return t.create=e=>new t(e),t})();function h(t){if(t||(t=u.a.Promise||Promise),!t)throw new Error("no Promise impl found");return t}},I55L:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));const r=t=>t&&"number"==typeof t.length&&"function"!=typeof t},Kqap:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n("7o/Q");function i(t,e){let n=!1;return arguments.length>=2&&(n=!0),function(r){return r.lift(new o(t,e,n))}}class o{constructor(t,e,n=!1){this.accumulator=t,this.seed=e,this.hasSeed=n}call(t,e){return e.subscribe(new s(t,this.accumulator,this.seed,this.hasSeed))}}class s extends r.a{constructor(t,e,n,r){super(t),this.accumulator=e,this._seed=n,this.hasSeed=r,this.index=0}get seed(){return this._seed}set seed(t){this.hasSeed=!0,this._seed=t}_next(t){if(this.hasSeed)return this._tryNext(t);this.seed=t,this.destination.next(t)}_tryNext(t){const e=this.index++;let n;try{n=this.accumulator(this.seed,t,e)}catch(r){this.destination.error(r)}this.seed=n,this.destination.next(n)}}},KqfI:function(t,e,n){"use strict";function r(){}n.d(e,"a",(function(){return r}))},LRne:function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var r=n("z+Ro"),i=n("yCtX"),o=n("jZKg");function s(...t){let e=t[t.length-1];return Object(r.a)(e)?(t.pop(),Object(o.a)(t,e)):Object(i.a)(t)}},Lhse:function(t,e,n){"use strict";function r(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}n.d(e,"a",(function(){return i}));const i=r()},NJ4a:function(t,e,n){"use strict";function r(t){setTimeout(()=>{throw t},0)}n.d(e,"a",(function(){return r}))},"S+S0":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("mrSG"),i=n("zVF4"),o=function(){function t(t,e,n){this.name=t,this.instanceFactory=e,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY"}return t.prototype.setInstantiationMode=function(t){return this.instantiationMode=t,this},t.prototype.setMultipleInstances=function(t){return this.multipleInstances=t,this},t.prototype.setServiceProps=function(t){return this.serviceProps=t,this},t}(),s=function(){function t(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map}return t.prototype.get=function(t){void 0===t&&(t="[DEFAULT]");var e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){var n=new i.Deferred;this.instancesDeferred.set(e,n);try{var r=this.getOrInitializeService(e);r&&n.resolve(r)}catch(o){}}return this.instancesDeferred.get(e).promise},t.prototype.getImmediate=function(t){var e=r.__assign({identifier:"[DEFAULT]",optional:!1},t),n=e.optional,i=this.normalizeInstanceIdentifier(e.identifier);try{var o=this.getOrInitializeService(i);if(!o){if(n)return null;throw Error("Service "+this.name+" is not available")}return o}catch(s){if(n)return null;throw s}},t.prototype.getComponent=function(){return this.component},t.prototype.setComponent=function(t){var e,n;if(t.name!==this.name)throw Error("Mismatching Component "+t.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=t,function(t){return"EAGER"===t.instantiationMode}(t))try{this.getOrInitializeService("[DEFAULT]")}catch(h){}try{for(var i=r.__values(this.instancesDeferred.entries()),o=i.next();!o.done;o=i.next()){var s=r.__read(o.value,2),a=s[1],u=this.normalizeInstanceIdentifier(s[0]);try{var c=this.getOrInitializeService(u);a.resolve(c)}catch(h){}}}catch(l){e={error:l}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}},t.prototype.clearInstance=function(t){void 0===t&&(t="[DEFAULT]"),this.instancesDeferred.delete(t),this.instances.delete(t)},t.prototype.delete=function(){return r.__awaiter(this,void 0,void 0,(function(){var t;return r.__generator(this,(function(e){switch(e.label){case 0:return t=Array.from(this.instances.values()),[4,Promise.all(t.filter((function(t){return"INTERNAL"in t})).map((function(t){return t.INTERNAL.delete()})))];case 1:return e.sent(),[2]}}))}))},t.prototype.isComponentSet=function(){return null!=this.component},t.prototype.getOrInitializeService=function(t){var e=this.instances.get(t);return!e&&this.component&&(e=this.component.instanceFactory(this.container,function(t){return"[DEFAULT]"===t?void 0:t}(t)),this.instances.set(t,e)),e||null},t.prototype.normalizeInstanceIdentifier=function(t){return this.component?this.component.multipleInstances?t:"[DEFAULT]":t},t}(),a=function(){function t(t){this.name=t,this.providers=new Map}return t.prototype.addComponent=function(t){var e=this.getProvider(t.name);if(e.isComponentSet())throw new Error("Component "+t.name+" has already been registered with "+this.name);e.setComponent(t)},t.prototype.addOrOverwriteComponent=function(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)},t.prototype.getProvider=function(t){if(this.providers.has(t))return this.providers.get(t);var e=new s(t,this);return this.providers.set(t,e),e},t.prototype.getProviders=function(){return Array.from(this.providers.values())},t}();e.Component=o,e.ComponentContainer=a,e.Provider=s},SeVD:function(t,e,n){"use strict";var r=n("ngJS"),i=n("NJ4a"),o=n("Lhse"),s=n("kJWO"),a=n("I55L"),u=n("c2HN"),c=n("XoHu");n.d(e,"a",(function(){return h}));const h=t=>{if(t&&"function"==typeof t[s.a])return h=t,t=>{const e=h[s.a]();if("function"!=typeof e.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return e.subscribe(t)};if(Object(a.a)(t))return Object(r.a)(t);if(Object(u.a)(t))return n=t,t=>(n.then(e=>{t.closed||(t.next(e),t.complete())},e=>t.error(e)).then(null,i.a),t);if(t&&"function"==typeof t[o.a])return e=t,t=>{const n=e[o.a]();for(;;){const e=n.next();if(e.done){t.complete();break}if(t.next(e.value),t.closed)break}return"function"==typeof n.return&&t.add(()=>{n.return&&n.return()}),t};{const e=Object(c.a)(t)?"an invalid object":`'${t}'`;throw new TypeError(`You provided ${e} where a stream was expected.`+" You can provide an Observable, Promise, Array, or Iterable.")}var e,n,h}},SpAZ:function(t,e,n){"use strict";function r(t){return t}n.d(e,"a",(function(){return r}))},Wcq6:function(t,e,n){"use strict";var r,i=(r=n("wj3C"))&&"object"==typeof r&&"default"in r?r.default:r;i.registerVersion("firebase","7.11.0","app"),t.exports=i},XNiG:function(t,e,n){"use strict";var r=n("HDdC"),i=n("7o/Q"),o=n("quSY"),s=n("9ppp");class a extends o.a{constructor(t,e){super(),this.subject=t,this.subscriber=e,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const t=this.subject,e=t.observers;if(this.subject=null,!e||0===e.length||t.isStopped||t.closed)return;const n=e.indexOf(this.subscriber);-1!==n&&e.splice(n,1)}}var u=n("2QA8");n.d(e,"b",(function(){return c})),n.d(e,"a",(function(){return h}));class c extends i.a{constructor(t){super(t),this.destination=t}}let h=(()=>{class t extends r.a{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[u.a](){return new c(this)}lift(t){const e=new l(this,this);return e.operator=t,e}next(t){if(this.closed)throw new s.a;if(!this.isStopped){const{observers:e}=this,n=e.length,r=e.slice();for(let i=0;i<n;i++)r[i].next(t)}}error(t){if(this.closed)throw new s.a;this.hasError=!0,this.thrownError=t,this.isStopped=!0;const{observers:e}=this,n=e.length,r=e.slice();for(let i=0;i<n;i++)r[i].error(t);this.observers.length=0}complete(){if(this.closed)throw new s.a;this.isStopped=!0;const{observers:t}=this,e=t.length,n=t.slice();for(let r=0;r<e;r++)n[r].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(t){if(this.closed)throw new s.a;return super._trySubscribe(t)}_subscribe(t){if(this.closed)throw new s.a;return this.hasError?(t.error(this.thrownError),o.a.EMPTY):this.isStopped?(t.complete(),o.a.EMPTY):(this.observers.push(t),new a(this,t))}asObservable(){const t=new r.a;return t.source=this,t}}return t.create=(t,e)=>new l(t,e),t})();class l extends h{constructor(t,e){super(),this.destination=t,this.source=e}next(t){const{destination:e}=this;e&&e.next&&e.next(t)}error(t){const{destination:e}=this;e&&e.error&&this.destination.error(t)}complete(){const{destination:t}=this;t&&t.complete&&this.destination.complete()}_subscribe(t){const{source:e}=this;return e?this.source.subscribe(t):o.a.EMPTY}}},XoHu:function(t,e,n){"use strict";function r(t){return null!==t&&"object"==typeof t}n.d(e,"a",(function(){return r}))},ZUHj:function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var r=n("51Dv"),i=n("SeVD"),o=n("HDdC");function s(t,e,n,s,a=new r.a(t,n,s)){if(!a.closed)return e instanceof o.a?e.subscribe(a):Object(i.a)(e)(a)}},bHdf:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n("5+tZ"),i=n("SpAZ");function o(t=Number.POSITIVE_INFINITY){return Object(r.a)(i.a,t)}},c2HN:function(t,e,n){"use strict";function r(t){return!!t&&"function"!=typeof t.subscribe&&"function"==typeof t.then}n.d(e,"a",(function(){return r}))},eIep:function(t,e,n){"use strict";n.d(e,"a",(function(){return u}));var r=n("l7GE"),i=n("51Dv"),o=n("ZUHj"),s=n("lJxs"),a=n("Cfvw");function u(t,e){return"function"==typeof e?n=>n.pipe(u((n,r)=>Object(a.a)(t(n,r)).pipe(Object(s.a)((t,i)=>e(n,t,r,i))))):e=>e.lift(new c(t))}class c{constructor(t){this.project=t}call(t,e){return e.subscribe(new h(t,this.project))}}class h extends r.a{constructor(t,e){super(t),this.project=e,this.index=0}_next(t){let e;const n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this._innerSub(e,t,n)}_innerSub(t,e,n){const r=this.innerSubscription;r&&r.unsubscribe();const s=new i.a(this,e,n),a=this.destination;a.add(s),this.innerSubscription=Object(o.a)(this,t,void 0,void 0,s),this.innerSubscription!==s&&a.add(this.innerSubscription)}_complete(){const{innerSubscription:t}=this;t&&!t.closed||super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=null}notifyComplete(t){this.destination.remove(t),this.innerSubscription=null,this.isStopped&&super._complete()}notifyNext(t,e,n,r,i){this.destination.next(e)}}},fXoL:function(t,e,n){"use strict";var r=n("XNiG"),i=n("quSY"),o=n("HDdC"),s=n("z+Ro"),a=n("bHdf"),u=n("yCtX"),c=n("7o/Q");function h(){return function(t){return t.lift(new l(t))}}class l{constructor(t){this.connectable=t}call(t,e){const{connectable:n}=this;n._refCount++;const r=new f(t,n),i=e.subscribe(r);return r.closed||(r.connection=n.connect()),i}}class f extends c.a{constructor(t,e){super(t),this.connectable=e}_unsubscribe(){const{connectable:t}=this;if(!t)return void(this.connection=null);this.connectable=null;const e=t._refCount;if(e<=0)return void(this.connection=null);if(t._refCount=e-1,e>1)return void(this.connection=null);const{connection:n}=this,r=t._connection;this.connection=null,!r||n&&r!==n||r.unsubscribe()}}class d extends o.a{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._refCount=0,this._isComplete=!1}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return t&&!t.isStopped||(this._subject=this.subjectFactory()),this._subject}connect(){let t=this._connection;return t||(this._isComplete=!1,t=this._connection=new i.a,t.add(this.source.subscribe(new g(this.getSubject(),this))),t.closed&&(this._connection=null,t=i.a.EMPTY)),t}refCount(){return h()(this)}}const p=(()=>{const t=d.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:t._subscribe},_isComplete:{value:t._isComplete,writable:!0},getSubject:{value:t.getSubject},connect:{value:t.connect},refCount:{value:t.refCount}}})();class g extends r.b{constructor(t,e){super(t),this.connectable=e}_error(t){this._unsubscribe(),super._error(t)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const t=this.connectable;if(t){this.connectable=null;const e=t._connection;t._refCount=0,t._subject=null,t._connection=null,e&&e.unsubscribe()}}}function m(){return new r.a}function v(t){return{toString:t}.toString()}function y(t,e,n){return v(()=>{const r=function(t){return function(...e){if(t){const n=t(...e);for(const t in n)this[t]=n[t]}}}(e);function i(...t){if(this instanceof i)return r.apply(this,t),this;const e=new i(...t);return n.annotation=e,n;function n(t,n,r){const i=t.hasOwnProperty("__parameters__")?t.__parameters__:Object.defineProperty(t,"__parameters__",{value:[]}).__parameters__;for(;i.length<=r;)i.push(null);return(i[r]=i[r]||[]).push(e),t}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}n.d(e,"a",(function(){return co})),n.d(e,"b",(function(){return ja})),n.d(e,"c",(function(){return Pa})),n.d(e,"d",(function(){return ka})),n.d(e,"e",(function(){return xa})),n.d(e,"f",(function(){return Nu})),n.d(e,"g",(function(){return bu})),n.d(e,"h",(function(){return Wi})),n.d(e,"i",(function(){return $a})),n.d(e,"j",(function(){return ys})),n.d(e,"k",(function(){return Fa})),n.d(e,"l",(function(){return bs})),n.d(e,"m",(function(){return sn})),n.d(e,"n",(function(){return pa})),n.d(e,"o",(function(){return et})),n.d(e,"p",(function(){return b})),n.d(e,"q",(function(){return tt})),n.d(e,"r",(function(){return uo})),n.d(e,"s",(function(){return Us})),n.d(e,"t",(function(){return Vs})),n.d(e,"u",(function(){return Va})),n.d(e,"v",(function(){return gt})),n.d(e,"w",(function(){return _u})),n.d(e,"x",(function(){return pt})),n.d(e,"y",(function(){return pu})),n.d(e,"z",(function(){return Xa})),n.d(e,"A",(function(){return w})),n.d(e,"B",(function(){return La})),n.d(e,"C",(function(){return Ma})),n.d(e,"D",(function(){return Is})),n.d(e,"E",(function(){return _s})),n.d(e,"F",(function(){return Es})),n.d(e,"G",(function(){return Ts})),n.d(e,"H",(function(){return Kn})),n.d(e,"I",(function(){return E})),n.d(e,"J",(function(){return Cu})),n.d(e,"K",(function(){return Gs})),n.d(e,"L",(function(){return su})),n.d(e,"M",(function(){return As})),n.d(e,"N",(function(){return Ss})),n.d(e,"O",(function(){return zs})),n.d(e,"P",(function(){return It})),n.d(e,"Q",(function(){return yo})),n.d(e,"R",(function(){return gu})),n.d(e,"S",(function(){return Cn})),n.d(e,"T",(function(){return V})),n.d(e,"U",(function(){return In})),n.d(e,"V",(function(){return Au})),n.d(e,"W",(function(){return cu})),n.d(e,"X",(function(){return Ua})),n.d(e,"Y",(function(){return $i})),n.d(e,"Z",(function(){return aa})),n.d(e,"ab",(function(){return zn})),n.d(e,"bb",(function(){return Qn})),n.d(e,"cb",(function(){return On})),n.d(e,"db",(function(){return pn})),n.d(e,"eb",(function(){return mn})),n.d(e,"fb",(function(){return wn})),n.d(e,"gb",(function(){return yn})),n.d(e,"hb",(function(){return vn})),n.d(e,"ib",(function(){return bn})),n.d(e,"jb",(function(){return ra})),n.d(e,"kb",(function(){return Su})),n.d(e,"lb",(function(){return ia})),n.d(e,"mb",(function(){return oa})),n.d(e,"nb",(function(){return gn})),n.d(e,"ob",(function(){return W})),n.d(e,"pb",(function(){return bo})),n.d(e,"qb",(function(){return Mo})),n.d(e,"rb",(function(){return Do})),n.d(e,"sb",(function(){return vo})),n.d(e,"tb",(function(){return na})),n.d(e,"ub",(function(){return Ie})),n.d(e,"vb",(function(){return L})),n.d(e,"wb",(function(){return dn})),n.d(e,"xb",(function(){return Zo})),n.d(e,"yb",(function(){return os})),n.d(e,"zb",(function(){return gs})),n.d(e,"Ab",(function(){return Er})),n.d(e,"Bb",(function(){return Eo})),n.d(e,"Cb",(function(){return Go})),n.d(e,"Db",(function(){return Sa})),n.d(e,"Eb",(function(){return At})),n.d(e,"Fb",(function(){return Dt})),n.d(e,"Gb",(function(){return S})),n.d(e,"Hb",(function(){return A})),n.d(e,"Ib",(function(){return xt})),n.d(e,"Jb",(function(){return Mt})),n.d(e,"Kb",(function(){return To})),n.d(e,"Lb",(function(){return Po})),n.d(e,"Mb",(function(){return xo})),n.d(e,"Nb",(function(){return ko})),n.d(e,"Ob",(function(){return Ro})),n.d(e,"Pb",(function(){return en})),n.d(e,"Qb",(function(){return Jo})),n.d(e,"Rb",(function(){return ht})),n.d(e,"Sb",(function(){return So})),n.d(e,"Tb",(function(){return Na})),n.d(e,"Ub",(function(){return Ao})),n.d(e,"Vb",(function(){return Lo})),n.d(e,"Wb",(function(){return Aa})),n.d(e,"Xb",(function(){return Vo})),n.d(e,"Yb",(function(){return Oo})),n.d(e,"Zb",(function(){return da})),n.d(e,"ac",(function(){return Ta})),n.d(e,"bc",(function(){return Co})),n.d(e,"cc",(function(){return Qt})),n.d(e,"dc",(function(){return Jn})),n.d(e,"ec",(function(){return Pt})),n.d(e,"fc",(function(){return Io})),n.d(e,"gc",(function(){return $o})),n.d(e,"hc",(function(){return Yo})),n.d(e,"ic",(function(){return Qo}));const b=y("Inject",t=>({token:t})),w=y("Optional"),_=y("Self"),E=y("SkipSelf");var I=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}({});function C(t){for(let e in t)if(t[e]===C)return e;throw Error("Could not find renamed property on target object.")}function T(t,e){for(const n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function S(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function A(t){return{factory:t.factory,providers:t.providers||[],imports:t.imports||[]}}function O(t){return N(t,t[x])||N(t,t[D])}function N(t,e){return e&&e.token===t?e:null}function k(t){return t&&(t.hasOwnProperty(P)||t.hasOwnProperty(M))?t[P]:null}const x=C({"\u0275prov":C}),P=C({"\u0275inj":C}),R=C({"\u0275provFallback":C}),D=C({ngInjectableDef:C}),M=C({ngInjectorDef:C});function L(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(L).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const e=t.toString();if(null==e)return""+e;const n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}function j(t,e){return null==t||""===t?null===e?"":e:null==e||""===e?t:t+" "+e}const U=C({__forward_ref__:C});function V(t){return t.__forward_ref__=V,t.toString=function(){return L(this())},t}function F(t){return q(t)?t():t}function q(t){return"function"==typeof t&&t.hasOwnProperty(U)&&t.__forward_ref__===V}const H="undefined"!=typeof globalThis&&globalThis,G="undefined"!=typeof window&&window,B="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,z="undefined"!=typeof global&&global,W=H||z||G||B,K=C({"\u0275cmp":C}),$=C({"\u0275dir":C}),Y=C({"\u0275pipe":C}),Q=C({"\u0275mod":C}),J=C({"\u0275loc":C}),X=C({"\u0275fac":C}),Z=C({__NG_ELEMENT_ID__:C});class tt{constructor(t,e){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof e?this.__NG_ELEMENT_ID__=e:void 0!==e&&(this.\u0275prov=S({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}toString(){return`InjectionToken ${this._desc}`}}const et=new tt("INJECTOR",-1),nt={},rt=/\n/gm,it=C({provide:String,useValue:C});let ot,st=void 0;function at(t){const e=st;return st=t,e}function ut(t){const e=ot;return ot=t,e}function ct(t,e=I.Default){if(void 0===st)throw new Error("inject() must be called from an injection context");return null===st?lt(t,void 0,e):st.get(t,e&I.Optional?null:void 0,e)}function ht(t,e=I.Default){return(ot||ct)(F(t),e)}function lt(t,e,n){const r=O(t);if(r&&"root"==r.providedIn)return void 0===r.value?r.value=r.factory():r.value;if(n&I.Optional)return null;if(void 0!==e)return e;throw new Error(`Injector: NOT_FOUND [${L(t)}]`)}function ft(t){const e=[];for(let n=0;n<t.length;n++){const r=F(t[n]);if(Array.isArray(r)){if(0===r.length)throw new Error("Arguments array must have arguments.");let t=void 0,n=I.Default;for(let e=0;e<r.length;e++){const i=r[e];i instanceof w||"Optional"===i.ngMetadataName||i===w?n|=I.Optional:i instanceof E||"SkipSelf"===i.ngMetadataName||i===E?n|=I.SkipSelf:i instanceof _||"Self"===i.ngMetadataName||i===_?n|=I.Self:t=i instanceof b||i===b?i.token:i}e.push(ht(t,n))}else e.push(ht(r))}return e}class dt{get(t,e=nt){if(e===nt){const e=new Error(`NullInjectorError: No provider for ${L(t)}!`);throw e.name="NullInjectorError",e}return e}}class pt{}class gt{}function mt(t,e){t.forEach(t=>Array.isArray(t)?mt(t,e):e(t))}function vt(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function yt(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function bt(t,e,n){let r=_t(t,e);return r>=0?t[1|r]=n:(r=~r,function(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(1===i)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;)t[i]=t[i-2],i--;t[e]=n,t[e+1]=r}}(t,r,e,n)),r}function wt(t,e){const n=_t(t,e);if(n>=0)return t[1|n]}function _t(t,e){return function(t,e,n){let r=0,i=t.length>>1;for(;i!==r;){const n=r+(i-r>>1),o=t[n<<1];if(e===o)return n<<1;o>e?i=n:r=n+1}return~(i<<1)}(t,e)}const Et=function(){var t={OnPush:0,Default:1};return t[t.OnPush]="OnPush",t[t.Default]="Default",t}(),It=function(){var t={Emulated:0,Native:1,None:2,ShadowDom:3};return t[t.Emulated]="Emulated",t[t.Native]="Native",t[t.None]="None",t[t.ShadowDom]="ShadowDom",t}(),Ct={},Tt=[];let St=0;function At(t){return v(()=>{const e=t.type,n=e.prototype,r={},i={type:e,providersResolver:null,decls:t.decls,vars:t.vars,factory:null,template:t.template||null,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:r,inputs:null,outputs:null,exportAs:t.exportAs||null,onChanges:null,onInit:n.ngOnInit||null,doCheck:n.ngDoCheck||null,afterContentInit:n.ngAfterContentInit||null,afterContentChecked:n.ngAfterContentChecked||null,afterViewInit:n.ngAfterViewInit||null,afterViewChecked:n.ngAfterViewChecked||null,onDestroy:n.ngOnDestroy||null,onPush:t.changeDetection===Et.OnPush,directiveDefs:null,pipeDefs:null,selectors:t.selectors||Tt,viewQuery:t.viewQuery||null,features:t.features||null,data:t.data||{},encapsulation:t.encapsulation||It.Emulated,id:"c",styles:t.styles||Tt,_:null,setInput:null,schemas:t.schemas||null,tView:null},o=t.directives,s=t.features,a=t.pipes;return i.id+=St++,i.inputs=Rt(t.inputs,r),i.outputs=Rt(t.outputs),s&&s.forEach(t=>t(i)),i.directiveDefs=o?()=>("function"==typeof o?o():o).map(Ot):null,i.pipeDefs=a?()=>("function"==typeof a?a():a).map(Nt):null,i})}function Ot(t){return Lt(t)||function(t){return t[$]||null}(t)}function Nt(t){return function(t){return t[Y]||null}(t)}const kt={};function xt(t){const e={type:t.type,bootstrap:t.bootstrap||Tt,declarations:t.declarations||Tt,imports:t.imports||Tt,exports:t.exports||Tt,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null};return null!=t.id&&v(()=>{kt[t.id]=t.type}),e}function Pt(t,e){return v(()=>{const n=Ut(t,!0);n.declarations=e.declarations||Tt,n.imports=e.imports||Tt,n.exports=e.exports||Tt})}function Rt(t,e){if(null==t)return Ct;const n={};for(const r in t)if(t.hasOwnProperty(r)){let i=t[r],o=i;Array.isArray(i)&&(o=i[1],i=i[0]),n[i]=r,e&&(e[i]=o)}return n}const Dt=At;function Mt(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,onDestroy:t.type.prototype.ngOnDestroy||null}}function Lt(t){return t[K]||null}function jt(t,e){return t.hasOwnProperty(X)?t[X]:null}function Ut(t,e){const n=t[Q]||null;if(!n&&!0===e)throw new Error(`Type ${L(t)} does not have '\u0275mod' property.`);return n}function Vt(t){return Array.isArray(t)&&"object"==typeof t[1]}function Ft(t){return Array.isArray(t)&&!0===t[1]}function qt(t){return 0!=(8&t.flags)}function Ht(t){return 2==(2&t.flags)}function Gt(t){return 1==(1&t.flags)}function Bt(t){return null!==t.template}function zt(t){return 0!=(512&t[2])}const Wt={lFrame:ce(null),bindingsEnabled:!0,checkNoChangesMode:!1};function Kt(){return Wt.bindingsEnabled}function $t(){return Wt.lFrame.lView}function Yt(){return Wt.lFrame.tView}function Qt(t){Wt.lFrame.contextLView=t}function Jt(){return Wt.lFrame.previousOrParentTNode}function Xt(t,e){Wt.lFrame.previousOrParentTNode=t,Wt.lFrame.isParent=e}function Zt(){return Wt.lFrame.isParent}function te(){return Wt.checkNoChangesMode}function ee(t){Wt.checkNoChangesMode=t}function ne(){return Wt.lFrame.bindingIndex++}function re(t,e){const n=Wt.lFrame;n.bindingIndex=n.bindingRootIndex=t,n.currentDirectiveIndex=e}function ie(){return Wt.lFrame.currentQueryIndex}function oe(t){Wt.lFrame.currentQueryIndex=t}function se(t,e){const n=ue();Wt.lFrame=n,n.previousOrParentTNode=e,n.lView=t}function ae(t,e){const n=ue(),r=t[1];Wt.lFrame=n,n.previousOrParentTNode=e,n.lView=t,n.tView=r,n.contextLView=t,n.bindingIndex=r.bindingStartIndex}function ue(){const t=Wt.lFrame,e=null===t?null:t.child;return null===e?ce(t):e}function ce(t){const e={previousOrParentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:0,contextLView:null,elementDepthCount:0,currentNamespace:null,currentSanitizer:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null};return null!==t&&(t.child=e),e}function he(){const t=Wt.lFrame;return Wt.lFrame=t.parent,t.previousOrParentTNode=null,t.lView=null,t}const le=he;function fe(){const t=he();t.isParent=!0,t.tView=null,t.selectedIndex=0,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.currentSanitizer=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function de(){return Wt.lFrame.selectedIndex}function pe(t){Wt.lFrame.selectedIndex=t}function ge(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){const e=t.data[n];e.afterContentInit&&(t.contentHooks||(t.contentHooks=[])).push(-n,e.afterContentInit),e.afterContentChecked&&((t.contentHooks||(t.contentHooks=[])).push(n,e.afterContentChecked),(t.contentCheckHooks||(t.contentCheckHooks=[])).push(n,e.afterContentChecked)),e.afterViewInit&&(t.viewHooks||(t.viewHooks=[])).push(-n,e.afterViewInit),e.afterViewChecked&&((t.viewHooks||(t.viewHooks=[])).push(n,e.afterViewChecked),(t.viewCheckHooks||(t.viewCheckHooks=[])).push(n,e.afterViewChecked)),null!=e.onDestroy&&(t.destroyHooks||(t.destroyHooks=[])).push(n,e.onDestroy)}}function me(t,e,n){be(t,e,3,n)}function ve(t,e,n,r){(3&t[2])===n&&be(t,e,n,r)}function ye(t,e){let n=t[2];(3&n)===e&&(n&=1023,n+=1,t[2]=n)}function be(t,e,n,r){const i=null!=r?r:-1;let o=0;for(let s=void 0!==r?65535&t[18]:0;s<e.length;s++)if("number"==typeof e[s+1]){if(o=e[s],null!=r&&o>=r)break}else e[s]<0&&(t[18]+=65536),(o<i||-1==i)&&(we(t,n,e,s),t[18]=(4294901760&t[18])+s+2),s++}function we(t,e,n,r){const i=n[r]<0,o=n[r+1],s=t[i?-n[r]:n[r]];i?t[2]>>10<t[18]>>16&&(3&t[2])===e&&(t[2]+=1024,o.call(s)):o.call(s)}class _e{constructor(t,e,n){this.factory=t,this.resolving=!1,this.canSeeViewProviders=e,this.injectImpl=n}}let Ee=void 0;function Ie(t){Ee=t}function Ce(t){return!!t.listen}const Te={createRenderer:(t,e)=>void 0!==Ee?Ee:"undefined"!=typeof document?document:void 0};function Se(t,e,n){const r=Ce(t);let i=0;for(;i<n.length;){const o=n[i];if("number"==typeof o){if(0!==o)break;i++;const s=n[i++],a=n[i++],u=n[i++];r?t.setAttribute(e,a,u,s):e.setAttributeNS(s,a,u)}else{const s=o,a=n[++i];Oe(s)?r&&t.setProperty(e,s,a):r?t.setAttribute(e,s,a):e.setAttribute(s,a),i++}}return i}function Ae(t){return 3===t||4===t||6===t}function Oe(t){return 64===t.charCodeAt(0)}function Ne(t,e){if(null===e||0===e.length);else if(null===t||0===t.length)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?n=i:0===n||ke(t,n,i,null,-1===n||2===n?e[++r]:null)}}return t}function ke(t,e,n,r,i){let o=0,s=t.length;if(-1===e)s=-1;else for(;o<t.length;){const n=t[o++];if("number"==typeof n){if(n===e){s=-1;break}if(n>e){s=o-1;break}}}for(;o<t.length;){const e=t[o];if("number"==typeof e)break;if(e===n){if(null===r)return void(null!==i&&(t[o+1]=i));if(r===t[o+1])return void(t[o+2]=i)}o++,null!==r&&o++,null!==i&&o++}-1!==s&&(t.splice(s,0,e),o=s+1),t.splice(o++,0,n),null!==r&&t.splice(o++,0,r),null!==i&&t.splice(o++,0,i)}function xe(t){return-1!==t}function Pe(t){return 32767&t}function Re(t){return t>>16}function De(t,e){let n=Re(t),r=e;for(;n>0;)r=r[15],n--;return r}function Me(t){return"string"==typeof t?t:null==t?"":""+t}function Le(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():Me(t)}const je=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(W))();function Ue(t){return t instanceof Function?t():t}let Ve=!0;function Fe(t){const e=Ve;return Ve=t,e}let qe=0;function He(t,e){const n=Be(t,e);if(-1!==n)return n;const r=e[1];r.firstCreatePass&&(t.injectorIndex=e.length,Ge(r.data,t),Ge(e,null),Ge(r.blueprint,null));const i=ze(t,e),o=t.injectorIndex;if(xe(i)){const t=Pe(i),n=De(i,e),r=n[1].data;for(let i=0;i<8;i++)e[o+i]=n[t+i]|r[t+i]}return e[o+8]=i,o}function Ge(t,e){t.push(0,0,0,0,0,0,0,0,e)}function Be(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null==e[t.injectorIndex+8]?-1:t.injectorIndex}function ze(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let n=e[6],r=1;for(;n&&-1===n.injectorIndex;)n=(e=e[15])?e[6]:null,r++;return n?n.injectorIndex|r<<16:-1}function We(t,e,n){!function(t,e,n){let r="string"!=typeof n?n[Z]:n.charCodeAt(0)||0;null==r&&(r=n[Z]=qe++);const i=255&r,o=1<<i,s=64&i,a=32&i,u=e.data;128&i?s?a?u[t+7]|=o:u[t+6]|=o:a?u[t+5]|=o:u[t+4]|=o:s?a?u[t+3]|=o:u[t+2]|=o:a?u[t+1]|=o:u[t]|=o}(t,e,n)}function Ke(t,e,n,r=I.Default,i){if(null!==t){const i=function(t){if("string"==typeof t)return t.charCodeAt(0)||0;const e=t[Z];return"number"==typeof e&&e>0?255&e:e}(n);if("function"==typeof i){se(e,t);try{const t=i();if(null!=t||r&I.Optional)return t;throw new Error(`No provider for ${Le(n)}!`)}finally{le()}}else if("number"==typeof i){if(-1===i)return new tn(t,e);let o=null,s=Be(t,e),a=-1,u=r&I.Host?e[16][6]:null;for((-1===s||r&I.SkipSelf)&&(a=-1===s?ze(t,e):e[s+8],Ze(r,!1)?(o=e[1],s=Pe(a),e=De(a,e)):s=-1);-1!==s;){a=e[s+8];const t=e[1];if(Xe(i,s,t.data)){const t=Ye(s,e,n,o,r,u);if(t!==$e)return t}Ze(r,e[1].data[s+8]===u)&&Xe(i,s,e)?(o=t,s=Pe(a),e=De(a,e)):s=-1}}}if(r&I.Optional&&void 0===i&&(i=null),0==(r&(I.Self|I.Host))){const t=e[9],o=ut(void 0);try{return t?t.get(n,i,r&I.Optional):lt(n,i,r&I.Optional)}finally{ut(o)}}if(r&I.Optional)return i;throw new Error(`NodeInjector: NOT_FOUND [${Le(n)}]`)}const $e={};function Ye(t,e,n,r,i,o){const s=e[1],a=s.data[t+8],u=Qe(a,s,n,null==r?Ht(a)&&Ve:r!=s&&3===a.type,i&I.Host&&o===a);return null!==u?Je(e,s,u,a):$e}function Qe(t,e,n,r,i){const o=t.providerIndexes,s=e.data,a=65535&o,u=t.directiveStart,c=o>>16,h=i?a+c:t.directiveEnd;for(let l=r?a:a+c;l<h;l++){const t=s[l];if(l<u&&n===t||l>=u&&t.type===n)return l}if(i){const t=s[u];if(t&&Bt(t)&&t.type===n)return u}return null}function Je(t,e,n,r){let i=t[n];const o=e.data;if(i instanceof _e){const s=i;if(s.resolving)throw new Error(`Circular dep for ${Le(o[n])}`);const a=Fe(s.canSeeViewProviders);let u;s.resolving=!0,s.injectImpl&&(u=ut(s.injectImpl)),se(t,r);try{i=t[n]=s.factory(void 0,o,t,r),e.firstCreatePass&&n>=r.directiveStart&&function(t,e,n){const{onChanges:r,onInit:i,doCheck:o}=e;r&&((n.preOrderHooks||(n.preOrderHooks=[])).push(t,r),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,r)),i&&(n.preOrderHooks||(n.preOrderHooks=[])).push(-t,i),o&&((n.preOrderHooks||(n.preOrderHooks=[])).push(t,o),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,o))}(n,o[n],e)}finally{s.injectImpl&&ut(u),Fe(a),s.resolving=!1,le()}}return i}function Xe(t,e,n){const r=64&t,i=32&t;let o;return o=128&t?r?i?n[e+7]:n[e+6]:i?n[e+5]:n[e+4]:r?i?n[e+3]:n[e+2]:i?n[e+1]:n[e],!!(o&1<<t)}function Ze(t,e){return!(t&I.Self||t&I.Host&&e)}class tn{constructor(t,e){this._tNode=t,this._lView=e}get(t,e){return Ke(this._tNode,this._lView,t,void 0,e)}}function en(t){return v(()=>{const e=Object.getPrototypeOf(t.prototype).constructor,n=e[X]||function t(e){const n=e;if(q(e))return()=>{const e=t(F(n));return e?e():null};let r=jt(n);if(null===r){const t=k(n);r=t&&t.factory}return r||null}(e);return null!==n?n:t=>new t})}function nn(t){return t.ngDebugContext}function rn(t){return t.ngOriginalError}function on(t,...e){t.error(...e)}class sn{constructor(){this._console=console}handleError(t){const e=this._findOriginalError(t),n=this._findContext(t),r=function(t){return t.ngErrorLogger||on}(t);r(this._console,"ERROR",t),e&&r(this._console,"ORIGINAL ERROR",e),n&&r(this._console,"ERROR CONTEXT",n)}_findContext(t){return t?nn(t)?nn(t):this._findContext(rn(t)):null}_findOriginalError(t){let e=rn(t);for(;e&&rn(e);)e=rn(e);return e}}class an{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity}`+" (see http://g.co/ng/security#xss)"}}class un extends an{getTypeName(){return"HTML"}}class cn extends an{getTypeName(){return"Style"}}class hn extends an{getTypeName(){return"Script"}}class ln extends an{getTypeName(){return"URL"}}class fn extends an{getTypeName(){return"ResourceURL"}}function dn(t){return t instanceof an?t.changingThisBreaksApplicationSecurity:t}function pn(t,e){const n=gn(t);if(null!=n&&n!==e){if("ResourceURL"===n&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${n} (see http://g.co/ng/security#xss)`)}return n===e}function gn(t){return t instanceof an&&t.getTypeName()||null}function mn(t){return new un(t)}function vn(t){return new cn(t)}function yn(t){return new hn(t)}function bn(t){return new ln(t)}function wn(t){return new fn(t)}let _n=!0,En=!1;function In(){return En=!0,_n}function Cn(){if(En)throw new Error("Cannot enable prod mode after platform setup.");_n=!1}class Tn{constructor(t){this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert");let e=this.inertDocument.body;if(null==e){const t=this.inertDocument.createElement("html");this.inertDocument.appendChild(t),e=this.inertDocument.createElement("body"),t.appendChild(e)}e.innerHTML='<svg><g onload="this.parentNode.remove()"></g></svg>',!e.querySelector||e.querySelector("svg")?(e.innerHTML='<svg><p><style><img src="</style><img src=x onerror=alert(1)//">',this.getInertBodyElement=e.querySelector&&e.querySelector("svg img")&&function(){try{return!!window.DOMParser}catch(t){return!1}}()?this.getInertBodyElement_DOMParser:this.getInertBodyElement_InertDocument):this.getInertBodyElement=this.getInertBodyElement_XHR}getInertBodyElement_XHR(t){t="<body><remove></remove>"+t+"</body>";try{t=encodeURI(t)}catch(r){return null}const e=new XMLHttpRequest;e.responseType="document",e.open("GET","data:text/html;charset=utf-8,"+t,!1),e.send(void 0);const n=e.response.body;return n.removeChild(n.firstChild),n}getInertBodyElement_DOMParser(t){t="<body><remove></remove>"+t+"</body>";try{const e=(new window.DOMParser).parseFromString(t,"text/html").body;return e.removeChild(e.firstChild),e}catch(e){return null}}getInertBodyElement_InertDocument(t){const e=this.inertDocument.createElement("template");if("content"in e)return e.innerHTML=t,e;const n=this.inertDocument.createElement("body");return n.innerHTML=t,this.defaultDoc.documentMode&&this.stripCustomNsAttrs(n),n}stripCustomNsAttrs(t){const e=t.attributes;for(let r=e.length-1;0<r;r--){const n=e.item(r).name;"xmlns:ns1"!==n&&0!==n.indexOf("ns1:")||t.removeAttribute(n)}let n=t.firstChild;for(;n;)n.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(n),n=n.nextSibling}}const Sn=/^(?:(?:https?|mailto|ftp|tel|file):|[^&:/?#]*(?:[/?#]|$))/gi,An=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function On(t){return(t=String(t)).match(Sn)||t.match(An)?t:(In()&&console.warn(`WARNING: sanitizing unsafe URL value ${t} (see http://g.co/ng/security#xss)`),"unsafe:"+t)}function Nn(t){const e={};for(const n of t.split(","))e[n]=!0;return e}function kn(...t){const e={};for(const n of t)for(const t in n)n.hasOwnProperty(t)&&(e[t]=!0);return e}const xn=Nn("area,br,col,hr,img,wbr"),Pn=Nn("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Rn=Nn("rp,rt"),Dn=kn(Rn,Pn),Mn=kn(xn,kn(Pn,Nn("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),kn(Rn,Nn("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Dn),Ln=Nn("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),jn=Nn("srcset"),Un=kn(Ln,jn,Nn("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Nn("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),Vn=Nn("script,style,template");class Fn{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(t){let e=t.firstChild,n=!0;for(;e;)if(e.nodeType===Node.ELEMENT_NODE?n=this.startElement(e):e.nodeType===Node.TEXT_NODE?this.chars(e.nodeValue):this.sanitizedSomething=!0,n&&e.firstChild)e=e.firstChild;else for(;e;){e.nodeType===Node.ELEMENT_NODE&&this.endElement(e);let t=this.checkClobberedElement(e,e.nextSibling);if(t){e=t;break}e=this.checkClobberedElement(e,e.parentNode)}return this.buf.join("")}startElement(t){const e=t.nodeName.toLowerCase();if(!Mn.hasOwnProperty(e))return this.sanitizedSomething=!0,!Vn.hasOwnProperty(e);this.buf.push("<"),this.buf.push(e);const n=t.attributes;for(let i=0;i<n.length;i++){const t=n.item(i),e=t.name,o=e.toLowerCase();if(!Un.hasOwnProperty(o)){this.sanitizedSomething=!0;continue}let s=t.value;Ln[o]&&(s=On(s)),jn[o]&&(r=s,s=(r=String(r)).split(",").map(t=>On(t.trim())).join(", ")),this.buf.push(" ",e,'="',Gn(s),'"')}var r;return this.buf.push(">"),!0}endElement(t){const e=t.nodeName.toLowerCase();Mn.hasOwnProperty(e)&&!xn.hasOwnProperty(e)&&(this.buf.push("</"),this.buf.push(e),this.buf.push(">"))}chars(t){this.buf.push(Gn(t))}checkClobberedElement(t,e){if(e&&(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${t.outerHTML}`);return e}}const qn=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Hn=/([^\#-~ |!])/g;function Gn(t){return t.replace(/&/g,"&amp;").replace(qn,(function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"})).replace(Hn,(function(t){return"&#"+t.charCodeAt(0)+";"})).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Bn;function zn(t,e){let n=null;try{Bn=Bn||new Tn(t);let r=e?String(e):"";n=Bn.getInertBodyElement(r);let i=5,o=r;do{if(0===i)throw new Error("Failed to sanitize html because the input is unstable");i--,r=o,o=n.innerHTML,n=Bn.getInertBodyElement(r)}while(r!==o);const s=new Fn,a=s.sanitizeChildren(Wn(n)||n);return In()&&s.sanitizedSomething&&console.warn("WARNING: sanitizing HTML stripped some content, see http://g.co/ng/security#xss"),a}finally{if(n){const t=Wn(n)||n;for(;t.firstChild;)t.removeChild(t.firstChild)}}}function Wn(t){return"content"in t&&function(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}const Kn=function(){var t={NONE:0,HTML:1,STYLE:2,SCRIPT:3,URL:4,RESOURCE_URL:5};return t[t.NONE]="NONE",t[t.HTML]="HTML",t[t.STYLE]="STYLE",t[t.SCRIPT]="SCRIPT",t[t.URL]="URL",t[t.RESOURCE_URL]="RESOURCE_URL",t}(),$n=new RegExp("^([-,.\"'%_!# a-zA-Z0-9]+|(?:(?:matrix|translate|scale|rotate|skew|perspective)(?:X|Y|Z|3d)?|(?:rgb|hsl)a?|(?:repeating-)?(?:linear|radial)-gradient|(?:attr|calc|var))\\([-0-9.%, #a-zA-Z]+\\))$","g"),Yn=/^url\(([^)]+)\)$/;function Qn(t){if(!(t=String(t).trim()))return"";const e=t.match(Yn);return e&&On(e[1])===e[1]||t.match($n)&&function(t){let e=!0,n=!0;for(let r=0;r<t.length;r++){const i=t.charAt(r);"'"===i&&n?e=!e:'"'===i&&e&&(n=!n)}return e&&n}(t)?t:(In()&&console.warn(`WARNING: sanitizing unsafe style value ${t} (see http://g.co/ng/security#xss).`),"unsafe")}function Jn(t){const e=function(){const t=$t();return t&&t[12]}();return e?e.sanitize(Kn.URL,t)||"":pn(t,"URL")?dn(t):On(Me(t))}function Xn(t){for(;Array.isArray(t);)t=t[0];return t}function Zn(t,e){return Xn(e[t+19])}function tr(t,e){return Xn(e[t.index])}function er(t,e){return t.data[e+19]}function nr(t,e){const n=e[t];return Vt(n)?n:n[0]}function rr(t){const e=function(t){return t.__ngContext__||null}(t);return e?Array.isArray(e)?e:e.lView:null}function ir(t){return 4==(4&t[2])}function or(t){return 128==(128&t[2])}function sr(t,e){return null===t||null==e?null:t[e]}function ar(t){t[18]=0}function ur(t,e){t.__ngContext__=e}function cr(t){throw new Error(`Multiple components match node with tagname ${t.tagName}`)}function hr(){throw new Error("Cannot mix multi providers and regular providers")}function lr(t,e,n){let r=t.length;for(;;){const i=t.indexOf(e,n);if(-1===i)return i;if(0===i||t.charCodeAt(i-1)<=32){const n=e.length;if(i+n===r||t.charCodeAt(i+n)<=32)return i}n=i+1}}function fr(t,e,n){let r=0;for(;r<t.length;){let i=t[r++];if(n&&"class"===i){if(i=t[r],-1!==lr(i.toLowerCase(),e,0))return!0}else if(1===i){for(;r<t.length&&"string"==typeof(i=t[r++]);)if(i.toLowerCase()===e)return!0;return!1}}return!1}function dr(t,e,n){return e===(0!==t.type||n?t.tagName:"ng-template")}function pr(t,e,n){let r=4;const i=t.attrs||[],o=function(t){for(let e=0;e<t.length;e++)if(Ae(t[e]))return e;return t.length}(i);let s=!1;for(let a=0;a<e.length;a++){const u=e[a];if("number"!=typeof u){if(!s)if(4&r){if(r=2|1&r,""!==u&&!dr(t,u,n)||""===u&&1===e.length){if(gr(r))return!1;s=!0}}else{const c=8&r?u:e[++a];if(8&r&&null!==t.attrs){if(!fr(t.attrs,c,n)){if(gr(r))return!1;s=!0}continue}const h=mr(8&r?"class":u,i,0==t.type&&"ng-template"!==t.tagName,n);if(-1===h){if(gr(r))return!1;s=!0;continue}if(""!==c){let t;t=h>o?"":i[h+1].toLowerCase();const e=8&r?t:null;if(e&&-1!==lr(e,c,0)||2&r&&c!==t){if(gr(r))return!1;s=!0}}}}else{if(!s&&!gr(r)&&!gr(u))return!1;if(s&&gr(u))continue;s=!1,r=u|1&r}}return gr(r)||s}function gr(t){return 0==(1&t)}function mr(t,e,n,r){if(null===e)return-1;let i=0;if(r||!n){let n=!1;for(;i<e.length;){const r=e[i];if(r===t)return i;if(3===r||6===r)n=!0;else{if(1===r||2===r){let t=e[++i];for(;"string"==typeof t;)t=e[++i];continue}if(4===r)break;if(0===r){i+=4;continue}}i+=n?1:2}return-1}return function(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){if(t[n]===e)return n;n++}return-1}(e,t)}function vr(t,e,n=!1){for(let r=0;r<e.length;r++)if(pr(t,e[r],n))return!0;return!1}function yr(t,e){return t?":not("+e.trim()+")":e}function br(t){let e=t[0],n=1,r=2,i="",o=!1;for(;n<t.length;){let s=t[n];if("string"==typeof s)if(2&r){const e=t[++n];i+="["+s+(e.length>0?'="'+e+'"':"")+"]"}else 8&r?i+="."+s:4&r&&(i+=" "+s);else""===i||gr(s)||(e+=yr(o,i),i=""),r=s,o=o||!gr(r);n++}return""!==i&&(e+=yr(o,i)),e}const wr={};function _r(t){const e=t[3];return Ft(e)?e[3]:e}function Er(t){Ir(Yt(),$t(),de()+t,te())}function Ir(t,e,n,r){if(!r)if(3==(3&e[2])){const r=t.preOrderCheckHooks;null!==r&&me(e,r,n)}else{const r=t.preOrderHooks;null!==r&&ve(e,r,0,n)}pe(n)}function Cr(t,e){return t<<17|e<<2}function Tr(t){return t>>17&32767}function Sr(t){return 2|t}function Ar(t){return(131068&t)>>2}function Or(t,e){return-131069&t|e<<2}function Nr(t){return 1|t}function kr(t,e){const n=t.contentQueries;if(null!==n)for(let r=0;r<n.length;r+=2){const i=n[r],o=n[r+1];if(-1!==o){const n=t.data[o];oe(i),n.contentQueries(2,e[o],o)}}}function xr(t,e,n){return Ce(e)?e.createElement(t,n):null===n?e.createElement(t):e.createElementNS(n,t)}function Pr(t,e,n,r,i,o,s,a,u,c){const h=e.blueprint.slice();return h[0]=i,h[2]=140|r,ar(h),h[3]=h[15]=t,h[8]=n,h[10]=s||t&&t[10],h[11]=a||t&&t[11],h[12]=u||t&&t[12]||null,h[9]=c||t&&t[9]||null,h[6]=o,h[16]=2==e.type?t[16]:h,h}function Rr(t,e,n,r,i,o){const s=n+19,a=t.data[s]||function(t,e,n,r,i,o){const s=Jt(),a=Zt(),u=a?s:s&&s.parent,c=t.data[n]=Hr(0,u&&u!==e?u:null,r,n,i,o);return null===t.firstChild&&(t.firstChild=c),s&&(!a||null!=s.child||null===c.parent&&2!==s.type?a||(s.next=c):s.child=c),c}(t,e,s,r,i,o);return Xt(a,!0),a}function Dr(t,e,n){ae(e,e[6]);try{const r=t.viewQuery;null!==r&&li(1,r,n);const i=t.template;null!==i&&jr(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&kr(t,e),t.staticViewQueries&&li(2,t.viewQuery,n);const o=t.components;null!==o&&function(t,e){for(let n=0;n<e.length;n++)si(t,e[n])}(e,o)}finally{e[2]&=-5,fe()}}function Mr(t,e,n,r){const i=e[2];if(256==(256&i))return;ae(e,e[6]);const o=te();try{ar(e),Wt.lFrame.bindingIndex=t.bindingStartIndex,null!==n&&jr(t,e,n,2,r);const s=3==(3&i);if(!o)if(s){const n=t.preOrderCheckHooks;null!==n&&me(e,n,null)}else{const n=t.preOrderHooks;null!==n&&ve(e,n,0,null),ye(e,0)}if(function(t){let e=t[13];for(;null!==e;){let n;if(Ft(e)&&(n=e[2])>>1==-1){for(let t=9;t<e.length;t++){const n=e[t],r=n[1];or(n)&&Mr(r,n,r.template,n[8])}0!=(1&n)&&ii(e,t[16])}e=e[4]}}(e),null!==t.contentQueries&&kr(t,e),!o)if(s){const n=t.contentCheckHooks;null!==n&&me(e,n)}else{const n=t.contentHooks;null!==n&&ve(e,n,1),ye(e,1)}!function(t,e){try{const n=t.expandoInstructions;if(null!==n){let r=t.expandoStartIndex,i=-1,o=-1;for(let t=0;t<n.length;t++){const s=n[t];"number"==typeof s?s<=0?(o=0-s,pe(o),r+=9+n[++t],i=r):r+=s:(null!==s&&(re(r,i),s(2,e[i])),i++)}}}finally{pe(-1)}}(t,e);const a=t.components;null!==a&&function(t,e){for(let n=0;n<e.length;n++)oi(t,e[n])}(e,a);const u=t.viewQuery;if(null!==u&&li(2,u,r),!o)if(s){const n=t.viewCheckHooks;null!==n&&me(e,n)}else{const n=t.viewHooks;null!==n&&ve(e,n,2),ye(e,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),o||(e[2]&=-73)}finally{fe()}}function Lr(t,e,n,r){const i=e[10],o=!te(),s=ir(e);try{o&&!s&&i.begin&&i.begin(),s&&Dr(t,e,r),Mr(t,e,n,r)}finally{o&&!s&&i.end&&i.end()}}function jr(t,e,n,r,i){const o=de();try{pe(-1),2&r&&e.length>19&&Ir(t,e,0,te()),n(r,i)}finally{pe(o)}}function Ur(t,e,n){Kt()&&(function(t,e,n,r){const i=n.directiveStart,o=n.directiveEnd;t.firstCreatePass||He(n,e),ur(r,e);const s=n.initialInputs;for(let a=i;a<o;a++){const r=t.data[a],o=Bt(r);o&&ti(e,n,r);const u=Je(e,t,a,n);ur(u,e),null!==s&&ei(0,a-i,u,r,0,s),o&&(nr(n.index,e)[8]=u)}}(t,e,n,tr(n,e)),128==(128&n.flags)&&function(t,e,n){const r=n.directiveStart,i=n.directiveEnd,o=t.expandoInstructions,s=t.firstCreatePass,a=n.index-19;try{pe(a);for(let n=r;n<i;n++){const r=t.data[n],i=e[n];null!==r.hostBindings||0!==r.hostVars||null!==r.hostAttrs?$r(r,i):s&&o.push(null)}}finally{pe(-1)}}(t,e,n))}function Vr(t,e,n=tr){const r=e.localNames;if(null!==r){let i=e.index+1;for(let o=0;o<r.length;o+=2){const s=r[o+1],a=-1===s?n(e,t):t[s];t[i++]=a}}}function Fr(t){return t.tView||(t.tView=qr(1,-1,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts))}function qr(t,e,n,r,i,o,s,a,u,c){const h=19+r,l=h+i,f=function(t,e){const n=[];for(let r=0;r<e;r++)n.push(r<t?null:wr);return n}(h,l);return f[1]={type:t,id:e,blueprint:f,template:n,queries:null,viewQuery:a,node:null,data:f.slice().fill(null,h),bindingStartIndex:h,expandoStartIndex:l,expandoInstructions:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof s?s():s,firstChild:null,schemas:u,consts:c}}function Hr(t,e,n,r,i,o){return{type:n,index:r,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,tagName:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,residualStyles:void 0,classes:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function Gr(t,e,n){for(let r in t)if(t.hasOwnProperty(r)){const i=t[r];(n=null===n?{}:n).hasOwnProperty(r)?n[r].push(e,i):n[r]=[e,i]}return n}function Br(t,e,n,r,i,o,s,a){const u=Zn(n,e),c=er(t,n);let h,l=c.inputs;if(!s&&null!=l&&(h=l[r]))mi(t,e,h,r,i),Ht(c)&&function(t,e){const n=nr(e,t);16&n[2]||(n[2]|=64)}(e,n+19);else if(3===c.type){r="class"===(f=r)?"className":"for"===f?"htmlFor":"formaction"===f?"formAction":"innerHtml"===f?"innerHTML":"readonly"===f?"readOnly":"tabindex"===f?"tabIndex":f;const t=a?a(c,e):e[11];i=null!=o?o(i,c.tagName||"",r):i,Ce(t)?t.setProperty(u,r,i):Oe(r)||(u.setProperty?u.setProperty(r,i):u[r]=i)}var f}function zr(t,e,n,r){let i=!1;if(Kt()){const o=function(t,e,n){const r=t.directiveRegistry;let i=null;if(r)for(let o=0;o<r.length;o++){const s=r[o];vr(n,s.selectors,!1)&&(i||(i=[]),We(He(n,e),t,s.type),Bt(s)?(2&n.flags&&cr(n),Qr(t,n),i.unshift(s)):i.push(s))}return i}(t,e,n),s=null===r?null:{"":-1};if(null!==o){let r=0;i=!0,Xr(n,t.data.length,o.length);for(let t=0;t<o.length;t++){const e=o[t];e.providersResolver&&e.providersResolver(e)}Yr(t,n,o.length);let a=!1,u=!1;for(let i=0;i<o.length;i++){const c=o[i];n.mergedAttrs=Ne(n.mergedAttrs,c.hostAttrs),Zr(t,e,c),Jr(t.data.length-1,c,s),null!==c.contentQueries&&(n.flags|=8),null===c.hostBindings&&null===c.hostAttrs&&0===c.hostVars||(n.flags|=128),!a&&(c.onChanges||c.onInit||c.doCheck)&&((t.preOrderHooks||(t.preOrderHooks=[])).push(n.index-19),a=!0),u||!c.onChanges&&!c.doCheck||((t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n.index-19),u=!0),Wr(t,c),r+=c.hostVars}!function(t,e){const n=e.directiveEnd,r=t.data,i=e.attrs,o=[];let s=null,a=null;for(let u=e.directiveStart;u<n;u++){const t=r[u],e=t.inputs;o.push(null!==i?ni(e,i):null),s=Gr(e,u,s),a=Gr(t.outputs,u,a)}null!==s&&(s.hasOwnProperty("class")&&(e.flags|=16),s.hasOwnProperty("style")&&(e.flags|=32)),e.initialInputs=o,e.inputs=s,e.outputs=a}(t,n),Kr(t,e,r)}s&&function(t,e,n){if(e){const r=t.localNames=[];for(let t=0;t<e.length;t+=2){const i=n[e[t+1]];if(null==i)throw new Error(`Export of name '${e[t+1]}' not found!`);r.push(e[t],i)}}}(n,r,s)}return n.mergedAttrs=Ne(n.mergedAttrs,n.attrs),i}function Wr(t,e){const n=t.expandoInstructions;n.push(e.hostBindings),0!==e.hostVars&&n.push(e.hostVars)}function Kr(t,e,n){for(let r=0;r<n;r++)e.push(wr),t.blueprint.push(wr),t.data.push(null)}function $r(t,e){null!==t.hostBindings&&t.hostBindings(1,e)}function Yr(t,e,n){const r=19-e.index,i=t.data.length-(65535&e.providerIndexes);(t.expandoInstructions||(t.expandoInstructions=[])).push(r,i,n)}function Qr(t,e){e.flags|=2,(t.components||(t.components=[])).push(e.index)}function Jr(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;Bt(e)&&(n[""]=t)}}function Xr(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function Zr(t,e,n){t.data.push(n);const r=n.factory||(n.factory=jt(n.type)),i=new _e(r,Bt(n),null);t.blueprint.push(i),e.push(i)}function ti(t,e,n){const r=tr(e,t),i=Fr(n),o=t[10],s=ai(t,Pr(t,i,null,n.onPush?64:16,r,e,o,o.createRenderer(r,n)));t[e.index]=s}function ei(t,e,n,r,i,o){const s=o[e];if(null!==s){const t=r.setInput;for(let e=0;e<s.length;){const i=s[e++],o=s[e++],a=s[e++];null!==t?r.setInput(n,a,i,o):n[o]=a}}}function ni(t,e){let n=null,r=0;for(;r<e.length;){const i=e[r];if(0!==i)if(5!==i){if("number"==typeof i)break;t.hasOwnProperty(i)&&(null===n&&(n=[]),n.push(i,t[i],e[r+1])),r+=2}else r+=2;else r+=4}return n}function ri(t,e,n,r){return new Array(t,!0,-2,e,null,null,r,n,null)}function ii(t,e){const n=t[5];for(let r=0;r<n.length;r++){const t=n[r],i=t[3][3][16];if(i!==e&&0==(16&i[2])){const e=t[1];Mr(e,t,e.template,t[8])}}}function oi(t,e){const n=nr(e,t);if(or(n)&&80&n[2]){const t=n[1];Mr(t,n,t.template,n[8])}}function si(t,e){const n=nr(e,t),r=n[1];!function(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}(r,n),Dr(r,n,n[8])}function ai(t,e){return t[13]?t[14][4]=e:t[13]=e,t[14]=e,e}function ui(t){for(;t;){t[2]|=64;const e=_r(t);if(zt(t)&&!e)return t;t=e}return null}function ci(t,e,n){const r=e[10];r.begin&&r.begin();try{Mr(t,e,t.template,n)}catch(i){throw gi(e,i),i}finally{r.end&&r.end()}}function hi(t){!function(t){for(let e=0;e<t.components.length;e++){const n=t.components[e],r=rr(n),i=r[1];Lr(i,r,i.template,n)}}(t[8])}function li(t,e,n){oe(0),e(t,n)}const fi=(()=>Promise.resolve(null))();function di(t){return t[7]||(t[7]=[])}function pi(t){return t.cleanup||(t.cleanup=[])}function gi(t,e){const n=t[9],r=n?n.get(sn,null):null;r&&r.handleError(e)}function mi(t,e,n,r,i){for(let o=0;o<n.length;){const s=n[o++],a=n[o++],u=e[s],c=t.data[s];null!==c.setInput?c.setInput(u,i,r,a):u[a]=i}}function vi(t,e){const n=e[3];return-1===t.index?Ft(n)?n:null:n}function yi(t,e){const n=vi(t,e);return n?Ni(e[11],n[7]):null}function bi(t,e,n,r,i){if(null!=r){let o,s=!1;Ft(r)?o=r:Vt(r)&&(s=!0,r=r[0]);const a=Xn(r);0===t&&null!==n?null==i?Ai(e,n,a):Si(e,n,a,i||null):1===t&&null!==n?Si(e,n,a,i||null):2===t?function(t,e,n){const r=Ni(t,e);r&&function(t,e,n,r){Ce(t)?t.removeChild(e,n,r):e.removeChild(n)}(t,r,e,n)}(e,a,s):3===t&&e.destroyNode(a),null!=o&&function(t,e,n,r,i){const o=n[7];o!==Xn(n)&&bi(e,t,r,o,i);for(let s=9;s<n.length;s++){const i=n[s];Ri(i[1],i,t,e,r,o)}}(e,t,o,n,i)}}function wi(t,e,n,r){const i=yi(t.node,e);i&&Ri(t,e,e[11],n?1:2,i,r)}function _i(t,e){const n=t[5],r=n.indexOf(e);n.splice(r,1)}function Ei(t,e){if(t.length<=9)return;const n=9+e,r=t[n];if(r){const i=r[17];null!==i&&i!==t&&_i(i,r),e>0&&(t[n-1][4]=r[4]);const o=yt(t,9+e);wi(r[1],r,!1,null);const s=o[5];null!==s&&s.detachView(o[1]),r[3]=null,r[4]=null,r[2]&=-129}return r}function Ii(t,e){if(!(256&e[2])){const n=e[11];Ce(n)&&n.destroyNode&&Ri(t,e,n,3,null,null),function(t){let e=t[13];if(!e)return Ti(t[1],t);for(;e;){let n=null;if(Vt(e))n=e[13];else{const t=e[9];t&&(n=t)}if(!n){for(;e&&!e[4]&&e!==t;)Vt(e)&&Ti(e[1],e),e=Ci(e,t);null===e&&(e=t),Vt(e)&&Ti(e[1],e),n=e&&e[4]}e=n}}(e)}}function Ci(t,e){let n;return Vt(t)&&(n=t[6])&&2===n.type?vi(n,t):t[3]===e?null:t[3]}function Ti(t,e){if(!(256&e[2])){e[2]&=-129,e[2]|=256,function(t,e){let n;if(null!=t&&null!=(n=t.destroyHooks))for(let r=0;r<n.length;r+=2){const t=e[n[r]];t instanceof _e||n[r+1].call(t)}}(t,e),function(t,e){const n=t.cleanup;if(null!==n){const t=e[7];for(let r=0;r<n.length-1;r+=2)if("string"==typeof n[r]){const i=n[r+1],o="function"==typeof i?i(e):Xn(e[i]),s=t[n[r+2]],a=n[r+3];"boolean"==typeof a?o.removeEventListener(n[r],s,a):a>=0?t[a]():t[-a].unsubscribe(),r+=2}else n[r].call(t[n[r+1]]);e[7]=null}}(t,e);const n=e[6];n&&3===n.type&&Ce(e[11])&&e[11].destroy();const r=e[17];if(null!==r&&Ft(e[3])){r!==e[3]&&_i(r,e);const n=e[5];null!==n&&n.detachView(t)}}}function Si(t,e,n,r){Ce(t)?t.insertBefore(e,n,r):e.insertBefore(n,r,!0)}function Ai(t,e,n){Ce(t)?t.appendChild(e,n):e.appendChild(n)}function Oi(t,e,n,r){null!==r?Si(t,e,n,r):Ai(t,e,n)}function Ni(t,e){return Ce(t)?t.parentNode(e):e.parentNode}function ki(t,e,n,r){const i=function(t,e,n){let r=e.parent;for(;null!=r&&(4===r.type||5===r.type);)r=(e=r).parent;if(null==r){const t=n[6];return 2===t.type?yi(t,n):n[0]}if(e&&5===e.type&&4&e.flags)return tr(e,n).parentNode;if(2&r.flags){const e=t.data,n=e[e[r.index].directiveStart].encapsulation;if(n!==It.ShadowDom&&n!==It.Native)return null}return tr(r,n)}(t,r,e);if(null!=i){const t=e[11],o=function(t,e){if(2===t.type){const n=vi(t,e);return null===n?null:xi(n.indexOf(e,9)-9,n)}return 4===t.type||5===t.type?tr(t,e):null}(r.parent||e[6],e);if(Array.isArray(n))for(let e=0;e<n.length;e++)Oi(t,i,n[e],o);else Oi(t,i,n,o)}}function xi(t,e){const n=9+t+1;if(n<e.length){const t=e[n],r=t[1].firstChild;if(null!==r)return function t(e,n){if(null!==n){const r=n.type;if(3===r)return tr(n,e);if(0===r)return xi(-1,e[n.index]);if(4===r||5===r){const r=n.child;if(null!==r)return t(e,r);{const t=e[n.index];return Ft(t)?xi(-1,t):Xn(t)}}{const r=e[16],i=r[6],o=_r(r),s=i.projection[n.projection];return null!=s?t(o,s):t(e,n.next)}}return null}(t,r)}return e[7]}function Pi(t,e,n,r,i,o,s){for(;null!=n;){const a=r[n.index],u=n.type;s&&0===e&&(a&&ur(Xn(a),r),n.flags|=4),64!=(64&n.flags)&&(4===u||5===u?(Pi(t,e,n.child,r,i,o,!1),bi(e,t,i,a,o)):1===u?Di(t,e,r,n,i,o):bi(e,t,i,a,o)),n=s?n.projectionNext:n.next}}function Ri(t,e,n,r,i,o){Pi(n,r,t.node.child,e,i,o,!1)}function Di(t,e,n,r,i,o){const s=n[16],a=s[6].projection[r.projection];if(Array.isArray(a))for(let u=0;u<a.length;u++)bi(e,t,i,a[u],o);else Pi(t,e,a,s[3],i,o,!0)}function Mi(t,e,n){Ce(t)?t.setAttribute(e,"style",n):e.style.cssText=n}function Li(t,e,n){Ce(t)?""===n?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n):e.className=n}class ji{constructor(t,e){this._lView=t,this._cdRefInjectingView=e,this._appRef=null,this._viewContainerRef=null,this._tViewNode=null}get rootNodes(){const t=this._lView;return null==t[0]?function t(e,n,r,i,o=!1){for(;null!==r;){const s=n[r.index];if(null!==s&&i.push(Xn(s)),Ft(s))for(let e=9;e<s.length;e++){const n=s[e],r=n[1].firstChild;null!==r&&t(n[1],n,r,i)}const a=r.type;if(4===a||5===a)t(e,n,r.child,i);else if(1===a){const e=n[16],o=e[6],s=_r(e);let a=o.projection[r.projection];null!==a&&null!==s&&t(s[1],s,a,i,!0)}r=o?r.projectionNext:r.next}return i}(t[1],t,t[6].child,[]):[]}get context(){return this._lView[8]}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._viewContainerRef){const t=this._viewContainerRef.indexOf(this);t>-1&&this._viewContainerRef.detach(t),this._viewContainerRef=null}Ii(this._lView[1],this._lView)}onDestroy(t){var e,n,r;e=this._lView[1],r=t,di(n=this._lView).push(r),e.firstCreatePass&&pi(e).push(n[7].length-1,null)}markForCheck(){ui(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){ci(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(t,e,n){ee(!0);try{ci(t,e,n)}finally{ee(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(t){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._viewContainerRef=t}detachFromAppRef(){var t;this._appRef=null,Ri(this._lView[1],t=this._lView,t[11],2,null,null)}attachToAppRef(t){if(this._viewContainerRef)throw new Error("This view is already attached to a ViewContainer!");this._appRef=t}}class Ui extends ji{constructor(t){super(t),this._view=t}detectChanges(){hi(this._view)}checkNoChanges(){!function(t){ee(!0);try{hi(t)}finally{ee(!1)}}(this._view)}get context(){return null}}let Vi,Fi,qi;function Hi(t,e,n){return Vi||(Vi=class extends t{}),new Vi(tr(e,n))}function Gi(t,e,n,r){return Fi||(Fi=class extends t{constructor(t,e,n){super(),this._declarationView=t,this._declarationTContainer=e,this.elementRef=n}createEmbeddedView(t){const e=this._declarationTContainer.tViews,n=Pr(this._declarationView,e,t,16,null,e.node);n[17]=this._declarationView[this._declarationTContainer.index];const r=this._declarationView[5];null!==r&&(n[5]=r.createEmbeddedView(e)),Dr(e,n,t);const i=new ji(n);return i._tViewNode=n[6],i}}),0===n.type?new Fi(r,n,Hi(e,n,r)):null}function Bi(t,e,n,r){let i;qi||(qi=class extends t{constructor(t,e,n){super(),this._lContainer=t,this._hostTNode=e,this._hostView=n}get element(){return Hi(e,this._hostTNode,this._hostView)}get injector(){return new tn(this._hostTNode,this._hostView)}get parentInjector(){const t=ze(this._hostTNode,this._hostView),e=De(t,this._hostView),n=function(t,e,n){if(n.parent&&-1!==n.parent.injectorIndex){const t=n.parent.injectorIndex;let e=n.parent;for(;null!=e.parent&&t==e.parent.injectorIndex;)e=e.parent;return e}let r=Re(t),i=e,o=e[6];for(;r>1;)i=i[15],o=i[6],r--;return o}(t,this._hostView,this._hostTNode);return xe(t)&&null!=n?new tn(n,e):new tn(null,this._hostView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){return null!==this._lContainer[8]&&this._lContainer[8][t]||null}get length(){return this._lContainer.length-9}createEmbeddedView(t,e,n){const r=t.createEmbeddedView(e||{});return this.insert(r,n),r}createComponent(t,e,n,r,i){const o=n||this.parentInjector;if(!i&&null==t.ngModule&&o){const t=o.get(pt,null);t&&(i=t)}const s=t.create(o,r,void 0,i);return this.insert(s.hostView,e),s}insert(t,e){const n=t._lView,r=n[1];if(t.destroyed)throw new Error("Cannot insert a destroyed View in a ViewContainer!");if(this.allocateContainerIfNeeded(),Ft(n[3])){const e=this.indexOf(t);if(-1!==e)this.detach(e);else{const e=n[3],r=new qi(e,e[6],e[3]);r.detach(r.indexOf(t))}}const i=this._adjustIndex(e);return function(t,e,n,r){const i=9+r,o=n.length;r>0&&(n[i-1][4]=e),r<o-9?(e[4]=n[i],vt(n,9+r,e)):(n.push(e),e[4]=null),e[3]=n;const s=e[17];null!==s&&n!==s&&function(t,e){const n=t[5],r=e[3][3][16];16!=(16&r[2])&&e[16]!==r&&(t[2]|=1),null===n?t[5]=[e]:n.push(e)}(s,e);const a=e[5];null!==a&&a.insertView(t),e[2]|=128}(r,n,this._lContainer,i),wi(r,n,!0,xi(i,this._lContainer)),t.attachToViewContainerRef(this),vt(this._lContainer[8],i,t),t}move(t,e){if(t.destroyed)throw new Error("Cannot move a destroyed View in a ViewContainer!");return this.insert(t,e)}indexOf(t){const e=this._lContainer[8];return null!==e?e.indexOf(t):-1}remove(t){this.allocateContainerIfNeeded();const e=this._adjustIndex(t,-1);(function(t,e){const n=Ei(t,e);n&&Ii(n[1],n)})(this._lContainer,e),yt(this._lContainer[8],e)}detach(t){this.allocateContainerIfNeeded();const e=this._adjustIndex(t,-1),n=Ei(this._lContainer,e);return n&&null!=yt(this._lContainer[8],e)?new ji(n):null}_adjustIndex(t,e=0){return null==t?this.length+e:t}allocateContainerIfNeeded(){null===this._lContainer[8]&&(this._lContainer[8]=[])}});const o=r[n.index];if(Ft(o))i=o,function(t,e){t[2]=-2}(i);else{let t;if(4===n.type)t=Xn(o);else if(t=r[11].createComment(""),zt(r)){const e=r[11],i=tr(n,r);Si(e,Ni(e,i),t,function(t,e){return Ce(t)?t.nextSibling(e):e.nextSibling}(e,i))}else ki(r[1],r,t,n);r[n.index]=i=ri(o,r,t,n),ai(r,i)}return new qi(i,n,r)}function zi(t=!1){return function(t,e,n){if(!n&&Ht(t)){const n=nr(t.index,e);return new ji(n,n)}return 3===t.type||0===t.type||4===t.type||5===t.type?new ji(e[16],e):null}(Jt(),$t(),t)}let Wi=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>Ki(),t})();const Ki=zi,$i=new tt("Set Injector scope."),Yi={},Qi={},Ji=[];let Xi=void 0;function Zi(){return void 0===Xi&&(Xi=new dt),Xi}function to(t,e=null,n=null,r){return new eo(t,n,e||Zi(),r)}class eo{constructor(t,e,n,r=null){this.parent=n,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const i=[];e&&mt(e,n=>this.processProvider(n,t,e)),mt([t],t=>this.processInjectorType(t,[],i)),this.records.set(et,io(void 0,this));const o=this.records.get($i);this.scope=null!=o?o.value:null,this.source=r||("object"==typeof t?null:L(t))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(t=>t.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(t,e=nt,n=I.Default){this.assertNotDestroyed();const r=at(this);try{if(!(n&I.SkipSelf)){let e=this.records.get(t);if(void 0===e){const n=("function"==typeof(i=t)||"object"==typeof i&&i instanceof tt)&&O(t);e=n&&this.injectableDefInScope(n)?io(no(t),Yi):null,this.records.set(t,e)}if(null!=e)return this.hydrate(t,e)}return(n&I.Self?Zi():this.parent).get(t,e=n&I.Optional&&e===nt?null:e)}catch(o){if("NullInjectorError"===o.name){if((o.ngTempTokenPath=o.ngTempTokenPath||[]).unshift(L(t)),r)throw o;return function(t,e,n,r){const i=t.ngTempTokenPath;throw e.__source&&i.unshift(e.__source),t.message=function(t,e,n,r=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.substr(2):t;let i=L(e);if(Array.isArray(e))i=e.map(L).join(" -> ");else if("object"==typeof e){let t=[];for(let n in e)if(e.hasOwnProperty(n)){let r=e[n];t.push(n+":"+("string"==typeof r?JSON.stringify(r):L(r)))}i=`{${t.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(rt,"\n  ")}`}("\n"+t.message,i,n,r),t.ngTokenPath=i,t.ngTempTokenPath=null,t}(o,t,"R3InjectorError",this.source)}throw o}finally{at(r)}var i}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(t=>this.get(t))}toString(){const t=[];return this.records.forEach((e,n)=>t.push(L(n))),`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(t,e,n){if(!(t=F(t)))return!1;let r=k(t);const i=null==r&&t.ngModule||void 0,o=void 0===i?t:i,s=-1!==n.indexOf(o);if(void 0!==i&&(r=k(i)),null==r)return!1;if(null!=r.imports&&!s){let t;n.push(o);try{mt(r.imports,r=>{this.processInjectorType(r,e,n)&&(void 0===t&&(t=[]),t.push(r))})}finally{}if(void 0!==t)for(let e=0;e<t.length;e++){const{ngModule:n,providers:r}=t[e];mt(r,t=>this.processProvider(t,n,r||Ji))}}this.injectorDefTypes.add(o),this.records.set(o,io(r.factory,Yi));const a=r.providers;if(null!=a&&!s){const e=t;mt(a,t=>this.processProvider(t,e,a))}return void 0!==i&&void 0!==t.providers}processProvider(t,e,n){let r=so(t=F(t))?t:F(t&&t.provide);const i=function(t,e,n){return oo(t)?io(void 0,t.useValue):io(ro(t,e,n),Yi)}(t,e,n);if(so(t)||!0!==t.multi){const t=this.records.get(r);t&&void 0!==t.multi&&hr()}else{let e=this.records.get(r);e?void 0===e.multi&&hr():(e=io(void 0,Yi,!0),e.factory=()=>ft(e.multi),this.records.set(r,e)),r=t,e.multi.push(t)}this.records.set(r,i)}hydrate(t,e){var n;return e.value===Qi?function(t){throw new Error(`Cannot instantiate cyclic dependency! ${t}`)}(L(t)):e.value===Yi&&(e.value=Qi,e.value=e.factory()),"object"==typeof e.value&&e.value&&null!==(n=e.value)&&"object"==typeof n&&"function"==typeof n.ngOnDestroy&&this.onDestroy.add(e.value),e.value}injectableDefInScope(t){return!!t.providedIn&&("string"==typeof t.providedIn?"any"===t.providedIn||t.providedIn===this.scope:this.injectorDefTypes.has(t.providedIn))}}function no(t){const e=O(t),n=null!==e?e.factory:jt(t);if(null!==n)return n;const r=k(t);if(null!==r)return r.factory;if(t instanceof tt)throw new Error(`Token ${L(t)} is missing a \u0275prov definition.`);if(t instanceof Function)return function(t){const e=t.length;if(e>0){const n=function(t,e){const n=[];for(let r=0;r<t;r++)n.push("?");return n}(e);throw new Error(`Can't resolve all parameters for ${L(t)}: (${n.join(", ")}).`)}const n=function(t){const e=t&&(t[x]||t[D]||t[R]&&t[R]());if(e){const n=function(t){if(t.hasOwnProperty("name"))return t.name;const e=(""+t).match(/^function\s*([^\s(]+)/);return null===e?"":e[1]}(t);return console.warn(`DEPRECATED: DI is instantiating a token "${n}" that inherits its @Injectable decorator but does not provide one itself.\n`+`This will become an error in v10. Please add @Injectable() to the "${n}" class.`),e}return null}(t);return null!==n?()=>n.factory(t):()=>new t}(t);throw new Error("unreachable")}function ro(t,e,n){let r=void 0;if(so(t)){const e=F(t);return jt(e)||no(e)}if(oo(t))r=()=>F(t.useValue);else if((i=t)&&i.useFactory)r=()=>t.useFactory(...ft(t.deps||[]));else if(function(t){return!(!t||!t.useExisting)}(t))r=()=>ht(F(t.useExisting));else{const i=F(t&&(t.useClass||t.provide));if(i||function(t,e,n){let r="";throw t&&e&&(r=` - only instances of Provider and Type are allowed, got: [${e.map(t=>t==n?"?"+n+"?":"...").join(", ")}]`),new Error(`Invalid provider for the NgModule '${L(t)}'`+r)}(e,n,t),!function(t){return!!t.deps}(t))return jt(i)||no(i);r=()=>new i(...ft(t.deps))}var i;return r}function io(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function oo(t){return null!==t&&"object"==typeof t&&it in t}function so(t){return"function"==typeof t}const ao=function(t,e,n){return function(t,e=null,n=null,r){const i=to(t,e,n,r);return i._resolveInjectorDefTypes(),i}({name:n},e,t,n)};let uo=(()=>{class t{static create(t,e){return Array.isArray(t)?ao(t,e,""):ao(t.providers,t.parent,t.name||"")}}return t.THROW_IF_NOT_FOUND=nt,t.NULL=new dt,t.\u0275prov=S({token:t,providedIn:"any",factory:()=>ht(et)}),t.__NG_ELEMENT_ID__=-1,t})();const co=new tt("AnalyzeForEntryComponents");let ho=new Map;const lo=new Set;function fo(t){return"string"==typeof t?t:t.text()}function po(t,e){let n=t.styles,r=t.classes,i=0;for(let o=0;o<e.length;o++){const t=e[o];"number"==typeof t?i=t:1==i?r=j(r,t):2==i&&(n=j(n,t+": "+e[++o]+";"))}null!==n&&(t.styles=n),null!==r&&(t.classes=r)}let go=null;function mo(){if(!go){const t=W.Symbol;if(t&&t.iterator)go=t.iterator;else{const t=Object.getOwnPropertyNames(Map.prototype);for(let e=0;e<t.length;++e){const n=t[e];"entries"!==n&&"size"!==n&&Map.prototype[n]===Map.prototype.entries&&(go=n)}}}return go}function vo(t,e){return t===e||"number"==typeof t&&"number"==typeof e&&isNaN(t)&&isNaN(e)}class yo{constructor(t){this.wrapped=t}static wrap(t){return new yo(t)}static unwrap(t){return yo.isWrapped(t)?t.wrapped:t}static isWrapped(t){return t instanceof yo}}function bo(t){return!!wo(t)&&(Array.isArray(t)||!(t instanceof Map)&&mo()in t)}function wo(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function _o(t,e,n){return!Object.is(t[e],n)&&(t[e]=n,!0)}function Eo(t,e,n,r){const i=$t();return _o(i,ne(),e)&&function(t,e,n,r,i,o,s){const a=Zn(t,i),u=i[11];if(null==n)Ce(u)?u.removeAttribute(a,e,s):a.removeAttribute(e);else{const i=er(r,t),c=null==o?Me(n):o(n,i.tagName||"",e);Ce(u)?u.setAttribute(a,e,c,s):s?a.setAttributeNS(s,e,c):a.setAttribute(e,c)}}(de(),t,e,Yt(),i,n,r),Eo}function Io(t,e,n,r,i,o,s,a){const u=$t(),c=Yt(),h=t+19,l=c.firstCreatePass?function(t,e,n,r,i,o,s,a,u){const c=e.consts,h=Rr(e,n[6],t,0,s||null,sr(c,a));zr(e,n,h,sr(c,u)),ge(e,h);const l=h.tViews=qr(2,-1,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,c),f=Hr(0,null,2,-1,null,null);return f.injectorIndex=h.injectorIndex,l.node=f,null!==e.queries&&(e.queries.template(e,h),l.queries=e.queries.embeddedTView(h)),h}(t,c,u,e,n,r,i,o,s):c.data[h];Xt(l,!1);const f=u[11].createComment("");ki(c,u,f,l),ur(f,u),ai(u,u[h]=ri(f,u,f,l)),Gt(l)&&Ur(c,u,l),null!=s&&Vr(u,l,a)}function Co(t){return function(t,e){return t[e+19]}(Wt.lFrame.contextLView,t)}function To(t,e=I.Default){const n=$t();return null==n?ht(t,e):Ke(Jt(),n,F(t),e)}function So(t){return function(t,e){if("class"===e)return t.classes;if("style"===e)return t.styles;const n=t.attrs;if(n){const t=n.length;let r=0;for(;r<t;){const i=n[r];if(Ae(i))break;if(0===i)r+=2;else if("number"==typeof i)for(r++;r<t&&"string"==typeof n[r];)r++;else{if(i===e)return n[r+1];r+=2}}}return null}(Jt(),t)}function Ao(){throw new Error("invalid")}function Oo(t,e,n){const r=$t();if(_o(r,ne(),e)){const i=de();Br(Yt(),r,i,t,e,n)}return Oo}function No(t,e,n,r,i){const o=i?"class":"style";mi(t,n,e.inputs[o],o,r)}function ko(t,e,n,r){const i=$t(),o=Yt(),s=19+t,a=i[11],u=i[s]=xr(e,a,Wt.lFrame.currentNamespace),c=o.firstCreatePass?function(t,e,n,r,i,o,s){const a=e.consts,u=sr(a,o),c=Rr(e,n[6],t,3,i,u);return zr(e,n,c,sr(a,s)),null!==c.mergedAttrs&&po(c,c.mergedAttrs),null!==e.queries&&e.queries.elementStart(e,c),c}(t,o,i,0,e,n,r):o.data[s];Xt(c,!0);const h=c.mergedAttrs;null!==h&&Se(a,u,h);const l=c.classes;null!==l&&Li(a,u,l);const f=c.styles;null!==f&&Mi(a,u,f),ki(o,i,u,c),0===Wt.lFrame.elementDepthCount&&ur(u,i),Wt.lFrame.elementDepthCount++,Gt(c)&&(Ur(o,i,c),function(t,e,n){if(qt(e)){const r=e.directiveEnd;for(let i=e.directiveStart;i<r;i++){const e=t.data[i];e.contentQueries&&e.contentQueries(1,n[i],i)}}}(o,c,i)),null!==r&&Vr(i,c)}function xo(){let t=Jt();Zt()?Wt.lFrame.isParent=!1:(t=t.parent,Xt(t,!1));const e=t;Wt.lFrame.elementDepthCount--;const n=Yt();n.firstCreatePass&&(ge(n,t),qt(t)&&n.queries.elementEnd(t)),null!==e.classes&&function(t){return 0!=(16&t.flags)}(e)&&No(n,e,$t(),e.classes,!0),null!==e.styles&&function(t){return 0!=(32&t.flags)}(e)&&No(n,e,$t(),e.styles,!1)}function Po(t,e,n,r){ko(t,e,n,r),xo()}function Ro(){return $t()}function Do(t){return!!t&&"function"==typeof t.then}function Mo(t){return!!t&&"function"==typeof t.subscribe}function Lo(t,e,n=!1,r){const i=$t(),o=Yt(),s=Jt();return function(t,e,n,r,i,o,s=!1,a){const u=Gt(r),c=t.firstCreatePass&&(t.cleanup||(t.cleanup=[])),h=di(e);let l=!0;if(3===r.type){const f=tr(r,e),d=a?a(f):Ct,p=d.target||f,g=h.length,m=a?t=>a(Xn(t[r.index])).target:r.index;if(Ce(n)){let s=null;if(!a&&u&&(s=function(t,e,n,r){const i=t.cleanup;if(null!=i)for(let o=0;o<i.length-1;o+=2){const t=i[o];if(t===n&&i[o+1]===r){const t=e[7],n=i[o+2];return t.length>n?t[n]:null}"string"==typeof t&&(o+=2)}return null}(t,e,i,r.index)),null!==s)(s.__ngLastListenerFn__||s).__ngNextListenerFn__=o,s.__ngLastListenerFn__=o,l=!1;else{o=Uo(r,e,o,!1);const t=n.listen(d.name||p,i,o);h.push(o,t),c&&c.push(i,m,g,g+1)}}else o=Uo(r,e,o,!0),p.addEventListener(i,o,s),h.push(o),c&&c.push(i,m,g,s)}const f=r.outputs;let d;if(l&&null!==f&&(d=f[i])){const t=d.length;if(t)for(let n=0;n<t;n+=2){const t=e[d[n]][d[n+1]].subscribe(o),s=h.length;h.push(o,t),c&&c.push(i,r.index,s,-(s+1))}}}(o,i,i[11],s,t,e,n,r),Lo}function jo(t,e,n){try{return!1!==e(n)}catch(r){return gi(t,r),!1}}function Uo(t,e,n,r){return function i(o){if(o===Function)return n;const s=2&t.flags?nr(t.index,e):e;0==(32&e[2])&&ui(s);let a=jo(e,n,o),u=i.__ngNextListenerFn__;for(;u;)a=jo(e,u,o)&&a,u=u.__ngNextListenerFn__;return r&&!1===a&&(o.preventDefault(),o.returnValue=!1),a}}function Vo(t=1){return function(t){return(Wt.lFrame.contextLView=function(t,e){for(;t>0;)e=e[15],t--;return e}(t,Wt.lFrame.contextLView))[8]}(t)}const Fo=[];function qo(t,e,n,r,i){const o=t[n+1],s=null===e;let a=r?Tr(o):Ar(o),u=!1;for(;0!==a&&(!1===u||s);){const n=t[a+1];Ho(t[a],e)&&(u=!0,t[a+1]=r?Nr(n):Sr(n)),a=r?Tr(n):Ar(n)}u&&(t[n+1]=r?Sr(o):Nr(o))}function Ho(t,e){return null===t||null==e||(Array.isArray(t)?t[1]:t)===e||!(!Array.isArray(t)||"string"!=typeof e)&&_t(t,e)>=0}function Go(t,e){return function(t,e,n,r){const i=$t(),o=Yt(),s=function(t){const e=Wt.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+2,n}();if(o.firstUpdatePass&&function(t,e,n,r){const i=t.data;if(null===i[n+1]){const r=i[de()+19],o=function(t,e){return e>=t.expandoStartIndex}(t,n);(function(t,e){return 0!=(16&t.flags)})(r)&&null===e&&!o&&(e=!1),e=function(t,e,n,r){const i=function(t){const e=Wt.lFrame.currentDirectiveIndex;return-1===e?null:t[e]}(t);let o=e.residualClasses;if(null===i)0===e.classBindings&&(n=zo(n=Bo(null,t,e,n,!0),e.attrs,!0),o=null);else{const r=e.directiveStylingLast;if(-1===r||t[r]!==i)if(n=Bo(i,t,e,n,!0),null===o){let n=function(t,e,n){const r=e.classBindings;if(0!==Ar(r))return t[Tr(r)]}(t,e);void 0!==n&&Array.isArray(n)&&(n=Bo(null,t,e,n[1],!0),n=zo(n,e.attrs,!0),function(t,e,n,r){t[Tr(e.classBindings)]=r}(t,e,0,n))}else o=function(t,e,n){let r=void 0;const i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++)r=zo(r,t[o].hostAttrs,!0);return zo(r,e.attrs,!0)}(t,e)}return void 0!==o&&(e.residualClasses=o),n}(i,r,e),function(t,e,n,r,i,o){let s=e.classBindings,a=Tr(s),u=Ar(s);t[r]=n;let c,h=!1;if(Array.isArray(n)){const t=n;c=t[1],(null===c||_t(t,c)>0)&&(h=!0)}else c=n;if(i)if(0!==u){const e=Tr(t[a+1]);t[r+1]=Cr(e,a),0!==e&&(t[e+1]=Or(t[e+1],r)),t[a+1]=131071&t[a+1]|r<<17}else t[r+1]=Cr(a,0),0!==a&&(t[a+1]=Or(t[a+1],r)),a=r;else t[r+1]=Cr(u,0),0===a?a=r:t[u+1]=Or(t[u+1],r),u=r;h&&(t[r+1]=Sr(t[r+1])),qo(t,c,r,!0),qo(t,c,r,!1),function(t,e,n,r,i){const o=t.residualClasses;null!=o&&"string"==typeof e&&_t(o,e)>=0&&(n[r+1]=Nr(n[r+1]))}(e,c,t,r),s=Cr(a,u),e.classBindings=s}(i,r,e,n,o)}}(o,t,s),e!==wr&&_o(i,s,e)){let r;null==n&&(r=function(){const t=Wt.lFrame;return null===t?null:t.currentSanitizer}())&&(n=r),function(t,e,n,r,i,o,s,a){if(3!==e.type)return;const u=t.data,c=u[a+1];Ko(1==(1&c)?Wo(u,e,n,i,Ar(c),!0):void 0)||(Ko(o)||function(t){return 2==(2&t)}(c)&&(o=Wo(u,null,n,i,a,!0)),function(t,e,n,r,i){const o=Ce(t);i?o?t.addClass(n,r):n.classList.add(r):o?t.removeClass(n,r):n.classList.remove(r)}(r,0,Zn(de(),n),i,o))}(o,o.data[de()+19],i,i[11],t,i[s+1]=function(t,e){return null==t||("function"==typeof e?t=e(t):"string"==typeof e?t+=e:"object"==typeof t&&(t=L(dn(t)))),t}(e,n),0,s)}}(t,e,null),Go}function Bo(t,e,n,r,i){let o=null;const s=n.directiveEnd;let a=n.directiveStylingLast;for(-1===a?a=n.directiveStart:a++;a<s&&(o=e[a],r=zo(r,o.hostAttrs,i),o!==t);)a++;return null!==t&&(n.directiveStylingLast=a),r}function zo(t,e,n){const r=n?1:2;let i=-1;if(null!==e)for(let o=0;o<e.length;o++){const s=e[o];"number"==typeof s?i=s:i===r&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),bt(t,s,!!n||e[++o]))}return void 0===t?null:t}function Wo(t,e,n,r,i,o){const s=null===e;let a=void 0;for(;i>0;){const e=t[i],o=Array.isArray(e),u=o?e[1]:e,c=null===u;let h=n[i+1];h===wr&&(h=c?Fo:void 0);let l=c?wt(h,r):u===r?h:void 0;if(o&&!Ko(l)&&(l=wt(e,r)),Ko(l)&&(a=l,s))return a;const f=t[i+1];i=s?Tr(f):Ar(f)}if(null!==e){let t=o?e.residualClasses:e.residualStyles;null!=t&&(a=wt(t,r))}return a}function Ko(t){return void 0!==t}function $o(t,e=""){const n=$t(),r=Yt(),i=t+19,o=r.firstCreatePass?Rr(r,n[6],t,3,null,null):r.data[i],s=n[i]=function(t,e){return Ce(e)?e.createText(t):e.createTextNode(t)}(e,n[11]);ki(r,n,s,o),Xt(o,!1)}function Yo(t){return Qo("",t,""),Yo}function Qo(t,e,n){const r=$t(),i=function(t,e,n,r){return _o(t,ne(),n)?e+Me(n)+r:wr}(r,t,e,n);return i!==wr&&function(t,e,n){const r=Zn(e,t),i=t[11];Ce(i)?i.setValue(r,n):r.textContent=n}(r,de(),i),Qo}function Jo(t,e,n){const r=$t();if(_o(r,ne(),e)){const i=de();Br(Yt(),r,i,t,e,n,!0)}return Jo}function Xo(t,e){const n=rr(t)[1],r=n.data.length-1;ge(n,{directiveStart:r,directiveEnd:r+1})}function Zo(t){let e=Object.getPrototypeOf(t.type.prototype).constructor,n=!0;const r=[t];for(;e;){let i=void 0;if(Bt(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new Error("Directives cannot inherit Components");i=e.\u0275dir}if(i){if(n){r.push(i);const e=t;e.inputs=ts(t.inputs),e.declaredInputs=ts(t.declaredInputs),e.outputs=ts(t.outputs);const n=i.hostBindings;n&&rs(t,n);const o=i.viewQuery,s=i.contentQueries;if(o&&es(t,o),s&&ns(t,s),T(t.inputs,i.inputs),T(t.declaredInputs,i.declaredInputs),T(t.outputs,i.outputs),Bt(i)&&i.data.animation){const e=t.data;e.animation=(e.animation||[]).concat(i.data.animation)}e.afterContentChecked=e.afterContentChecked||i.afterContentChecked,e.afterContentInit=t.afterContentInit||i.afterContentInit,e.afterViewChecked=t.afterViewChecked||i.afterViewChecked,e.afterViewInit=t.afterViewInit||i.afterViewInit,e.doCheck=t.doCheck||i.doCheck,e.onDestroy=t.onDestroy||i.onDestroy,e.onInit=t.onInit||i.onInit}const e=i.features;if(e)for(let r=0;r<e.length;r++){const i=e[r];i&&i.ngInherit&&i(t),i===Zo&&(n=!1)}}e=Object.getPrototypeOf(e)}!function(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){const i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=Ne(i.hostAttrs,n=Ne(n,i.hostAttrs))}}(r)}function ts(t){return t===Ct?{}:t===Tt?[]:t}function es(t,e){const n=t.viewQuery;t.viewQuery=n?(t,r)=>{e(t,r),n(t,r)}:e}function ns(t,e){const n=t.contentQueries;t.contentQueries=n?(t,r,i)=>{e(t,r,i),n(t,r,i)}:e}function rs(t,e){const n=t.hostBindings;t.hostBindings=n?(t,r)=>{e(t,r),n(t,r)}:e}class is{constructor(t,e,n){this.previousValue=t,this.currentValue=e,this.firstChange=n}isFirstChange(){return this.firstChange}}function os(t){t.type.prototype.ngOnChanges&&(t.setInput=ss,t.onChanges=function(){const t=as(this),e=t&&t.current;if(e){const n=t.previous;if(n===Ct)t.previous=e;else for(let t in e)n[t]=e[t];t.current=null,this.ngOnChanges(e)}})}function ss(t,e,n,r){const i=as(t)||function(t,e){return t.__ngSimpleChanges__=e}(t,{previous:Ct,current:null}),o=i.current||(i.current={}),s=i.previous,a=this.declaredInputs[n],u=s[a];o[a]=new is(u&&u.currentValue,e,s===Ct),t[r]=e}function as(t){return t.__ngSimpleChanges__||null}function us(t,e,n,r,i){if(t=F(t),Array.isArray(t))for(let o=0;o<t.length;o++)us(t[o],e,n,r,i);else{const o=Yt(),s=$t();let a=so(t)?t:F(t.provide),u=ro(t);const c=Jt(),h=65535&c.providerIndexes,l=c.directiveStart,f=c.providerIndexes>>16;if(so(t)||!t.multi){const r=new _e(u,i,To),d=ls(a,e,i?h:h+f,l);-1===d?(We(He(c,s),o,a),cs(o,t,e.length),e.push(a),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=65536),n.push(r),s.push(r)):(n[d]=r,s[d]=r)}else{const d=ls(a,e,h+f,l),p=ls(a,e,h,h+f),g=d>=0&&n[d],m=p>=0&&n[p];if(i&&!m||!i&&!g){We(He(c,s),o,a);const h=function(t,e,n,r,i){const o=new _e(t,n,To);return o.multi=[],o.index=e,o.componentProviders=0,hs(o,i,r&&!n),o}(i?ds:fs,n.length,i,r,u);!i&&m&&(n[p].providerFactory=h),cs(o,t,e.length),e.push(a),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=65536),n.push(h),s.push(h)}else cs(o,t,d>-1?d:p),hs(n[i?p:d],u,!i&&r);!i&&r&&m&&n[p].componentProviders++}}}function cs(t,e,n){if(so(e)||e.useClass){const r=(e.useClass||e).prototype.ngOnDestroy;r&&(t.destroyHooks||(t.destroyHooks=[])).push(n,r)}}function hs(t,e,n){t.multi.push(e),n&&t.componentProviders++}function ls(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function fs(t,e,n,r){return ps(this.multi,[])}function ds(t,e,n,r){const i=this.multi;let o;if(this.providerFactory){const t=this.providerFactory.componentProviders,e=Je(n,n[1],this.providerFactory.index,r);o=e.slice(0,t),ps(i,o);for(let n=t;n<e.length;n++)o.push(e[n])}else o=[],ps(i,o);return o}function ps(t,e){for(let n=0;n<t.length;n++)e.push((0,t[n])());return e}function gs(t,e=[]){return n=>{n.providersResolver=(n,r)=>function(t,e,n){const r=Yt();if(r.firstCreatePass){const i=Bt(t);us(n,r.data,r.blueprint,i,!0),us(e,r.data,r.blueprint,i,!1)}}(n,r?r(t):t,e)}}os.ngInherit=!0;class ms{}class vs{resolveComponentFactory(t){throw function(t){const e=Error(`No component factory found for ${L(t)}. Did you add it to @NgModule.entryComponents?`);return e.ngComponent=t,e}(t)}}let ys=(()=>{class t{}return t.NULL=new vs,t})(),bs=(()=>{class t{constructor(t){this.nativeElement=t}}return t.__NG_ELEMENT_ID__=()=>ws(t),t})();const ws=function(t){return Hi(t,Jt(),$t())};class _s{}const Es=function(){var t={Important:1,DashCase:2};return t[t.Important]="Important",t[t.DashCase]="DashCase",t}();let Is=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>Cs(),t})();const Cs=function(){const t=$t(),e=nr(Jt().index,t);return function(t){const e=t[11];if(Ce(e))return e;throw new Error("Cannot inject Renderer2 when the application uses Renderer3!")}(Vt(e)?e:t)};let Ts=(()=>{class t{}return t.\u0275prov=S({token:t,providedIn:"root",factory:()=>null}),t})();class Ss{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const As=new Ss("9.0.6");class Os{constructor(){}supports(t){return bo(t)}create(t){return new ks(t)}}const Ns=(t,e)=>e;class ks{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||Ns}forEachItem(t){let e;for(e=this._itHead;null!==e;e=e._next)t(e)}forEachOperation(t){let e=this._itHead,n=this._removalsHead,r=0,i=null;for(;e||n;){const o=!n||e&&e.currentIndex<Ds(n,r,i)?e:n,s=Ds(o,r,i),a=o.currentIndex;if(o===n)r--,n=n._nextRemoved;else if(e=e._next,null==o.previousIndex)r++;else{i||(i=[]);const t=s-r,e=a-r;if(t!=e){for(let n=0;n<t;n++){const r=n<i.length?i[n]:i[n]=0,o=r+n;e<=o&&o<t&&(i[n]=r+1)}i[o.previousIndex]=e-t}}s!==a&&t(o,s,a)}}forEachPreviousItem(t){let e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachMovedItem(t){let e;for(e=this._movesHead;null!==e;e=e._nextMoved)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}forEachIdentityChange(t){let e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)t(e)}diff(t){if(null==t&&(t=[]),!bo(t))throw new Error(`Error trying to diff '${L(t)}'. Only arrays and iterables are allowed`);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e,n,r,i=this._itHead,o=!1;if(Array.isArray(t)){this.length=t.length;for(let e=0;e<this.length;e++)n=t[e],r=this._trackByFn(e,n),null!==i&&vo(i.trackById,r)?(o&&(i=this._verifyReinsertion(i,n,r,e)),vo(i.item,n)||this._addIdentityChange(i,n)):(i=this._mismatch(i,n,r,e),o=!0),i=i._next}else e=0,function(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{const n=t[mo()]();let r;for(;!(r=n.next()).done;)e(r.value)}}(t,t=>{r=this._trackByFn(e,t),null!==i&&vo(i.trackById,r)?(o&&(i=this._verifyReinsertion(i,t,r,e)),vo(i.item,t)||this._addIdentityChange(i,t)):(i=this._mismatch(i,t,r,e),o=!0),i=i._next,e++}),this.length=e;return this._truncate(i),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t,e;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=e)t.previousIndex=t.currentIndex,e=t._nextMoved;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,e,n,r){let i;return null===t?i=this._itTail:(i=t._prev,this._remove(t)),null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(n,r))?(vo(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,i,r)):null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null))?(vo(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,i,r)):t=this._addAfter(new xs(e,n),i,r),t}_verifyReinsertion(t,e,n,r){let i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);return null!==i?t=this._reinsertAfter(i,t._prev,r):t.currentIndex!=r&&(t.currentIndex=r,this._addToMoves(t,r)),t}_truncate(t){for(;null!==t;){const e=t._next;this._addToRemovals(this._unlink(t)),t=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,e,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const r=t._prevRemoved,i=t._nextRemoved;return null===r?this._removalsHead=i:r._nextRemoved=i,null===i?this._removalsTail=r:i._prevRemoved=r,this._insertAfter(t,e,n),this._addToMoves(t,n),t}_moveAfter(t,e,n){return this._unlink(t),this._insertAfter(t,e,n),this._addToMoves(t,n),t}_addAfter(t,e,n){return this._insertAfter(t,e,n),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,e,n){const r=null===e?this._itHead:e._next;return t._next=r,t._prev=e,null===r?this._itTail=t:r._prev=t,null===e?this._itHead=t:e._next=t,null===this._linkedRecords&&(this._linkedRecords=new Rs),this._linkedRecords.put(t),t.currentIndex=n,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const e=t._prev,n=t._next;return null===e?this._itHead=n:e._next=n,null===n?this._itTail=e:n._prev=e,t}_addToMoves(t,e){return t.previousIndex===e?t:(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t,t)}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Rs),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,e){return t.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class xs{constructor(t,e){this.item=t,this.trackById=e,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class Ps{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,e){let n;for(n=this._head;null!==n;n=n._nextDup)if((null===e||e<=n.currentIndex)&&vo(n.trackById,t))return n;return null}remove(t){const e=t._prevDup,n=t._nextDup;return null===e?this._head=n:e._nextDup=n,null===n?this._tail=e:n._prevDup=e,null===this._head}}class Rs{constructor(){this.map=new Map}put(t){const e=t.trackById;let n=this.map.get(e);n||(n=new Ps,this.map.set(e,n)),n.add(t)}get(t,e){const n=this.map.get(t);return n?n.get(t,e):null}remove(t){const e=t.trackById;return this.map.get(e).remove(t)&&this.map.delete(e),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Ds(t,e,n){const r=t.previousIndex;if(null===r)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}class Ms{constructor(){}supports(t){return t instanceof Map||wo(t)}create(){return new Ls}}class Ls{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let e;for(e=this._mapHead;null!==e;e=e._next)t(e)}forEachPreviousItem(t){let e;for(e=this._previousMapHead;null!==e;e=e._nextPrevious)t(e)}forEachChangedItem(t){let e;for(e=this._changesHead;null!==e;e=e._nextChanged)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}diff(t){if(t){if(!(t instanceof Map||wo(t)))throw new Error(`Error trying to diff '${L(t)}'. Only maps and objects are allowed`)}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e=this._mapHead;if(this._appendAfter=null,this._forEach(t,(t,n)=>{if(e&&e.key===n)this._maybeAddToChanges(e,t),this._appendAfter=e,e=e._next;else{const r=this._getOrCreateRecordForKey(n,t);e=this._insertBeforeOrAppend(e,r)}}),e){e._prev&&(e._prev._next=null),this._removalsHead=e;for(let t=e;null!==t;t=t._nextRemoved)t===this._mapHead&&(this._mapHead=null),this._records.delete(t.key),t._nextRemoved=t._next,t.previousValue=t.currentValue,t.currentValue=null,t._prev=null,t._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,e){if(t){const n=t._prev;return e._next=t,e._prev=n,t._prev=e,n&&(n._next=e),t===this._mapHead&&(this._mapHead=e),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null}_getOrCreateRecordForKey(t,e){if(this._records.has(t)){const n=this._records.get(t);this._maybeAddToChanges(n,e);const r=n._prev,i=n._next;return r&&(r._next=i),i&&(i._prev=r),n._next=null,n._prev=null,n}const n=new js(t);return this._records.set(t,n),n.currentValue=e,this._addToAdditions(n),n}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,e){vo(e,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=e,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,e){t instanceof Map?t.forEach(e):Object.keys(t).forEach(n=>e(t[n],n))}}class js{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}let Us=(()=>{class t{constructor(t){this.factories=t}static create(e,n){if(null!=n){const t=n.factories.slice();e=e.concat(t)}return new t(e)}static extend(e){return{provide:t,useFactory:n=>{if(!n)throw new Error("Cannot extend IterableDiffers without a parent injector");return t.create(e,n)},deps:[[t,new E,new w]]}}find(t){const e=this.factories.find(e=>e.supports(t));if(null!=e)return e;throw new Error(`Cannot find a differ supporting object '${t}' of type '${n=t,n.name||typeof n}'`);var n}}return t.\u0275prov=S({token:t,providedIn:"root",factory:()=>new t([new Os])}),t})(),Vs=(()=>{class t{constructor(t){this.factories=t}static create(e,n){if(n){const t=n.factories.slice();e=e.concat(t)}return new t(e)}static extend(e){return{provide:t,useFactory:n=>{if(!n)throw new Error("Cannot extend KeyValueDiffers without a parent injector");return t.create(e,n)},deps:[[t,new E,new w]]}}find(t){const e=this.factories.find(e=>e.supports(t));if(e)return e;throw new Error(`Cannot find a differ supporting object '${t}'`)}}return t.\u0275prov=S({token:t,providedIn:"root",factory:()=>new t([new Ms])}),t})();const Fs=[new Ms],qs=new Us([new Os]),Hs=new Vs(Fs);let Gs=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>Bs(t,bs),t})();const Bs=function(t,e){return Gi(t,e,Jt(),$t())};let zs=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>Ws(t,bs),t})();const Ws=function(t,e){return Bi(t,e,Jt(),$t())},Ks={};class $s extends ys{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const e=Lt(t);return new Js(e,this.ngModule)}}function Ys(t){const e=[];for(let n in t)t.hasOwnProperty(n)&&e.push({propName:t[n],templateName:n});return e}const Qs=new tt("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>je});class Js extends ms{constructor(t,e){super(),this.componentDef=t,this.ngModule=e,this.componentType=t.type,this.selector=t.selectors.map(br).join(","),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!e}get inputs(){return Ys(this.componentDef.inputs)}get outputs(){return Ys(this.componentDef.outputs)}create(t,e,n,r){const i=(r=r||this.ngModule)?function(t,e){return{get:(n,r,i)=>{const o=t.get(n,Ks,i);return o!==Ks||r===Ks?o:e.get(n,r,i)}}}(t,r.injector):t,o=i.get(_s,Te),s=i.get(Ts,null),a=o.createRenderer(null,this.componentDef),u=this.componentDef.selectors[0][0]||"div",c=n?function(t,e,n){if(Ce(t))return t.selectRootElement(e,n===It.ShadowDom);let r="string"==typeof e?t.querySelector(e):e;return r.textContent="",r}(a,n,this.componentDef.encapsulation):xr(u,o.createRenderer(null,this.componentDef),function(t){const e=t.toLowerCase();return"svg"===e?"http://www.w3.org/2000/svg":"math"===e?"http://www.w3.org/1998/MathML/":null}(u)),h=this.componentDef.onPush?576:528,l="string"==typeof n&&/^#root-ng-internal-isolated-\d+/.test(n),f={components:[],scheduler:je,clean:fi,playerHandler:null,flags:0},d=qr(0,-1,null,1,0,null,null,null,null,null),p=Pr(null,d,f,h,null,null,o,a,s,i);let g,m;ae(p,null);try{const t=function(t,e,n,r,i,o){const s=n[1];n[19]=t;const a=Rr(s,null,0,3,null,null),u=a.mergedAttrs=e.hostAttrs;null!==u&&(po(a,u),null!==t&&(Se(i,t,u),null!==a.classes&&Li(i,t,a.classes),null!==a.styles&&Mi(i,t,a.styles)));const c=r.createRenderer(t,e),h=Pr(n,Fr(e),null,e.onPush?64:16,n[19],a,r,c,void 0);return s.firstCreatePass&&(We(He(a,n),s,e.type),Qr(s,a),Xr(a,n.length,1)),ai(n,h),n[19]=h}(c,this.componentDef,p,o,a);if(c)if(n)Se(a,c,["ng-version",As.full]);else{const{attrs:t,classes:e}=function(t){const e=[],n=[];let r=1,i=2;for(;r<t.length;){let o=t[r];if("string"==typeof o)2===i?""!==o&&e.push(o,t[++r]):8===i&&n.push(o);else{if(!gr(i))break;i=o}r++}return{attrs:e,classes:n}}(this.componentDef.selectors[0]);t&&Se(a,c,t),e&&e.length>0&&Li(a,c,e.join(" "))}m=er(p[1],0),e&&(m.projection=e.map(t=>Array.from(t))),g=function(t,e,n,r,i){const o=n[1],s=function(t,e,n){const r=Jt();t.firstCreatePass&&(n.providersResolver&&n.providersResolver(n),Yr(t,r,1),Zr(t,e,n));const i=Je(e,t,e.length-1,r);ur(i,e);const o=tr(r,e);return o&&ur(o,e),i}(o,n,e);r.components.push(s),t[8]=s,i&&i.forEach(t=>t(s,e)),e.contentQueries&&e.contentQueries(1,s,n.length-1);const a=Jt();if(o.firstCreatePass&&(null!==e.hostBindings||null!==e.hostAttrs)){pe(a.index-19);const t=n[1];Wr(t,e),Kr(t,n,e.hostVars),$r(e,s)}return s}(t,this.componentDef,p,f,[Xo]),Dr(d,p,null)}finally{fe()}const v=new Xs(this.componentType,g,Hi(bs,m,p),p,m);return n&&!l||(v.hostView._tViewNode.child=m),v}}class Xs extends class{}{constructor(t,e,n,r,i){super(),this.location=n,this._rootLView=r,this._tNode=i,this.destroyCbs=[],this.instance=e,this.hostView=this.changeDetectorRef=new Ui(r),this.hostView._tViewNode=function(t,e,n,r){let i=t.node;return null==i&&(t.node=i=Hr(0,null,2,-1,null,null)),r[6]=i}(r[1],0,0,r),this.componentType=t}get injector(){return new tn(this._tNode,this._rootLView)}destroy(){this.destroyCbs&&(this.destroyCbs.forEach(t=>t()),this.destroyCbs=null,!this.hostView.destroyed&&this.hostView.destroy())}onDestroy(t){this.destroyCbs&&this.destroyCbs.push(t)}}const Zs=void 0;var ta=["en",[["a","p"],["AM","PM"],Zs],[["AM","PM"],Zs,Zs],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Zs,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Zs,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Zs,"{1} 'at' {0}",Zs],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},function(t){let e=Math.floor(Math.abs(t)),n=t.toString().replace(/^[^.]*\.?/,"").length;return 1===e&&0===n?1:5}];let ea={};function na(t,e,n){"string"!=typeof e&&(n=e,e=t[aa.LocaleId]),e=e.toLowerCase().replace(/_/g,"-"),ea[e]=t,n&&(ea[e][aa.ExtraData]=n)}function ra(t){const e=function(t){return t.toLowerCase().replace(/_/g,"-")}(t);let n=sa(e);if(n)return n;const r=e.split("-")[0];if(n=sa(r),n)return n;if("en"===r)return ta;throw new Error(`Missing locale data for the locale "${t}".`)}function ia(t){return ra(t)[aa.CurrencyCode]||null}function oa(t){return ra(t)[aa.PluralCase]}function sa(t){return t in ea||(ea[t]=W.ng&&W.ng.common&&W.ng.common.locales&&W.ng.common.locales[t]),ea[t]}const aa=function(){var t={LocaleId:0,DayPeriodsFormat:1,DayPeriodsStandalone:2,DaysFormat:3,DaysStandalone:4,MonthsFormat:5,MonthsStandalone:6,Eras:7,FirstDayOfWeek:8,WeekendRange:9,DateFormat:10,TimeFormat:11,DateTimeFormat:12,NumberSymbols:13,NumberFormats:14,CurrencyCode:15,CurrencySymbol:16,CurrencyName:17,Currencies:18,PluralCase:19,ExtraData:20};return t[t.LocaleId]="LocaleId",t[t.DayPeriodsFormat]="DayPeriodsFormat",t[t.DayPeriodsStandalone]="DayPeriodsStandalone",t[t.DaysFormat]="DaysFormat",t[t.DaysStandalone]="DaysStandalone",t[t.MonthsFormat]="MonthsFormat",t[t.MonthsStandalone]="MonthsStandalone",t[t.Eras]="Eras",t[t.FirstDayOfWeek]="FirstDayOfWeek",t[t.WeekendRange]="WeekendRange",t[t.DateFormat]="DateFormat",t[t.TimeFormat]="TimeFormat",t[t.DateTimeFormat]="DateTimeFormat",t[t.NumberSymbols]="NumberSymbols",t[t.NumberFormats]="NumberFormats",t[t.CurrencyCode]="CurrencyCode",t[t.CurrencySymbol]="CurrencySymbol",t[t.CurrencyName]="CurrencyName",t[t.Currencies]="Currencies",t[t.PluralCase]="PluralCase",t[t.ExtraData]="ExtraData",t}();let ua="en-US";function ca(t){var e,n;n="Expected localeId to be defined",null==(e=t)&&function(t,e,n,r){throw new Error(`ASSERTION ERROR: ${t}`+` [Expected=> null != ${e} <=Actual]`)}(n,e),"string"==typeof t&&(ua=t.toLowerCase().replace(/_/g,"-"))}const ha=new Map;class la extends pt{constructor(t,e){super(),this._parent=e,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new $s(this);const n=Ut(t),r=t[J]||null;r&&ca(r),this._bootstrapComponents=Ue(n.bootstrap),this._r3Injector=to(t,e,[{provide:pt,useValue:this},{provide:ys,useValue:this.componentFactoryResolver}],L(t)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(t)}get(t,e=uo.THROW_IF_NOT_FOUND,n=I.Default){return t===uo||t===pt||t===et?this:this._r3Injector.get(t,e,n)}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class fa extends gt{constructor(t){super(),this.moduleType=t,null!==Ut(t)&&function t(e){if(null!==e.\u0275mod.id){const t=e.\u0275mod.id;(function(t,e,n){if(e&&e!==n)throw new Error(`Duplicate module registered for ${t} - ${L(e)} vs ${L(e.name)}`)})(t,ha.get(t),e),ha.set(t,e)}let n=e.\u0275mod.imports;n instanceof Function&&(n=n()),n&&n.forEach(e=>t(e))}(t)}create(t){return new la(this.moduleType,t)}}function da(t,e,n){const r=function(){const t=Wt.lFrame;let e=t.bindingRootIndex;return-1===e&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}()+t,i=$t();return i[r]===wr?function(t,e,n){return t[e]=n}(i,r,n?e.call(n):e()):function(t,e){return t[e]}(i,r)}class pa extends r.a{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,e,n){let r,o=t=>null,s=()=>null;t&&"object"==typeof t?(r=this.__isAsync?e=>{setTimeout(()=>t.next(e))}:e=>{t.next(e)},t.error&&(o=this.__isAsync?e=>{setTimeout(()=>t.error(e))}:e=>{t.error(e)}),t.complete&&(s=this.__isAsync?()=>{setTimeout(()=>t.complete())}:()=>{t.complete()})):(r=this.__isAsync?e=>{setTimeout(()=>t(e))}:e=>{t(e)},e&&(o=this.__isAsync?t=>{setTimeout(()=>e(t))}:t=>{e(t)}),n&&(s=this.__isAsync?()=>{setTimeout(()=>n())}:()=>{n()}));const a=super.subscribe(r,o,s);return t instanceof i.a&&t.add(a),a}}function ga(){return this._results[mo()]()}class ma{constructor(){this.dirty=!0,this._results=[],this.changes=new pa,this.length=0;const t=mo(),e=ma.prototype;e[t]||(e[t]=ga)}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,e){return this._results.reduce(t,e)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t){this._results=function t(e,n){void 0===n&&(n=e);for(let r=0;r<e.length;r++){let i=e[r];Array.isArray(i)?(n===e&&(n=e.slice(0,r)),t(i,n)):n!==e&&n.push(i)}return n}(t),this.dirty=!1,this.length=this._results.length,this.last=this._results[this.length-1],this.first=this._results[0]}notifyOnChanges(){this.changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}class va{constructor(t){this.queryList=t,this.matches=null}clone(){return new va(this.queryList)}setDirty(){this.queryList.setDirty()}}class ya{constructor(t=[]){this.queries=t}createEmbeddedView(t){const e=t.queries;if(null!==e){const n=null!==t.contentQueries?t.contentQueries[0]:e.length,r=[];for(let t=0;t<n;t++){const n=e.getByIndex(t);r.push(this.queries[n.indexInDeclarationView].clone())}return new ya(r)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let e=0;e<this.queries.length;e++)null!==Oa(t,e).matches&&this.queries[e].setDirty()}}class ba{constructor(t,e,n,r=null){this.predicate=t,this.descendants=e,this.isStatic=n,this.read=r}}class wa{constructor(t=[]){this.queries=t}elementStart(t,e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementStart(t,e)}elementEnd(t){for(let e=0;e<this.queries.length;e++)this.queries[e].elementEnd(t)}embeddedTView(t){let e=null;for(let n=0;n<this.length;n++){const r=null!==e?e.length:0,i=this.getByIndex(n).embeddedTView(t,r);i&&(i.indexInDeclarationView=n,null!==e?e.push(i):e=[i])}return null!==e?new wa(e):null}template(t,e){for(let n=0;n<this.queries.length;n++)this.queries[n].template(t,e)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class _a{constructor(t,e=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=e}elementStart(t,e){this.isApplyingToNode(e)&&this.matchTNode(t,e)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,e){this.elementStart(t,e)}embeddedTView(t,e){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,e),new _a(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&!1===this.metadata.descendants){const e=this._declarationNodeIndex;let n=t.parent;for(;null!==n&&4===n.type&&n.index!==e;)n=n.parent;return e===(null!==n?n.index:-1)}return this._appliesToNextNode}matchTNode(t,e){if(Array.isArray(this.metadata.predicate)){const n=this.metadata.predicate;for(let r=0;r<n.length;r++)this.matchTNodeWithReadOption(t,e,Ea(e,n[r]))}else{const n=this.metadata.predicate;n===Gs?0===e.type&&this.matchTNodeWithReadOption(t,e,-1):this.matchTNodeWithReadOption(t,e,Qe(e,t,n,!1,!1))}}matchTNodeWithReadOption(t,e,n){if(null!==n){const r=this.metadata.read;if(null!==r)if(r===bs||r===zs||r===Gs&&0===e.type)this.addMatch(e.index,-2);else{const n=Qe(e,t,r,!1,!1);null!==n&&this.addMatch(e.index,n)}else this.addMatch(e.index,n)}}addMatch(t,e){null===this.matches?this.matches=[t,e]:this.matches.push(t,e)}}function Ea(t,e){const n=t.localNames;if(null!==n)for(let r=0;r<n.length;r+=2)if(n[r]===e)return n[r+1];return null}function Ia(t,e,n,r){return-1===n?function(t,e){return 3===t.type||4===t.type?Hi(bs,t,e):0===t.type?Gi(Gs,bs,t,e):null}(e,t):-2===n?function(t,e,n){return n===bs?Hi(bs,e,t):n===Gs?Gi(Gs,bs,e,t):n===zs?Bi(zs,bs,e,t):void 0}(t,e,r):Je(t,t[1],n,e)}function Ca(t,e,n,r){const i=e[5].queries[r];if(null===i.matches){const r=t.data,o=n.matches,s=[];for(let t=0;t<o.length;t+=2){const i=o[t];s.push(i<0?null:Ia(e,r[i],o[t+1],n.metadata.read))}i.matches=s}return i.matches}function Ta(t){const e=$t(),n=Yt(),r=ie();oe(r+1);const i=Oa(n,r);if(t.dirty&&ir(e)===i.metadata.isStatic){if(null===i.matches)t.reset([]);else{const o=i.crossesNgTemplate?function t(e,n,r,i){const o=e.queries.getByIndex(r),s=o.matches;if(null!==s){const a=Ca(e,n,o,r);for(let e=0;e<s.length;e+=2){const r=s[e];if(r>0)i.push(a[e/2]);else{const o=s[e+1],a=n[-r];for(let e=9;e<a.length;e++){const n=a[e];n[17]===n[3]&&t(n[1],n,o,i)}if(null!==a[5]){const e=a[5];for(let n=0;n<e.length;n++){const r=e[n];t(r[1],r,o,i)}}}}}return i}(n,e,r,[]):Ca(n,e,i,r);t.reset(o),t.notifyOnChanges()}return!0}return!1}function Sa(t,e,n,r){!function(t,e,n,r,i,o,s,a){t.firstCreatePass&&(function(t,e,n){null===t.queries&&(t.queries=new wa),t.queries.track(new _a(e,n))}(t,new ba(n,r,!1,i),s.index),function(t,e){const n=t.contentQueries||(t.contentQueries=[]);e!==(t.contentQueries.length?n[n.length-1]:-1)&&n.push(t.queries.length-1,e)}(t,a)),function(t,e){const n=new ma;!function(t,e,n,r){const i=di(e);i.push(n),t.firstCreatePass&&pi(t).push(r,i.length-1)}(t,e,n,n.destroy),null===e[5]&&(e[5]=new ya),e[5].queries.push(new va(n))}(t,e)}(Yt(),$t(),e,n,r,0,Jt(),t)}function Aa(){return t=$t(),e=ie(),t[5].queries[e].queryList;var t,e}function Oa(t,e){return t.queries.getByIndex(e)}function Na(t=I.Default){const e=zi(!0);if(null!=e||t&I.Optional)return e;throw new Error("No provider for ChangeDetectorRef!")}const ka=new tt("Application Initializer");let xa=(()=>{class t{constructor(t){this.appInits=t,this.initialized=!1,this.done=!1,this.donePromise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}runInitializers(){if(this.initialized)return;const t=[],e=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let n=0;n<this.appInits.length;n++){const e=this.appInits[n]();Do(e)&&t.push(e)}Promise.all(t).then(()=>{e()}).catch(t=>{this.reject(t)}),0===t.length&&e(),this.initialized=!0}}return t.\u0275fac=function(e){return new(e||t)(ht(ka,8))},t.\u0275prov=S({token:t,factory:t.\u0275fac}),t})();const Pa=new tt("AppId"),Ra={provide:Pa,useFactory:function(){return`${Da()}${Da()}${Da()}`},deps:[]};function Da(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const Ma=new tt("Platform Initializer"),La=new tt("Platform ID"),ja=new tt("appBootstrapListener");let Ua=(()=>{class t{log(t){console.log(t)}warn(t){console.warn(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=S({token:t,factory:t.\u0275fac}),t})();const Va=new tt("LocaleId"),Fa=new tt("DefaultCurrencyCode");class qa{constructor(t,e){this.ngModuleFactory=t,this.componentFactories=e}}const Ha=function(t){return new fa(t)},Ga=Ha,Ba=function(t){return Promise.resolve(Ha(t))},za=function(t){const e=Ha(t),n=Ue(Ut(t).declarations).reduce((t,e)=>{const n=Lt(e);return n&&t.push(new Js(n)),t},[]);return new qa(e,n)},Wa=za,Ka=function(t){return Promise.resolve(za(t))};let $a=(()=>{class t{constructor(){this.compileModuleSync=Ga,this.compileModuleAsync=Ba,this.compileModuleAndAllComponentsSync=Wa,this.compileModuleAndAllComponentsAsync=Ka}clearCache(){}clearCacheFor(t){}getModuleId(t){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=S({token:t,factory:t.\u0275fac}),t})();const Ya=new tt("compilerOptions"),Qa=(()=>Promise.resolve(0))();function Ja(t){"undefined"==typeof Zone?Qa.then(()=>{t&&t.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}class Xa{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:e=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new pa(!1),this.onMicrotaskEmpty=new pa(!1),this.onStable=new pa(!1),this.onError=new pa(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched(),this._nesting=0,this._outer=this._inner=Zone.current,Zone.wtfZoneSpec&&(this._inner=this._inner.fork(Zone.wtfZoneSpec)),Zone.TaskTrackingZoneSpec&&(this._inner=this._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(this._inner=this._inner.fork(Zone.longStackTraceZoneSpec)),this.shouldCoalesceEventChangeDetection=e,this.lastRequestAnimationFrameId=-1,this.nativeRequestAnimationFrame=function(){let t=W.requestAnimationFrame,e=W.cancelAnimationFrame;if("undefined"!=typeof Zone&&t&&e){const n=t[Zone.__symbol__("OriginalDelegate")];n&&(t=n);const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function(t){const e=!!t.shouldCoalesceEventChangeDetection&&t.nativeRequestAnimationFrame&&(()=>{!function(t){-1===t.lastRequestAnimationFrameId&&(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(W,()=>{t.lastRequestAnimationFrameId=-1,nu(t),eu(t)}),nu(t))}(t)});t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0,maybeDelayChangeDetection:e},onInvokeTask:(n,r,i,o,s,a)=>{try{return ru(t),n.invokeTask(i,o,s,a)}finally{e&&"eventTask"===o.type&&e(),iu(t)}},onInvoke:(e,n,r,i,o,s,a)=>{try{return ru(t),e.invoke(r,i,o,s,a)}finally{iu(t)}},onHasTask:(e,n,r,i)=>{e.hasTask(r,i),n===r&&("microTask"==i.change?(t._hasPendingMicrotasks=i.microTask,nu(t),eu(t)):"macroTask"==i.change&&(t.hasPendingMacrotasks=i.macroTask))},onHandleError:(e,n,r,i)=>(e.handleError(r,i),t.runOutsideAngular(()=>t.onError.emit(i)),!1)})}(this)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Xa.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(Xa.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(t,e,n){return this._inner.run(t,e,n)}runTask(t,e,n,r){const i=this._inner,o=i.scheduleEventTask("NgZoneEvent: "+r,t,tu,Za,Za);try{return i.runTask(o,e,n)}finally{i.cancelTask(o)}}runGuarded(t,e,n){return this._inner.runGuarded(t,e,n)}runOutsideAngular(t){return this._outer.run(t)}}function Za(){}const tu={};function eu(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function nu(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||t.shouldCoalesceEventChangeDetection&&-1!==t.lastRequestAnimationFrameId)}function ru(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function iu(t){t._nesting--,eu(t)}class ou{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new pa,this.onMicrotaskEmpty=new pa,this.onStable=new pa,this.onError=new pa}run(t,e,n){return t.apply(e,n)}runGuarded(t,e,n){return t.apply(e,n)}runOutsideAngular(t){return t()}runTask(t,e,n,r){return t.apply(e,n)}}let su=(()=>{class t{constructor(t){this._ngZone=t,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Xa.assertNotInAngularZone(),Ja(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Ja(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(this._didWork)}this._didWork=!1});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(e=>!e.updateCb||!e.updateCb(t)||(clearTimeout(e.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,e,n){let r=-1;e&&e>0&&(r=setTimeout(()=>{this._callbacks=this._callbacks.filter(t=>t.timeoutId!==r),t(this._didWork,this.getPendingTasks())},e)),this._callbacks.push({doneCb:t,timeoutId:r,updateCb:n})}whenStable(t,e,n){if(n&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/dist/task-tracking.js" loaded?');this.addCallback(t,e,n),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(t,e,n){return[]}}return t.\u0275fac=function(e){return new(e||t)(ht(Xa))},t.\u0275prov=S({token:t,factory:t.\u0275fac}),t})(),au=(()=>{class t{constructor(){this._applications=new Map,lu.addToWindow(this)}registerApplication(t,e){this._applications.set(t,e)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,e=!0){return lu.findTestabilityInTree(this,t,e)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=S({token:t,factory:t.\u0275fac}),t})();class uu{addToWindow(t){}findTestabilityInTree(t,e,n){return null}}function cu(t){lu=t}let hu,lu=new uu,fu=function(t,e,n){const r=new fa(n);if(0===ho.size)return Promise.resolve(r);const i=function(t){const e=[];return t.forEach(t=>t&&e.push(...t)),e}(t.get(Ya,[]).concat(e).map(t=>t.providers));if(0===i.length)return Promise.resolve(r);const o=function(){const t=W.ng;if(!t||!t.\u0275compilerFacade)throw new Error("Angular JIT compilation failed: '@angular/compiler' not loaded!\n  - JIT compilation is discouraged for production use-cases! Consider AOT mode instead.\n  - Did you bootstrap using '@angular/platform-browser-dynamic' or '@angular/platform-server'?\n  - Alternatively provide the compiler with 'import \"@angular/compiler\";' before bootstrapping.");return t.\u0275compilerFacade}(),s=uo.create({providers:i}).get(o.ResourceLoader);return function(t){const e=[],n=new Map;function r(t){let e=n.get(t);if(!e){const r=(t=>Promise.resolve(s.get(t)))(t);n.set(t,e=r.then(fo))}return e}return ho.forEach((t,n)=>{const i=[];t.templateUrl&&i.push(r(t.templateUrl).then(e=>{t.template=e}));const o=t.styleUrls,s=t.styles||(t.styles=[]),a=t.styles.length;o&&o.forEach((e,n)=>{s.push(""),i.push(r(e).then(r=>{s[a+n]=r,o.splice(o.indexOf(e),1),0==o.length&&(t.styleUrls=void 0)}))});const u=Promise.all(i).then(()=>function(t){lo.delete(t)}(n));e.push(u)}),ho=new Map,Promise.all(e).then(()=>{})}().then(()=>r)};const du=new tt("AllowMultipleToken");class pu{constructor(t,e){this.name=t,this.token=e}}function gu(t,e,n=[]){const r=`Platform: ${e}`,i=new tt(r);return(e=[])=>{let o=mu();if(!o||o.injector.get(du,!1))if(t)t(n.concat(e).concat({provide:i,useValue:!0}));else{const t=n.concat(e).concat({provide:i,useValue:!0},{provide:$i,useValue:"platform"});!function(t){if(hu&&!hu.destroyed&&!hu.injector.get(du,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");hu=t.get(vu);const e=t.get(Ma,null);e&&e.forEach(t=>t())}(uo.create({providers:t,name:r}))}return function(t){const e=mu();if(!e)throw new Error("No platform exists!");if(!e.injector.get(t,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return e}(i)}}function mu(){return hu&&!hu.destroyed?hu:null}let vu=(()=>{class t{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,e){const n=function(t,e){let n;return n="noop"===t?new ou:("zone.js"===t?void 0:t)||new Xa({enableLongStackTrace:In(),shouldCoalesceEventChangeDetection:e}),n}(e?e.ngZone:void 0,e&&e.ngZoneEventCoalescing||!1),r=[{provide:Xa,useValue:n}];return n.run(()=>{const e=uo.create({providers:r,parent:this.injector,name:t.moduleType.name}),i=t.create(e),o=i.injector.get(sn,null);if(!o)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return i.onDestroy(()=>wu(this._modules,i)),n.runOutsideAngular(()=>n.onError.subscribe({next:t=>{o.handleError(t)}})),function(t,e,n){try{const r=n();return Do(r)?r.catch(n=>{throw e.runOutsideAngular(()=>t.handleError(n)),n}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}(o,n,()=>{const t=i.injector.get(xa);return t.runInitializers(),t.donePromise.then(()=>(ca(i.injector.get(Va,"en-US")||"en-US"),this._moduleDoBootstrap(i),i))})})}bootstrapModule(t,e=[]){const n=yu({},e);return fu(this.injector,n,t).then(t=>this.bootstrapModuleFactory(t,n))}_moduleDoBootstrap(t){const e=t.injector.get(bu);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(t=>e.bootstrap(t));else{if(!t.instance.ngDoBootstrap)throw new Error(`The module ${L(t.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. `+"Please define one of these.");t.instance.ngDoBootstrap(e)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(t=>t.destroy()),this._destroyListeners.forEach(t=>t()),this._destroyed=!0}get destroyed(){return this._destroyed}}return t.\u0275fac=function(e){return new(e||t)(ht(uo))},t.\u0275prov=S({token:t,factory:t.\u0275fac}),t})();function yu(t,e){return Array.isArray(e)?e.reduce(yu,t):Object.assign(Object.assign({},t),e)}let bu=(()=>{class t{constructor(t,e,n,r,i,c){this._zone=t,this._console=e,this._injector=n,this._exceptionHandler=r,this._componentFactoryResolver=i,this._initStatus=c,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._enforceNoNewChanges=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._enforceNoNewChanges=In(),this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const l=new o.a(t=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{t.next(this._stable),t.complete()})}),f=new o.a(t=>{let e;this._zone.runOutsideAngular(()=>{e=this._zone.onStable.subscribe(()=>{Xa.assertNotInAngularZone(),Ja(()=>{this._stable||this._zone.hasPendingMacrotasks||this._zone.hasPendingMicrotasks||(this._stable=!0,t.next(!0))})})});const n=this._zone.onUnstable.subscribe(()=>{Xa.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{t.next(!1)}))});return()=>{e.unsubscribe(),n.unsubscribe()}});this.isStable=function(...t){let e=Number.POSITIVE_INFINITY,n=null,r=t[t.length-1];return Object(s.a)(r)?(n=t.pop(),t.length>1&&"number"==typeof t[t.length-1]&&(e=t.pop())):"number"==typeof r&&(e=t.pop()),null===n&&1===t.length&&t[0]instanceof o.a?t[0]:Object(a.a)(e)(Object(u.a)(t,n))}(l,f.pipe(t=>{return h()((e=m,function(t){let n;n="function"==typeof e?e:function(){return e};const r=Object.create(t,p);return r.source=t,r.subjectFactory=n,r})(t));var e}))}bootstrap(t,e){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let n;n=t instanceof ms?t:this._componentFactoryResolver.resolveComponentFactory(t),this.componentTypes.push(n.componentType);const r=n.isBoundToModule?void 0:this._injector.get(pt),i=n.create(uo.NULL,[],e||n.selector,r);i.onDestroy(()=>{this._unloadComponent(i)});const o=i.injector.get(su,null);return o&&i.injector.get(au).registerApplication(i.location.nativeElement,o),this._loadComponent(i),In()&&this._console.log("Angular is running in the development mode. Call enableProdMode() to enable the production mode."),i}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let t of this._views)t.detectChanges();if(this._enforceNoNewChanges)for(let t of this._views)t.checkNoChanges()}catch(t){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(t))}finally{this._runningTick=!1}}attachView(t){const e=t;this._views.push(e),e.attachToAppRef(this)}detachView(t){const e=t;wu(this._views,e),e.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(ja,[]).concat(this._bootstrapListeners).forEach(e=>e(t))}_unloadComponent(t){this.detachView(t.hostView),wu(this.components,t)}ngOnDestroy(){this._views.slice().forEach(t=>t.destroy())}get viewCount(){return this._views.length}}return t.\u0275fac=function(e){return new(e||t)(ht(Xa),ht(Ua),ht(uo),ht(sn),ht(ys),ht(xa))},t.\u0275prov=S({token:t,factory:t.\u0275fac}),t})();function wu(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class _u{}class Eu{}const Iu={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"};let Cu=(()=>{class t{constructor(t,e){this._compiler=t,this._config=e||Iu}load(t){return this.loadAndCompile(t)}loadAndCompile(t){let[e,r]=t.split("#");return void 0===r&&(r="default"),n("zn8P")(e).then(t=>t[r]).then(t=>Tu(t,e,r)).then(t=>this._compiler.compileModuleAsync(t))}loadFactory(t){let[e,r]=t.split("#"),i="NgFactory";return void 0===r&&(r="default",i=""),n("zn8P")(this._config.factoryPathPrefix+e+this._config.factoryPathSuffix).then(t=>t[r+i]).then(t=>Tu(t,e,r))}}return t.\u0275fac=function(e){return new(e||t)(ht($a),ht(Eu,8))},t.\u0275prov=S({token:t,factory:t.\u0275fac}),t})();function Tu(t,e,n){if(!t)throw new Error(`Cannot find '${n}' in '${e}'`);return t}const Su=function(t){return null},Au=gu(null,"core",[{provide:La,useValue:"unknown"},{provide:vu,deps:[uo]},{provide:au,deps:[]},{provide:Ua,deps:[]}]),Ou=[{provide:bu,useClass:bu,deps:[Xa,Ua,uo,sn,ys,xa]},{provide:Qs,deps:[Xa],useFactory:function(t){let e=[];return t.onStable.subscribe(()=>{for(;e.length;)e.pop()()}),function(t){e.push(t)}}},{provide:xa,useClass:xa,deps:[[new w,ka]]},{provide:$a,useClass:$a,deps:[]},Ra,{provide:Us,useFactory:function(){return qs},deps:[]},{provide:Vs,useFactory:function(){return Hs},deps:[]},{provide:Va,useFactory:function(t){return ca(t=t||"undefined"!=typeof $localize&&$localize.locale||"en-US"),t},deps:[[new b(Va),new w,new E]]},{provide:Fa,useValue:"USD"}];let Nu=(()=>{class t{constructor(t){}}return t.\u0275mod=xt({type:t}),t.\u0275inj=A({factory:function(e){return new(e||t)(ht(bu))},providers:Ou}),t})()},gRHU:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n("2fFW"),i=n("NJ4a");const o={closed:!0,next(t){},error(t){if(r.a.useDeprecatedSynchronousErrorHandling)throw t;Object(i.a)(t)},complete(){}}},jZKg:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n("HDdC"),i=n("quSY");function o(t,e){return new r.a(n=>{const r=new i.a;let o=0;return r.add(e.schedule((function(){o!==t.length?(n.next(t[o++]),n.closed||r.add(this.schedule())):n.complete()}))),r})}},kJWO:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));const r=(()=>"function"==typeof Symbol&&Symbol.observable||"@@observable")()},l7GE:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n("7o/Q");class i extends r.a{notifyNext(t,e,n,r,i){this.destination.next(e)}notifyError(t,e){this.destination.error(t)}notifyComplete(t){this.destination.complete()}}},lJxs:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n("7o/Q");function i(t,e){return function(n){if("function"!=typeof t)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new o(t,e))}}class o{constructor(t,e){this.project=t,this.thisArg=e}call(t,e){return e.subscribe(new s(t,this.project,this.thisArg))}}class s extends r.a{constructor(t,e,n){super(t),this.project=e,this.count=0,this.thisArg=n||this}_next(t){let e;try{e=this.project.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}},mCNh:function(t,e,n){"use strict";n.d(e,"a",(function(){return i})),n.d(e,"b",(function(){return o}));var r=n("KqfI");function i(...t){return o(t)}function o(t){return t?1===t.length?t[0]:function(e){return t.reduce((t,e)=>e(t),e)}:r.a}},mrSG:function(t,e,n){"use strict";n.r(e),n.d(e,"__extends",(function(){return i})),n.d(e,"__assign",(function(){return o})),n.d(e,"__rest",(function(){return s})),n.d(e,"__decorate",(function(){return a})),n.d(e,"__param",(function(){return u})),n.d(e,"__metadata",(function(){return c})),n.d(e,"__awaiter",(function(){return h})),n.d(e,"__generator",(function(){return l})),n.d(e,"__exportStar",(function(){return f})),n.d(e,"__values",(function(){return d})),n.d(e,"__read",(function(){return p})),n.d(e,"__spread",(function(){return g})),n.d(e,"__spreadArrays",(function(){return m})),n.d(e,"__await",(function(){return v})),n.d(e,"__asyncGenerator",(function(){return y})),n.d(e,"__asyncDelegator",(function(){return b})),n.d(e,"__asyncValues",(function(){return w})),n.d(e,"__makeTemplateObject",(function(){return _})),n.d(e,"__importStar",(function(){return E})),n.d(e,"__importDefault",(function(){return I})),n.d(e,"__classPrivateFieldGet",(function(){return C})),n.d(e,"__classPrivateFieldSet",(function(){return T}));var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function i(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var o=function(){return(o=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function s(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n}function a(t,e,n,r){var i,o=arguments.length,s=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,n,s):i(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s}function u(t,e){return function(n,r){e(n,r,t)}}function c(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)}function h(t,e,n,r){return new(n||(n=Promise))((function(i,o){function s(t){try{u(r.next(t))}catch(e){o(e)}}function a(t){try{u(r.throw(t))}catch(e){o(e)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}u((r=r.apply(t,e||[])).next())}))}function l(t,e){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(a){o=[6,a],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}function f(t,e){for(var n in t)e.hasOwnProperty(n)||(e[n]=t[n])}function d(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function p(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(a){i={error:a}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s}function g(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(p(arguments[e]));return t}function m(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],s=0,a=o.length;s<a;s++,i++)r[i]=o[s];return r}function v(t){return this instanceof v?(this.v=t,this):new v(t)}function y(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=n.apply(t,e||[]),o=[];return r={},s("next"),s("throw"),s("return"),r[Symbol.asyncIterator]=function(){return this},r;function s(t){i[t]&&(r[t]=function(e){return new Promise((function(n,r){o.push([t,e,n,r])>1||a(t,e)}))})}function a(t,e){try{(n=i[t](e)).value instanceof v?Promise.resolve(n.value.v).then(u,c):h(o[0][2],n)}catch(r){h(o[0][3],r)}var n}function u(t){a("next",t)}function c(t){a("throw",t)}function h(t,e){t(e),o.shift(),o.length&&a(o[0][0],o[0][1])}}function b(t){var e,n;return e={},r("next"),r("throw",(function(t){throw t})),r("return"),e[Symbol.iterator]=function(){return this},e;function r(r,i){e[r]=t[r]?function(e){return(n=!n)?{value:v(t[r](e)),done:"return"===r}:i?i(e):e}:i}}function w(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e,n=t[Symbol.asyncIterator];return n?n.call(t):(t=d(t),e={},r("next"),r("throw"),r("return"),e[Symbol.asyncIterator]=function(){return this},e);function r(n){e[n]=t[n]&&function(e){return new Promise((function(r,i){!function(t,e,n,r){Promise.resolve(r).then((function(e){t({value:e,done:n})}),e)}(r,i,(e=t[n](e)).done,e.value)}))}}}function _(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}function E(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function I(t){return t&&t.__esModule?t:{default:t}}function C(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)}function T(t,e,n){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,n),n}},n6bG:function(t,e,n){"use strict";function r(t){return"function"==typeof t}n.d(e,"a",(function(){return r}))},ngJS:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));const r=t=>e=>{for(let n=0,r=t.length;n<r&&!e.closed;n++)e.next(t[n]);e.complete()}},ofXK:function(t,e,n){"use strict";n.d(e,"a",(function(){return w})),n.d(e,"b",(function(){return D})),n.d(e,"c",(function(){return u})),n.d(e,"d",(function(){return E})),n.d(e,"e",(function(){return l})),n.d(e,"f",(function(){return I})),n.d(e,"g",(function(){return y})),n.d(e,"h",(function(){return x})),n.d(e,"i",(function(){return _})),n.d(e,"j",(function(){return c})),n.d(e,"k",(function(){return j})),n.d(e,"l",(function(){return L})),n.d(e,"m",(function(){return a})),n.d(e,"n",(function(){return M})),n.d(e,"o",(function(){return o})),n.d(e,"p",(function(){return k})),n.d(e,"q",(function(){return s}));var r=n("fXoL");let i=null;function o(){return i}function s(t){i||(i=t)}class a{}const u=new r.q("DocumentToken");let c=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(r.Gb)({factory:h,token:t,providedIn:"platform"}),t})();function h(){return Object(r.Rb)(f)}const l=new r.q("Location Initialized");let f=(()=>{class t extends c{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=o().getLocation(),this._history=o().getHistory()}getBaseHrefFromDOM(){return o().getBaseHref(this._doc)}onPopState(t){o().getGlobalEventTarget(this._doc,"window").addEventListener("popstate",t,!1)}onHashChange(t){o().getGlobalEventTarget(this._doc,"window").addEventListener("hashchange",t,!1)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,e,n){d()?this._history.pushState(t,e,n):this.location.hash=n}replaceState(t,e,n){d()?this._history.replaceState(t,e,n):this.location.hash=n}forward(){this._history.forward()}back(){this._history.back()}getState(){return this._history.state}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(u))},t.\u0275prov=Object(r.Gb)({factory:p,token:t,providedIn:"platform"}),t})();function d(){return!!window.history.pushState}function p(){return new f(Object(r.Rb)(u))}function g(t,e){if(0==t.length)return e;if(0==e.length)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e}function m(t){const e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)}function v(t){return t&&"?"!==t[0]?"?"+t:t}let y=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(r.Gb)({factory:b,token:t,providedIn:"root"}),t})();function b(t){const e=Object(r.Rb)(u).location;return new _(Object(r.Rb)(c),e&&e.origin||"")}const w=new r.q("appBaseHref");let _=(()=>{class t extends y{constructor(t,e){if(super(),this._platformLocation=t,null==e&&(e=this._platformLocation.getBaseHrefFromDOM()),null==e)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=e}onPopState(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return g(this._baseHref,t)}path(t=!1){const e=this._platformLocation.pathname+v(this._platformLocation.search),n=this._platformLocation.hash;return n&&t?`${e}${n}`:e}pushState(t,e,n,r){const i=this.prepareExternalUrl(n+v(r));this._platformLocation.pushState(t,e,i)}replaceState(t,e,n,r){const i=this.prepareExternalUrl(n+v(r));this._platformLocation.replaceState(t,e,i)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(c),r.Rb(w,8))},t.\u0275prov=r.Gb({token:t,factory:t.\u0275fac}),t})(),E=(()=>{class t extends y{constructor(t,e){super(),this._platformLocation=t,this._baseHref="",null!=e&&(this._baseHref=e)}onPopState(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)}getBaseHref(){return this._baseHref}path(t=!1){let e=this._platformLocation.hash;return null==e&&(e="#"),e.length>0?e.substring(1):e}prepareExternalUrl(t){const e=g(this._baseHref,t);return e.length>0?"#"+e:e}pushState(t,e,n,r){let i=this.prepareExternalUrl(n+v(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.pushState(t,e,i)}replaceState(t,e,n,r){let i=this.prepareExternalUrl(n+v(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.replaceState(t,e,i)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(c),r.Rb(w,8))},t.\u0275prov=r.Gb({token:t,factory:t.\u0275fac}),t})(),I=(()=>{class t{constructor(t,e){this._subject=new r.n,this._urlChangeListeners=[],this._platformStrategy=t;const n=this._platformStrategy.getBaseHref();this._platformLocation=e,this._baseHref=m(T(n)),this._platformStrategy.onPopState(t=>{this._subject.emit({url:this.path(!0),pop:!0,state:t.state,type:t.type})})}path(t=!1){return this.normalize(this._platformStrategy.path(t))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(t,e=""){return this.path()==this.normalize(t+v(e))}normalize(e){return t.stripTrailingSlash(function(t,e){return t&&e.startsWith(t)?e.substring(t.length):e}(this._baseHref,T(e)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)}go(t,e="",n=null){this._platformStrategy.pushState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+v(e)),n)}replaceState(t,e="",n=null){this._platformStrategy.replaceState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+v(e)),n)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}onUrlChange(t){this._urlChangeListeners.push(t),this.subscribe(t=>{this._notifyUrlChangeListeners(t.url,t.state)})}_notifyUrlChangeListeners(t="",e){this._urlChangeListeners.forEach(n=>n(t,e))}subscribe(t,e,n){return this._subject.subscribe({next:t,error:e,complete:n})}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(y),r.Rb(c))},t.normalizeQueryParams=v,t.joinWithSlash=g,t.stripTrailingSlash=m,t.\u0275prov=Object(r.Gb)({factory:C,token:t,providedIn:"root"}),t})();function C(){return new I(Object(r.Rb)(y),Object(r.Rb)(c))}function T(t){return t.replace(/\/index.html$/,"")}const S=function(){var t={Zero:0,One:1,Two:2,Few:3,Many:4,Other:5};return t[t.Zero]="Zero",t[t.One]="One",t[t.Two]="Two",t[t.Few]="Few",t[t.Many]="Many",t[t.Other]="Other",t}(),A=r.mb;class O{}let N=(()=>{class t extends O{constructor(t){super(),this.locale=t}getPluralCategory(t,e){switch(A(e||this.locale)(t)){case S.Zero:return"zero";case S.One:return"one";case S.Two:return"two";case S.Few:return"few";case S.Many:return"many";default:return"other"}}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(r.u))},t.\u0275prov=r.Gb({token:t,factory:t.\u0275fac}),t})();function k(t,e){e=encodeURIComponent(e);for(const n of t.split(";")){const t=n.indexOf("="),[r,i]=-1==t?[n,""]:[n.slice(0,t),n.slice(t+1)];if(r.trim()===e)return decodeURIComponent(i)}return null}let x=(()=>{class t{constructor(t,e){this._viewContainer=t,this._context=new P,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=e}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){R("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){R("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,e){return!0}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(r.O),r.Kb(r.K))},t.\u0275dir=r.Fb({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),t})();class P{constructor(){this.$implicit=null,this.ngIf=null}}function R(t,e){if(e&&!e.createEmbeddedView)throw new Error(`${t} must be a TemplateRef, but received '${Object(r.vb)(e)}'.`)}let D=(()=>{class t{}return t.\u0275mod=r.Ib({type:t}),t.\u0275inj=r.Hb({factory:function(e){return new(e||t)},providers:[{provide:O,useClass:N}]}),t})();const M="browser";function L(t){return"server"===t}let j=(()=>{class t{}return t.\u0275prov=Object(r.Gb)({token:t,providedIn:"root",factory:()=>new U(Object(r.Rb)(u),window,Object(r.Rb)(r.m))}),t})();class U{constructor(t,e,n){this.document=t,this.window=e,this.errorHandler=n,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportScrollRestoration()?[this.window.scrollX,this.window.scrollY]:[0,0]}scrollToPosition(t){this.supportScrollRestoration()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(this.supportScrollRestoration()){t=this.window.CSS&&this.window.CSS.escape?this.window.CSS.escape(t):t.replace(/(\"|\'\ |:|\.|\[|\]|,|=)/g,"\\$1");try{const e=this.document.querySelector(`#${t}`);if(e)return void this.scrollToElement(e);const n=this.document.querySelector(`[name='${t}']`);if(n)return void this.scrollToElement(n)}catch(e){this.errorHandler.handleError(e)}}}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}scrollToElement(t){const e=t.getBoundingClientRect(),n=e.left+this.window.pageXOffset,r=e.top+this.window.pageYOffset,i=this.offset();this.window.scrollTo(n-i[0],r-i[1])}supportScrollRestoration(){try{return!!this.window&&!!this.window.scrollTo}catch(t){return!1}}}},pLZG:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n("7o/Q");function i(t,e){return function(n){return n.lift(new o(t,e))}}class o{constructor(t,e){this.predicate=t,this.thisArg=e}call(t,e){return e.subscribe(new s(t,this.predicate,this.thisArg))}}class s extends r.a{constructor(t,e,n){super(t),this.predicate=e,this.thisArg=n,this.count=0}_next(t){let e;try{e=this.predicate.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}e&&this.destination.next(t)}}},"q/0M":function(t,e,n){"use strict";function r(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],s=0,a=o.length;s<a;s++,i++)r[i]=o[s];return r}n.r(e),n.d(e,"LogLevel",(function(){return o})),n.d(e,"Logger",(function(){return u})),n.d(e,"setLogLevel",(function(){return c}));var i=[],o=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}({}),s=o.INFO,a=function(t,e){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];if(!(e<t.logLevel)){var s=(new Date).toISOString();switch(e){case o.DEBUG:case o.VERBOSE:console.log.apply(console,r(["["+s+"]  "+t.name+":"],n));break;case o.INFO:console.info.apply(console,r(["["+s+"]  "+t.name+":"],n));break;case o.WARN:console.warn.apply(console,r(["["+s+"]  "+t.name+":"],n));break;case o.ERROR:console.error.apply(console,r(["["+s+"]  "+t.name+":"],n));break;default:throw new Error("Attempted to log a message with an invalid logType (value: "+e+")")}}},u=function(){function t(t){this.name=t,this._logLevel=s,this._logHandler=a,i.push(this)}return Object.defineProperty(t.prototype,"logLevel",{get:function(){return this._logLevel},set:function(t){if(!(t in o))throw new TypeError("Invalid value assigned to `logLevel`");this._logLevel=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"logHandler",{get:function(){return this._logHandler},set:function(t){if("function"!=typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t},enumerable:!0,configurable:!0}),t.prototype.debug=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._logHandler.apply(this,r([this,o.DEBUG],t))},t.prototype.log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._logHandler.apply(this,r([this,o.VERBOSE],t))},t.prototype.info=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._logHandler.apply(this,r([this,o.INFO],t))},t.prototype.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._logHandler.apply(this,r([this,o.WARN],t))},t.prototype.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._logHandler.apply(this,r([this,o.ERROR],t))},t}();function c(t){i.forEach((function(e){e.logLevel=t}))}},quSY:function(t,e,n){"use strict";var r=n("DH7j"),i=n("XoHu"),o=n("n6bG");const s=(()=>{function t(t){return Error.call(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((t,e)=>`${e+1}) ${t.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t,this}return t.prototype=Object.create(Error.prototype),t})();n.d(e,"a",(function(){return a}));let a=(()=>{class t{constructor(t){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,t&&(this._unsubscribe=t)}unsubscribe(){let e;if(this.closed)return;let{_parentOrParents:n,_unsubscribe:a,_subscriptions:c}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,n instanceof t)n.remove(this);else if(null!==n)for(let t=0;t<n.length;++t)n[t].remove(this);if(Object(o.a)(a))try{a.call(this)}catch(h){e=h instanceof s?u(h.errors):[h]}if(Object(r.a)(c)){let t=-1,n=c.length;for(;++t<n;){const n=c[t];if(Object(i.a)(n))try{n.unsubscribe()}catch(h){e=e||[],h instanceof s?e=e.concat(u(h.errors)):e.push(h)}}}if(e)throw new s(e)}add(e){let n=e;if(!e)return t.EMPTY;switch(typeof e){case"function":n=new t(e);case"object":if(n===this||n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof t)){const e=n;n=new t,n._subscriptions=[e]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}let{_parentOrParents:r}=n;if(null===r)n._parentOrParents=this;else if(r instanceof t){if(r===this)return n;n._parentOrParents=[r,this]}else{if(-1!==r.indexOf(this))return n;r.push(this)}const i=this._subscriptions;return null===i?this._subscriptions=[n]:i.push(n),n}remove(t){const e=this._subscriptions;if(e){const n=e.indexOf(t);-1!==n&&e.splice(n,1)}}}var e;return t.EMPTY=((e=new t).closed=!0,e),t})();function u(t){return t.reduce((t,e)=>t.concat(e instanceof s?e.errors:e),[])}},tyNb:function(t,e,n){"use strict";var r=n("ofXK"),i=n("fXoL"),o=n("LRne"),s=n("Cfvw"),a=n("2Vo4"),u=n("HDdC");const c=(()=>{function t(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return t.prototype=Object.create(Error.prototype),t})();var h=n("z+Ro"),l=n("DH7j"),f=n("l7GE"),d=n("ZUHj"),p=n("yCtX");const g={};class m{constructor(t){this.resultSelector=t}call(t,e){return e.subscribe(new v(t,this.resultSelector))}}class v extends f.a{constructor(t,e){super(t),this.resultSelector=e,this.active=0,this.values=[],this.observables=[]}_next(t){this.values.push(g),this.observables.push(t)}_complete(){const t=this.observables,e=t.length;if(0===e)this.destination.complete();else{this.active=e,this.toRespond=e;for(let n=0;n<e;n++){const e=t[n];this.add(Object(d.a)(this,e,e,n))}}}notifyComplete(t){0==(this.active-=1)&&this.destination.complete()}notifyNext(t,e,n,r,i){const o=this.values,s=this.toRespond?o[n]===g?--this.toRespond:this.toRespond:0;o[n]=e,0===s&&(this.resultSelector?this._tryResultSelector(o):this.destination.next(o.slice()))}_tryResultSelector(t){let e;try{e=this.resultSelector.apply(this,t)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}var y=n("EY2u");function b(t){return new u.a(e=>{let n;try{n=t()}catch(r){return void e.error(r)}return(n?Object(s.a)(n):Object(y.b)()).subscribe(e)})}var w=n("XNiG"),_=n("lJxs"),E=n("bHdf");function I(){return Object(E.a)(1)}var C=n("pLZG"),T=n("7o/Q");const S=(()=>{function t(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return t.prototype=Object.create(Error.prototype),t})();function A(t){return function(e){return 0===t?Object(y.b)():e.lift(new O(t))}}class O{constructor(t){if(this.total=t,this.total<0)throw new S}call(t,e){return e.subscribe(new N(t,this.total))}}class N extends T.a{constructor(t,e){super(t),this.total=e,this.ring=new Array,this.count=0}_next(t){const e=this.ring,n=this.total,r=this.count++;e.length<n?e.push(t):e[r%n]=t}_complete(){const t=this.destination;let e=this.count;if(e>0){const n=this.count>=this.total?this.total:this.count,r=this.ring;for(let i=0;i<n;i++){const i=e++%n;t.next(r[i])}}t.complete()}}function k(t=R){return e=>e.lift(new x(t))}class x{constructor(t){this.errorFactory=t}call(t,e){return e.subscribe(new P(t,this.errorFactory))}}class P extends T.a{constructor(t,e){super(t),this.errorFactory=e,this.hasValue=!1}_next(t){this.hasValue=!0,this.destination.next(t)}_complete(){if(this.hasValue)return this.destination.complete();{let e;try{e=this.errorFactory()}catch(t){e=t}this.destination.error(e)}}}function R(){return new c}function D(t=null){return e=>e.lift(new M(t))}class M{constructor(t){this.defaultValue=t}call(t,e){return e.subscribe(new L(t,this.defaultValue))}}class L extends T.a{constructor(t,e){super(t),this.defaultValue=e,this.isEmpty=!0}_next(t){this.isEmpty=!1,this.destination.next(t)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}var j=n("SpAZ");function U(t,e){const n=arguments.length>=2;return r=>r.pipe(t?Object(C.a)((e,n)=>t(e,n,r)):j.a,A(1),n?D(e):k(()=>new c))}var V=n("51Dv");function F(t){return function(e){const n=new q(t),r=e.lift(n);return n.caught=r}}class q{constructor(t){this.selector=t}call(t,e){return e.subscribe(new H(t,this.selector,this.caught))}}class H extends f.a{constructor(t,e,n){super(t),this.selector=e,this.caught=n}error(t){if(!this.isStopped){let n;try{n=this.selector(t,this.caught)}catch(e){return void super.error(e)}this._unsubscribeAndRecycle();const r=new V.a(this,void 0,void 0);this.add(r);const i=Object(d.a)(this,n,void 0,void 0,r);i!==r&&this.add(i)}}}function G(t){return e=>0===t?Object(y.b)():e.lift(new B(t))}class B{constructor(t){if(this.total=t,this.total<0)throw new S}call(t,e){return e.subscribe(new z(t,this.total))}}class z extends T.a{constructor(t,e){super(t),this.total=e,this.count=0}_next(t){const e=this.total,n=++this.count;n<=e&&(this.destination.next(t),n===e&&(this.destination.complete(),this.unsubscribe()))}}function W(t,e){const n=arguments.length>=2;return r=>r.pipe(t?Object(C.a)((e,n)=>t(e,n,r)):j.a,G(1),n?D(e):k(()=>new c))}var K=n("5+tZ");class ${constructor(t,e,n){this.predicate=t,this.thisArg=e,this.source=n}call(t,e){return e.subscribe(new Y(t,this.predicate,this.thisArg,this.source))}}class Y extends T.a{constructor(t,e,n,r){super(t),this.predicate=e,this.thisArg=n,this.source=r,this.index=0,this.thisArg=n||this}notifyComplete(t){this.destination.next(t),this.destination.complete()}_next(t){let e=!1;try{e=this.predicate.call(this.thisArg,t,this.index++,this.source)}catch(n){return void this.destination.error(n)}e||this.notifyComplete(!1)}_complete(){this.notifyComplete(!0)}}var Q=n("eIep");function J(...t){return I()(Object(o.a)(...t))}var X=n("Kqap");function Z(t,e){return Object(K.a)(t,e,1)}var tt=n("mCNh"),et=n("vkgz"),nt=n("quSY");class rt{constructor(t){this.callback=t}call(t,e){return e.subscribe(new it(t,this.callback))}}class it extends T.a{constructor(t,e){super(t),this.add(new nt.a(e))}}n.d(e,"a",(function(){return _n})),n.d(e,"b",(function(){return Tn})),n.d(e,"c",(function(){return In})),n.d(e,"d",(function(){return Un})),n.d(e,"e",(function(){return On}));class ot{constructor(t,e){this.id=t,this.url=e}}class st extends ot{constructor(t,e,n="imperative",r=null){super(t,e),this.navigationTrigger=n,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class at extends ot{constructor(t,e,n){super(t,e),this.urlAfterRedirects=n}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class ut extends ot{constructor(t,e,n){super(t,e),this.reason=n}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class ct extends ot{constructor(t,e,n){super(t,e),this.error=n}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class ht extends ot{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class lt extends ot{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ft extends ot{constructor(t,e,n,r,i){super(t,e),this.urlAfterRedirects=n,this.state=r,this.shouldActivate=i}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class dt extends ot{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class pt extends ot{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class gt{constructor(t){this.route=t}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class mt{constructor(t){this.route=t}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class vt{constructor(t){this.snapshot=t}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class yt{constructor(t){this.snapshot=t}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class bt{constructor(t){this.snapshot=t}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class wt{constructor(t){this.snapshot=t}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class _t{constructor(t,e,n){this.routerEvent=t,this.position=e,this.anchor=n}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}let Et=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=i.Eb({type:t,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,e){1&t&&i.Lb(0,"router-outlet")},directives:function(){return[On]},encapsulation:2}),t})();class It{constructor(t){this.params=t||{}}has(t){return this.params.hasOwnProperty(t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function Ct(t){return new It(t)}function Tt(t){const e=Error("NavigationCancelingError: "+t);return e.ngNavigationCancelingError=!0,e}function St(t,e,n){const r=n.path.split("/");if(r.length>t.length)return null;if("full"===n.pathMatch&&(e.hasChildren()||r.length<t.length))return null;const i={};for(let o=0;o<r.length;o++){const e=r[o],n=t[o];if(e.startsWith(":"))i[e.substring(1)]=n;else if(e!==n.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}class At{constructor(t,e){this.routes=t,this.module=e}}function Ot(t,e=""){for(let n=0;n<t.length;n++){const r=t[n];Nt(r,kt(e,r))}}function Nt(t,e){if(!t)throw new Error(`\n      Invalid configuration of route '${e}': Encountered undefined route.\n      The reason might be an extra comma.\n\n      Example:\n      const routes: Routes = [\n        { path: '', redirectTo: '/dashboard', pathMatch: 'full' },\n        { path: 'dashboard',  component: DashboardComponent },, << two commas\n        { path: 'detail/:id', component: HeroDetailComponent }\n      ];\n    `);if(Array.isArray(t))throw new Error(`Invalid configuration of route '${e}': Array cannot be specified`);if(!t.component&&!t.children&&!t.loadChildren&&t.outlet&&"primary"!==t.outlet)throw new Error(`Invalid configuration of route '${e}': a componentless route without children or loadChildren cannot have a named outlet set`);if(t.redirectTo&&t.children)throw new Error(`Invalid configuration of route '${e}': redirectTo and children cannot be used together`);if(t.redirectTo&&t.loadChildren)throw new Error(`Invalid configuration of route '${e}': redirectTo and loadChildren cannot be used together`);if(t.children&&t.loadChildren)throw new Error(`Invalid configuration of route '${e}': children and loadChildren cannot be used together`);if(t.redirectTo&&t.component)throw new Error(`Invalid configuration of route '${e}': redirectTo and component cannot be used together`);if(t.path&&t.matcher)throw new Error(`Invalid configuration of route '${e}': path and matcher cannot be used together`);if(void 0===t.redirectTo&&!t.component&&!t.children&&!t.loadChildren)throw new Error(`Invalid configuration of route '${e}'. One of the following must be provided: component, redirectTo, children or loadChildren`);if(void 0===t.path&&void 0===t.matcher)throw new Error(`Invalid configuration of route '${e}': routes must have either a path or a matcher specified`);if("string"==typeof t.path&&"/"===t.path.charAt(0))throw new Error(`Invalid configuration of route '${e}': path cannot start with a slash`);if(""===t.path&&void 0!==t.redirectTo&&void 0===t.pathMatch)throw new Error(`Invalid configuration of route '{path: "${e}", redirectTo: "${t.redirectTo}"}': please provide 'pathMatch'. The default value of 'pathMatch' is 'prefix', but often the intent is to use 'full'.`);if(void 0!==t.pathMatch&&"full"!==t.pathMatch&&"prefix"!==t.pathMatch)throw new Error(`Invalid configuration of route '${e}': pathMatch can only be set to 'prefix' or 'full'`);t.children&&Ot(t.children,e)}function kt(t,e){return e?t||e.path?t&&!e.path?`${t}/`:!t&&e.path?e.path:`${t}/${e.path}`:"":t}function xt(t){const e=t.children&&t.children.map(xt),n=e?Object.assign(Object.assign({},t),{children:e}):Object.assign({},t);return!n.component&&(e||n.loadChildren)&&n.outlet&&"primary"!==n.outlet&&(n.component=Et),n}function Pt(t,e){const n=Object.keys(t),r=Object.keys(e);if(!n||!r||n.length!=r.length)return!1;let i;for(let o=0;o<n.length;o++)if(i=n[o],!Rt(t[i],e[i]))return!1;return!0}function Rt(t,e){return Array.isArray(t)&&Array.isArray(e)?t.length==e.length&&t.every(t=>e.indexOf(t)>-1):t===e}function Dt(t){return Array.prototype.concat.apply([],t)}function Mt(t){return t.length>0?t[t.length-1]:null}function Lt(t,e){for(const n in t)t.hasOwnProperty(n)&&e(t[n],n)}function jt(t){return Object(i.qb)(t)?t:Object(i.rb)(t)?Object(s.a)(Promise.resolve(t)):Object(o.a)(t)}function Ut(t,e,n){return n?function(t,e){return Pt(t,e)}(t.queryParams,e.queryParams)&&function t(e,n){if(!Ht(e.segments,n.segments))return!1;if(e.numberOfChildren!==n.numberOfChildren)return!1;for(const r in n.children){if(!e.children[r])return!1;if(!t(e.children[r],n.children[r]))return!1}return!0}(t.root,e.root):function(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>Rt(t[n],e[n]))}(t.queryParams,e.queryParams)&&function t(e,n){return function e(n,r,i){if(n.segments.length>i.length)return!!Ht(n.segments.slice(0,i.length),i)&&!r.hasChildren();if(n.segments.length===i.length){if(!Ht(n.segments,i))return!1;for(const e in r.children){if(!n.children[e])return!1;if(!t(n.children[e],r.children[e]))return!1}return!0}{const t=i.slice(0,n.segments.length),o=i.slice(n.segments.length);return!!Ht(n.segments,t)&&!!n.children.primary&&e(n.children.primary,r,o)}}(e,n,n.segments)}(t.root,e.root)}class Vt{constructor(t,e,n){this.root=t,this.queryParams=e,this.fragment=n}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Ct(this.queryParams)),this._queryParamMap}toString(){return Wt.serialize(this)}}class Ft{constructor(t,e){this.segments=t,this.children=e,this.parent=null,Lt(e,(t,e)=>t.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Kt(this)}}class qt{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=Ct(this.parameters)),this._parameterMap}toString(){return Zt(this)}}function Ht(t,e){return t.length===e.length&&t.every((t,n)=>t.path===e[n].path)}function Gt(t,e){let n=[];return Lt(t.children,(t,r)=>{"primary"===r&&(n=n.concat(e(t,r)))}),Lt(t.children,(t,r)=>{"primary"!==r&&(n=n.concat(e(t,r)))}),n}class Bt{}class zt{parse(t){const e=new ie(t);return new Vt(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){var e;return`${`/${function t(e,n){if(!e.hasChildren())return Kt(e);if(n){const n=e.children.primary?t(e.children.primary,!1):"",r=[];return Lt(e.children,(e,n)=>{"primary"!==n&&r.push(`${n}:${t(e,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}{const n=Gt(e,(n,r)=>"primary"===r?[t(e.children.primary,!1)]:[`${r}:${t(n,!1)}`]);return`${Kt(e)}/(${n.join("//")})`}}(t.root,!0)}`}${function(t){const e=Object.keys(t).map(e=>{const n=t[e];return Array.isArray(n)?n.map(t=>`${Yt(e)}=${Yt(t)}`).join("&"):`${Yt(e)}=${Yt(n)}`});return e.length?`?${e.join("&")}`:""}(t.queryParams)}${"string"==typeof t.fragment?`#${e=t.fragment,encodeURI(e)}`:""}`}}const Wt=new zt;function Kt(t){return t.segments.map(t=>Zt(t)).join("/")}function $t(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Yt(t){return $t(t).replace(/%3B/gi,";")}function Qt(t){return $t(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Jt(t){return decodeURIComponent(t)}function Xt(t){return Jt(t.replace(/\+/g,"%20"))}function Zt(t){return`${Qt(t.path)}${e=t.parameters,Object.keys(e).map(t=>`;${Qt(t)}=${Qt(e[t])}`).join("")}`;var e}const te=/^[^\/()?;=#]+/;function ee(t){const e=t.match(te);return e?e[0]:""}const ne=/^[^=?&#]+/,re=/^[^?&#]+/;class ie{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Ft([],{}):new Ft([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(n.primary=new Ft(t,e)),n}parseSegment(){const t=ee(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(t),new qt(Jt(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=ee(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){const t=ee(this.remaining);t&&(n=t,this.capture(n))}t[Jt(e)]=Jt(n)}parseQueryParam(t){const e=function(t){const e=t.match(ne);return e?e[0]:""}(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){const t=function(t){const e=t.match(re);return e?e[0]:""}(this.remaining);t&&(n=t,this.capture(n))}const r=Xt(e),i=Xt(n);if(t.hasOwnProperty(r)){let e=t[r];Array.isArray(e)||(e=[e],t[r]=e),e.push(i)}else t[r]=i}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const n=ee(this.remaining),r=this.remaining[n.length];if("/"!==r&&")"!==r&&";"!==r)throw new Error(`Cannot parse url '${this.url}'`);let i=void 0;n.indexOf(":")>-1?(i=n.substr(0,n.indexOf(":")),this.capture(i),this.capture(":")):t&&(i="primary");const o=this.parseChildren();e[i]=1===Object.keys(o).length?o.primary:new Ft([],o),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new Error(`Expected "${t}".`)}}class oe{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=se(t,this._root);return e?e.children.map(t=>t.value):[]}firstChild(t){const e=se(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=ae(t,this._root);return e.length<2?[]:e[e.length-2].children.map(t=>t.value).filter(e=>e!==t)}pathFromRoot(t){return ae(t,this._root).map(t=>t.value)}}function se(t,e){if(t===e.value)return e;for(const n of e.children){const e=se(t,n);if(e)return e}return null}function ae(t,e){if(t===e.value)return[e];for(const n of e.children){const r=ae(t,n);if(r.length)return r.unshift(e),r}return[]}class ue{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function ce(t){const e={};return t&&t.children.forEach(t=>e[t.value.outlet]=t),e}class he extends oe{constructor(t,e){super(t),this.snapshot=e,me(this,t)}toString(){return this.snapshot.toString()}}function le(t,e){const n=function(t,e){const n=new pe([],{},{},"",{},"primary",e,null,t.root,-1,{});return new ge("",new ue(n,[]))}(t,e),r=new a.a([new qt("",{})]),i=new a.a({}),o=new a.a({}),s=new a.a({}),u=new a.a(""),c=new fe(r,i,s,u,o,"primary",e,n.root);return c.snapshot=n.root,new he(new ue(c,[]),n)}class fe{constructor(t,e,n,r,i,o,s,a){this.url=t,this.params=e,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=o,this.component=s,this._futureSnapshot=a}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(Object(_.a)(t=>Ct(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(Object(_.a)(t=>Ct(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function de(t,e="emptyOnly"){const n=t.pathFromRoot;let r=0;if("always"!==e)for(r=n.length-1;r>=1;){const t=n[r],e=n[r-1];if(t.routeConfig&&""===t.routeConfig.path)r--;else{if(e.component)break;r--}}return function(t){return t.reduce((t,e)=>({params:Object.assign(Object.assign({},t.params),e.params),data:Object.assign(Object.assign({},t.data),e.data),resolve:Object.assign(Object.assign({},t.resolve),e._resolvedData)}),{params:{},data:{},resolve:{}})}(n.slice(r))}class pe{constructor(t,e,n,r,i,o,s,a,u,c,h){this.url=t,this.params=e,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=o,this.component=s,this.routeConfig=a,this._urlSegment=u,this._lastPathIndex=c,this._resolve=h}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Ct(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Ct(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(t=>t.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class ge extends oe{constructor(t,e){super(e),this.url=t,me(this,e)}toString(){return ve(this._root)}}function me(t,e){e.value._routerState=t,e.children.forEach(e=>me(t,e))}function ve(t){const e=t.children.length>0?` { ${t.children.map(ve).join(", ")} } `:"";return`${t.value}${e}`}function ye(t){if(t.snapshot){const e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,Pt(e.queryParams,n.queryParams)||t.queryParams.next(n.queryParams),e.fragment!==n.fragment&&t.fragment.next(n.fragment),Pt(e.params,n.params)||t.params.next(n.params),function(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!Pt(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.url.next(n.url),Pt(e.data,n.data)||t.data.next(n.data)}else t.snapshot=t._futureSnapshot,t.data.next(t._futureSnapshot.data)}function be(t,e){var n,r;return Pt(t.params,e.params)&&Ht(n=t.url,r=e.url)&&n.every((t,e)=>Pt(t.parameters,r[e].parameters))&&!(!t.parent!=!e.parent)&&(!t.parent||be(t.parent,e.parent))}function we(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function _e(t,e,n,r,i){let o={};return r&&Lt(r,(t,e)=>{o[e]=Array.isArray(t)?t.map(t=>`${t}`):`${t}`}),new Vt(n.root===t?e:function t(e,n,r){const i={};return Lt(e.children,(e,o)=>{i[o]=e===n?r:t(e,n,r)}),new Ft(e.segments,i)}(n.root,t,e),o,i)}class Ee{constructor(t,e,n){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=n,t&&n.length>0&&we(n[0]))throw new Error("Root segment cannot have matrix parameters");const r=n.find(t=>"object"==typeof t&&null!=t&&t.outlets);if(r&&r!==Mt(n))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Ie{constructor(t,e,n){this.segmentGroup=t,this.processChildren=e,this.index=n}}function Ce(t){return"object"==typeof t&&null!=t&&t.outlets?t.outlets.primary:`${t}`}function Te(t,e,n){if(t||(t=new Ft([],{})),0===t.segments.length&&t.hasChildren())return Se(t,e,n);const r=function(t,e,n){let r=0,i=e;const o={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return o;const e=t.segments[i],s=Ce(n[r]),a=r<n.length-1?n[r+1]:null;if(i>0&&void 0===s)break;if(s&&a&&"object"==typeof a&&void 0===a.outlets){if(!ke(s,a,e))return o;r+=2}else{if(!ke(s,{},e))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){const e=new Ft(t.segments.slice(0,r.pathIndex),{});return e.children.primary=new Ft(t.segments.slice(r.pathIndex),t.children),Se(e,0,i)}return r.match&&0===i.length?new Ft(t.segments,{}):r.match&&!t.hasChildren()?Ae(t,e,n):r.match?Se(t,0,i):Ae(t,e,n)}function Se(t,e,n){if(0===n.length)return new Ft(t.segments,{});{const r=function(t){return"object"!=typeof t[0]?{primary:t}:void 0===t[0].outlets?{primary:t}:t[0].outlets}(n),i={};return Lt(r,(n,r)=>{null!==n&&(i[r]=Te(t.children[r],e,n))}),Lt(t.children,(t,e)=>{void 0===r[e]&&(i[e]=t)}),new Ft(t.segments,i)}}function Ae(t,e,n){const r=t.segments.slice(0,e);let i=0;for(;i<n.length;){if("object"==typeof n[i]&&void 0!==n[i].outlets){const t=Oe(n[i].outlets);return new Ft(r,t)}if(0===i&&we(n[0])){r.push(new qt(t.segments[e].path,n[0])),i++;continue}const o=Ce(n[i]),s=i<n.length-1?n[i+1]:null;o&&s&&we(s)?(r.push(new qt(o,Ne(s))),i+=2):(r.push(new qt(o,{})),i++)}return new Ft(r,{})}function Oe(t){const e={};return Lt(t,(t,n)=>{null!==t&&(e[n]=Ae(new Ft([],{}),0,t))}),e}function Ne(t){const e={};return Lt(t,(t,n)=>e[n]=`${t}`),e}function ke(t,e,n){return t==n.path&&Pt(e,n.parameters)}class xe{constructor(t,e,n,r){this.routeReuseStrategy=t,this.futureState=e,this.currState=n,this.forwardEvent=r}activate(t){const e=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,n,t),ye(this.futureState.root),this.activateChildRoutes(e,n,t)}deactivateChildRoutes(t,e,n){const r=ce(e);t.children.forEach(t=>{const e=t.value.outlet;this.deactivateRoutes(t,r[e],n),delete r[e]}),Lt(r,(t,e)=>{this.deactivateRouteAndItsChildren(t,n)})}deactivateRoutes(t,e,n){const r=t.value,i=e?e.value:null;if(r===i)if(r.component){const i=n.getContext(r.outlet);i&&this.deactivateChildRoutes(t,e,i.children)}else this.deactivateChildRoutes(t,e,n);else i&&this.deactivateRouteAndItsChildren(e,n)}deactivateRouteAndItsChildren(t,e){this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const n=e.getContext(t.value.outlet);if(n&&n.outlet){const e=n.outlet.detach(),r=n.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:e,route:t,contexts:r})}}deactivateRouteAndOutlet(t,e){const n=e.getContext(t.value.outlet);if(n){const r=ce(t),i=t.value.component?n.children:e;Lt(r,(t,e)=>this.deactivateRouteAndItsChildren(t,i)),n.outlet&&(n.outlet.deactivate(),n.children.onOutletDeactivated())}}activateChildRoutes(t,e,n){const r=ce(e);t.children.forEach(t=>{this.activateRoutes(t,r[t.value.outlet],n),this.forwardEvent(new wt(t.value.snapshot))}),t.children.length&&this.forwardEvent(new yt(t.value.snapshot))}activateRoutes(t,e,n){const r=t.value,i=e?e.value:null;if(ye(r),r===i)if(r.component){const i=n.getOrCreateContext(r.outlet);this.activateChildRoutes(t,e,i.children)}else this.activateChildRoutes(t,e,n);else if(r.component){const e=n.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const t=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),e.children.onOutletReAttached(t.contexts),e.attachRef=t.componentRef,e.route=t.route.value,e.outlet&&e.outlet.attach(t.componentRef,t.route.value),Pe(t.route)}else{const n=function(t){for(let e=t.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig;if(t&&t.component)return null}return null}(r.snapshot),i=n?n.module.componentFactoryResolver:null;e.attachRef=null,e.route=r,e.resolver=i,e.outlet&&e.outlet.activateWith(r,i),this.activateChildRoutes(t,null,e.children)}}else this.activateChildRoutes(t,null,n)}}function Pe(t){ye(t.value),t.children.forEach(Pe)}function Re(t){return"function"==typeof t}function De(t){return t instanceof Vt}class Me{constructor(t){this.segmentGroup=t||null}}class Le{constructor(t){this.urlTree=t}}function je(t){return new u.a(e=>e.error(new Me(t)))}function Ue(t){return new u.a(e=>e.error(new Le(t)))}function Ve(t){return new u.a(e=>e.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${t}'`)))}class Fe{constructor(t,e,n,r,o){this.configLoader=e,this.urlSerializer=n,this.urlTree=r,this.config=o,this.allowRedirects=!0,this.ngModule=t.get(i.x)}apply(){return this.expandSegmentGroup(this.ngModule,this.config,this.urlTree.root,"primary").pipe(Object(_.a)(t=>this.createUrlTree(t,this.urlTree.queryParams,this.urlTree.fragment))).pipe(F(t=>{if(t instanceof Le)return this.allowRedirects=!1,this.match(t.urlTree);if(t instanceof Me)throw this.noMatchError(t);throw t}))}match(t){return this.expandSegmentGroup(this.ngModule,this.config,t.root,"primary").pipe(Object(_.a)(e=>this.createUrlTree(e,t.queryParams,t.fragment))).pipe(F(t=>{if(t instanceof Me)throw this.noMatchError(t);throw t}))}noMatchError(t){return new Error(`Cannot match any routes. URL Segment: '${t.segmentGroup}'`)}createUrlTree(t,e,n){const r=t.segments.length>0?new Ft([],{primary:t}):t;return new Vt(r,e,n)}expandSegmentGroup(t,e,n,r){return 0===n.segments.length&&n.hasChildren()?this.expandChildren(t,e,n).pipe(Object(_.a)(t=>new Ft([],t))):this.expandSegment(t,n,e,n.segments,r,!0)}expandChildren(t,e,n){return function(t,e){if(0===Object.keys(t).length)return Object(o.a)({});const n=[],r=[],i={};return Lt(t,(t,o)=>{const s=e(o,t).pipe(Object(_.a)(t=>i[o]=t));"primary"===o?n.push(s):r.push(s)}),o.a.apply(null,n.concat(r)).pipe(I(),U(),Object(_.a)(()=>i))}(n.children,(n,r)=>this.expandSegmentGroup(t,e,r,n))}expandSegment(t,e,n,r,i,s){return Object(o.a)(...n).pipe(Object(_.a)(a=>this.expandSegmentAgainstRoute(t,e,n,a,r,i,s).pipe(F(t=>{if(t instanceof Me)return Object(o.a)(null);throw t}))),I(),W(t=>!!t),F((t,n)=>{if(t instanceof c||"EmptyError"===t.name){if(this.noLeftoversInUrl(e,r,i))return Object(o.a)(new Ft([],{}));throw new Me(e)}throw t}))}noLeftoversInUrl(t,e,n){return 0===e.length&&!t.children[n]}expandSegmentAgainstRoute(t,e,n,r,i,o,s){return Be(r)!==o?je(e):void 0===r.redirectTo?this.matchSegmentAgainstRoute(t,e,r,i):s&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o):je(e)}expandSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,n,r,o):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,n,r){const i=this.applyRedirectCommands([],n.redirectTo,{});return n.redirectTo.startsWith("/")?Ue(i):this.lineralizeSegments(n,i).pipe(Object(K.a)(n=>{const i=new Ft(n,{});return this.expandSegment(t,i,e,n,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o){const{matched:s,consumedSegments:a,lastChild:u,positionalParamSegments:c}=qe(e,r,i);if(!s)return je(e);const h=this.applyRedirectCommands(a,r.redirectTo,c);return r.redirectTo.startsWith("/")?Ue(h):this.lineralizeSegments(r,h).pipe(Object(K.a)(r=>this.expandSegment(t,e,n,r.concat(i.slice(u)),o,!1)))}matchSegmentAgainstRoute(t,e,n,r){if("**"===n.path)return n.loadChildren?this.configLoader.load(t.injector,n).pipe(Object(_.a)(t=>(n._loadedConfig=t,new Ft(r,{})))):Object(o.a)(new Ft(r,{}));const{matched:i,consumedSegments:s,lastChild:a}=qe(e,n,r);if(!i)return je(e);const u=r.slice(a);return this.getChildConfig(t,n,r).pipe(Object(K.a)(t=>{const n=t.module,r=t.routes,{segmentGroup:i,slicedSegments:a}=function(t,e,n,r){return n.length>0&&function(t,e,n){return n.some(n=>Ge(t,e,n)&&"primary"!==Be(n))}(t,n,r)?{segmentGroup:He(new Ft(e,function(t,e){const n={};n.primary=e;for(const r of t)""===r.path&&"primary"!==Be(r)&&(n[Be(r)]=new Ft([],{}));return n}(r,new Ft(n,t.children)))),slicedSegments:[]}:0===n.length&&function(t,e,n){return n.some(n=>Ge(t,e,n))}(t,n,r)?{segmentGroup:He(new Ft(t.segments,function(t,e,n,r){const i={};for(const o of n)Ge(t,e,o)&&!r[Be(o)]&&(i[Be(o)]=new Ft([],{}));return Object.assign(Object.assign({},r),i)}(t,n,r,t.children))),slicedSegments:n}:{segmentGroup:t,slicedSegments:n}}(e,s,u,r);return 0===a.length&&i.hasChildren()?this.expandChildren(n,r,i).pipe(Object(_.a)(t=>new Ft(s,t))):0===r.length&&0===a.length?Object(o.a)(new Ft(s,{})):this.expandSegment(n,i,r,a,"primary",!0).pipe(Object(_.a)(t=>new Ft(s.concat(t.segments),t.children)))}))}getChildConfig(t,e,n){return e.children?Object(o.a)(new At(e.children,t)):e.loadChildren?void 0!==e._loadedConfig?Object(o.a)(e._loadedConfig):function(t,e,n){const r=e.canLoad;return r&&0!==r.length?Object(s.a)(r).pipe(Object(_.a)(r=>{const i=t.get(r);let o;if(function(t){return t&&Re(t.canLoad)}(i))o=i.canLoad(e,n);else{if(!Re(i))throw new Error("Invalid CanLoad guard");o=i(e,n)}return jt(o)})).pipe(I(),(i=t=>!0===t,t=>t.lift(new $(i,void 0,t)))):Object(o.a)(!0);var i}(t.injector,e,n).pipe(Object(K.a)(n=>n?this.configLoader.load(t.injector,e).pipe(Object(_.a)(t=>(e._loadedConfig=t,t))):function(t){return new u.a(e=>e.error(Tt(`Cannot load children because the guard of the route "path: '${t.path}'" returned false`)))}(e))):Object(o.a)(new At([],t))}lineralizeSegments(t,e){let n=[],r=e.root;for(;;){if(n=n.concat(r.segments),0===r.numberOfChildren)return Object(o.a)(n);if(r.numberOfChildren>1||!r.children.primary)return Ve(t.redirectTo);r=r.children.primary}}applyRedirectCommands(t,e,n){return this.applyRedirectCreatreUrlTree(e,this.urlSerializer.parse(e),t,n)}applyRedirectCreatreUrlTree(t,e,n,r){const i=this.createSegmentGroup(t,e.root,n,r);return new Vt(i,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const n={};return Lt(t,(t,r)=>{if("string"==typeof t&&t.startsWith(":")){const i=t.substring(1);n[r]=e[i]}else n[r]=t}),n}createSegmentGroup(t,e,n,r){const i=this.createSegments(t,e.segments,n,r);let o={};return Lt(e.children,(e,i)=>{o[i]=this.createSegmentGroup(t,e,n,r)}),new Ft(i,o)}createSegments(t,e,n,r){return e.map(e=>e.path.startsWith(":")?this.findPosParam(t,e,r):this.findOrReturn(e,n))}findPosParam(t,e,n){const r=n[e.path.substring(1)];if(!r)throw new Error(`Cannot redirect to '${t}'. Cannot find '${e.path}'.`);return r}findOrReturn(t,e){let n=0;for(const r of e){if(r.path===t.path)return e.splice(n),r;n++}return t}}function qe(t,e,n){if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}:{matched:!0,consumedSegments:[],lastChild:0,positionalParamSegments:{}};const r=(e.matcher||St)(n,t,e);return r?{matched:!0,consumedSegments:r.consumed,lastChild:r.consumed.length,positionalParamSegments:r.posParams}:{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}}function He(t){if(1===t.numberOfChildren&&t.children.primary){const e=t.children.primary;return new Ft(t.segments.concat(e.segments),e.children)}return t}function Ge(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path&&void 0!==n.redirectTo}function Be(t){return t.outlet||"primary"}class ze{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class We{constructor(t,e){this.component=t,this.route=e}}function Ke(t,e,n){const r=t._root;return function t(e,n,r,i,o={canDeactivateChecks:[],canActivateChecks:[]}){const s=ce(n);return e.children.forEach(e=>{!function(e,n,r,i,o={canDeactivateChecks:[],canActivateChecks:[]}){const s=e.value,a=n?n.value:null,u=r?r.getContext(e.value.outlet):null;if(a&&s.routeConfig===a.routeConfig){const c=function(t,e,n){if("function"==typeof n)return n(t,e);switch(n){case"pathParamsChange":return!Ht(t.url,e.url);case"pathParamsOrQueryParamsChange":return!Ht(t.url,e.url)||!Pt(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!be(t,e)||!Pt(t.queryParams,e.queryParams);case"paramsChange":default:return!be(t,e)}}(a,s,s.routeConfig.runGuardsAndResolvers);c?o.canActivateChecks.push(new ze(i)):(s.data=a.data,s._resolvedData=a._resolvedData),t(e,n,s.component?u?u.children:null:r,i,o),c&&o.canDeactivateChecks.push(new We(u&&u.outlet&&u.outlet.component||null,a))}else a&&Ye(n,u,o),o.canActivateChecks.push(new ze(i)),t(e,null,s.component?u?u.children:null:r,i,o)}(e,s[e.value.outlet],r,i.concat([e.value]),o),delete s[e.value.outlet]}),Lt(s,(t,e)=>Ye(t,r.getContext(e),o)),o}(r,e?e._root:null,n,[r.value])}function $e(t,e,n){const r=function(t){if(!t)return null;for(let e=t.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig}return null}(e);return(r?r.module.injector:n).get(t)}function Ye(t,e,n){const r=ce(t),i=t.value;Lt(r,(t,r)=>{Ye(t,i.component?e?e.children.getContext(r):null:e,n)}),n.canDeactivateChecks.push(new We(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}const Qe=Symbol("INITIAL_VALUE");function Je(){return Object(Q.a)(t=>function(...t){let e=null,n=null;return Object(h.a)(t[t.length-1])&&(n=t.pop()),"function"==typeof t[t.length-1]&&(e=t.pop()),1===t.length&&Object(l.a)(t[0])&&(t=t[0]),Object(p.a)(t,n).lift(new m(e))}(...t.map(t=>t.pipe(G(1),function(...t){const e=t[t.length-1];return Object(h.a)(e)?(t.pop(),n=>J(t,n,e)):e=>J(t,e)}(Qe)))).pipe(Object(X.a)((t,e)=>{let n=!1;return e.reduce((t,r,i)=>{if(t!==Qe)return t;if(r===Qe&&(n=!0),!n){if(!1===r)return r;if(i===e.length-1||De(r))return r}return t},t)},Qe),Object(C.a)(t=>t!==Qe),Object(_.a)(t=>De(t)?t:!0===t),G(1)))}function Xe(t,e){return null!==t&&e&&e(new bt(t)),Object(o.a)(!0)}function Ze(t,e){return null!==t&&e&&e(new vt(t)),Object(o.a)(!0)}function tn(t,e,n){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return Object(o.a)(!0);const i=r.map(r=>b(()=>{const i=$e(r,e,n);let o;if(function(t){return t&&Re(t.canActivate)}(i))o=jt(i.canActivate(e,t));else{if(!Re(i))throw new Error("Invalid CanActivate guard");o=jt(i(e,t))}return o.pipe(W())}));return Object(o.a)(i).pipe(Je())}function en(t,e,n){const r=e[e.length-1],i=e.slice(0,e.length-1).reverse().map(t=>function(t){const e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null}(t)).filter(t=>null!==t).map(e=>b(()=>{const i=e.guards.map(i=>{const o=$e(i,e.node,n);let s;if(function(t){return t&&Re(t.canActivateChild)}(o))s=jt(o.canActivateChild(r,t));else{if(!Re(o))throw new Error("Invalid CanActivateChild guard");s=jt(o(r,t))}return s.pipe(W())});return Object(o.a)(i).pipe(Je())}));return Object(o.a)(i).pipe(Je())}class nn{}class rn{constructor(t,e,n,r,i,o){this.rootComponentType=t,this.config=e,this.urlTree=n,this.url=r,this.paramsInheritanceStrategy=i,this.relativeLinkResolution=o}recognize(){try{const t=an(this.urlTree.root,[],[],this.config,this.relativeLinkResolution).segmentGroup,e=this.processSegmentGroup(this.config,t,"primary"),n=new pe([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},"primary",this.rootComponentType,null,this.urlTree.root,-1,{}),r=new ue(n,e),i=new ge(this.url,r);return this.inheritParamsAndData(i._root),Object(o.a)(i)}catch(t){return new u.a(e=>e.error(t))}}inheritParamsAndData(t){const e=t.value,n=de(e,this.paramsInheritanceStrategy);e.params=Object.freeze(n.params),e.data=Object.freeze(n.data),t.children.forEach(t=>this.inheritParamsAndData(t))}processSegmentGroup(t,e,n){return 0===e.segments.length&&e.hasChildren()?this.processChildren(t,e):this.processSegment(t,e,e.segments,n)}processChildren(t,e){const n=Gt(e,(e,n)=>this.processSegmentGroup(t,e,n));return function(t){const e={};t.forEach(t=>{const n=e[t.value.outlet];if(n){const e=n.url.map(t=>t.toString()).join("/"),r=t.value.url.map(t=>t.toString()).join("/");throw new Error(`Two segments cannot have the same outlet name: '${e}' and '${r}'.`)}e[t.value.outlet]=t.value})}(n),n.sort((t,e)=>"primary"===t.value.outlet?-1:"primary"===e.value.outlet?1:t.value.outlet.localeCompare(e.value.outlet)),n}processSegment(t,e,n,r){for(const o of t)try{return this.processSegmentAgainstRoute(o,e,n,r)}catch(i){if(!(i instanceof nn))throw i}if(this.noLeftoversInUrl(e,n,r))return[];throw new nn}noLeftoversInUrl(t,e,n){return 0===e.length&&!t.children[n]}processSegmentAgainstRoute(t,e,n,r){if(t.redirectTo)throw new nn;if((t.outlet||"primary")!==r)throw new nn;let i,o=[],s=[];if("**"===t.path){const o=n.length>0?Mt(n).parameters:{};i=new pe(n,o,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,hn(t),r,t.component,t,on(e),sn(e)+n.length,ln(t))}else{const a=function(t,e,n){if(""===e.path){if("full"===e.pathMatch&&(t.hasChildren()||n.length>0))throw new nn;return{consumedSegments:[],lastChild:0,parameters:{}}}const r=(e.matcher||St)(n,t,e);if(!r)throw new nn;const i={};Lt(r.posParams,(t,e)=>{i[e]=t.path});const o=r.consumed.length>0?Object.assign(Object.assign({},i),r.consumed[r.consumed.length-1].parameters):i;return{consumedSegments:r.consumed,lastChild:r.consumed.length,parameters:o}}(e,t,n);o=a.consumedSegments,s=n.slice(a.lastChild),i=new pe(o,a.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,hn(t),r,t.component,t,on(e),sn(e)+o.length,ln(t))}const a=function(t){return t.children?t.children:t.loadChildren?t._loadedConfig.routes:[]}(t),{segmentGroup:u,slicedSegments:c}=an(e,o,s,a,this.relativeLinkResolution);if(0===c.length&&u.hasChildren()){const t=this.processChildren(a,u);return[new ue(i,t)]}if(0===a.length&&0===c.length)return[new ue(i,[])];const h=this.processSegment(a,u,c,"primary");return[new ue(i,h)]}}function on(t){let e=t;for(;e._sourceSegment;)e=e._sourceSegment;return e}function sn(t){let e=t,n=e._segmentIndexShift?e._segmentIndexShift:0;for(;e._sourceSegment;)e=e._sourceSegment,n+=e._segmentIndexShift?e._segmentIndexShift:0;return n-1}function an(t,e,n,r,i){if(n.length>0&&function(t,e,n){return n.some(n=>un(t,e,n)&&"primary"!==cn(n))}(t,n,r)){const i=new Ft(e,function(t,e,n,r){const i={};i.primary=r,r._sourceSegment=t,r._segmentIndexShift=e.length;for(const o of n)if(""===o.path&&"primary"!==cn(o)){const n=new Ft([],{});n._sourceSegment=t,n._segmentIndexShift=e.length,i[cn(o)]=n}return i}(t,e,r,new Ft(n,t.children)));return i._sourceSegment=t,i._segmentIndexShift=e.length,{segmentGroup:i,slicedSegments:[]}}if(0===n.length&&function(t,e,n){return n.some(n=>un(t,e,n))}(t,n,r)){const o=new Ft(t.segments,function(t,e,n,r,i,o){const s={};for(const a of r)if(un(t,n,a)&&!i[cn(a)]){const n=new Ft([],{});n._sourceSegment=t,n._segmentIndexShift="legacy"===o?t.segments.length:e.length,s[cn(a)]=n}return Object.assign(Object.assign({},i),s)}(t,e,n,r,t.children,i));return o._sourceSegment=t,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:n}}const o=new Ft(t.segments,t.children);return o._sourceSegment=t,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:n}}function un(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path&&void 0===n.redirectTo}function cn(t){return t.outlet||"primary"}function hn(t){return t.data||{}}function ln(t){return t.resolve||{}}function fn(t,e,n,r){const i=$e(t,e,r);return jt(i.resolve?i.resolve(e,n):i(e,n))}function dn(t){return function(e){return e.pipe(Object(Q.a)(e=>{const n=t(e);return n?Object(s.a)(n).pipe(Object(_.a)(()=>e)):Object(s.a)([e])}))}}class pn{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}const gn=new i.q("ROUTES");class mn{constructor(t,e,n,r){this.loader=t,this.compiler=e,this.onLoadStartListener=n,this.onLoadEndListener=r}load(t,e){return this.onLoadStartListener&&this.onLoadStartListener(e),this.loadModuleFactory(e.loadChildren).pipe(Object(_.a)(n=>{this.onLoadEndListener&&this.onLoadEndListener(e);const r=n.create(t);return new At(Dt(r.injector.get(gn)).map(xt),r)}))}loadModuleFactory(t){return"string"==typeof t?Object(s.a)(this.loader.load(t)):jt(t()).pipe(Object(K.a)(t=>t instanceof i.v?Object(o.a)(t):Object(s.a)(this.compiler.compileModuleAsync(t))))}}class vn{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,e){return t}}function yn(t){throw t}function bn(t,e,n){return e.parse("/")}function wn(t,e){return Object(o.a)(null)}let _n=(()=>{class t{constructor(t,e,n,r,o,s,u,c){this.rootComponentType=t,this.urlSerializer=e,this.rootContexts=n,this.location=r,this.config=c,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.navigationId=0,this.isNgZoneEnabled=!1,this.events=new w.a,this.errorHandler=yn,this.malformedUriErrorHandler=bn,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:wn,afterPreactivation:wn},this.urlHandlingStrategy=new vn,this.routeReuseStrategy=new pn,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="legacy",this.ngModule=o.get(i.x),this.console=o.get(i.X);const h=o.get(i.z);this.isNgZoneEnabled=h instanceof i.z,this.resetConfig(c),this.currentUrlTree=new Vt(new Ft([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new mn(s,u,t=>this.triggerEvent(new gt(t)),t=>this.triggerEvent(new mt(t))),this.routerState=le(this.currentUrlTree,this.rootComponentType),this.transitions=new a.a({id:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}setupNavigations(t){const e=this.events;return t.pipe(Object(C.a)(t=>0!==t.id),Object(_.a)(t=>Object.assign(Object.assign({},t),{extractedUrl:this.urlHandlingStrategy.extract(t.rawUrl)})),Object(Q.a)(t=>{let n=!1,r=!1;return Object(o.a)(t).pipe(Object(et.a)(t=>{this.currentNavigation={id:t.id,initialUrl:t.currentRawUrl,extractedUrl:t.extractedUrl,trigger:t.source,extras:t.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),Object(Q.a)(t=>{const n=!this.navigated||t.extractedUrl.toString()!==this.browserUrlTree.toString();if(("reload"===this.onSameUrlNavigation||n)&&this.urlHandlingStrategy.shouldProcessUrl(t.rawUrl))return Object(o.a)(t).pipe(Object(Q.a)(t=>{const n=this.transitions.getValue();return e.next(new st(t.id,this.serializeUrl(t.extractedUrl),t.source,t.restoredState)),n!==this.transitions.getValue()?y.a:[t]}),Object(Q.a)(t=>Promise.resolve(t)),(r=this.ngModule.injector,i=this.configLoader,s=this.urlSerializer,a=this.config,function(t){return t.pipe(Object(Q.a)(t=>function(t,e,n,r,i){return new Fe(t,e,n,r,i).apply()}(r,i,s,t.extractedUrl,a).pipe(Object(_.a)(e=>Object.assign(Object.assign({},t),{urlAfterRedirects:e})))))}),Object(et.a)(t=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:t.urlAfterRedirects})}),function(t,e,n,r,i){return function(o){return o.pipe(Object(K.a)(o=>function(t,e,n,r,i="emptyOnly",o="legacy"){return new rn(t,e,n,r,i,o).recognize()}(t,e,o.urlAfterRedirects,n(o.urlAfterRedirects),r,i).pipe(Object(_.a)(t=>Object.assign(Object.assign({},o),{targetSnapshot:t})))))}}(this.rootComponentType,this.config,t=>this.serializeUrl(t),this.paramsInheritanceStrategy,this.relativeLinkResolution),Object(et.a)(t=>{"eager"===this.urlUpdateStrategy&&(t.extras.skipLocationChange||this.setBrowserUrl(t.urlAfterRedirects,!!t.extras.replaceUrl,t.id,t.extras.state),this.browserUrlTree=t.urlAfterRedirects)}),Object(et.a)(t=>{const n=new ht(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);e.next(n)}));var r,i,s,a;if(n&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:n,extractedUrl:r,source:i,restoredState:s,extras:a}=t,u=new st(n,this.serializeUrl(r),i,s);e.next(u);const c=le(r,this.rootComponentType).snapshot;return Object(o.a)(Object.assign(Object.assign({},t),{targetSnapshot:c,urlAfterRedirects:r,extras:Object.assign(Object.assign({},a),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=t.rawUrl,this.browserUrlTree=t.urlAfterRedirects,t.resolve(null),y.a}),dn(t=>{const{targetSnapshot:e,id:n,extractedUrl:r,rawUrl:i,extras:{skipLocationChange:o,replaceUrl:s}}=t;return this.hooks.beforePreactivation(e,{navigationId:n,appliedUrlTree:r,rawUrlTree:i,skipLocationChange:!!o,replaceUrl:!!s})}),Object(et.a)(t=>{const e=new lt(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}),Object(_.a)(t=>Object.assign(Object.assign({},t),{guards:Ke(t.targetSnapshot,t.currentSnapshot,this.rootContexts)})),function(t,e){return function(n){return n.pipe(Object(K.a)(n=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:a,canDeactivateChecks:u}}=n;return 0===u.length&&0===a.length?Object(o.a)(Object.assign(Object.assign({},n),{guardsResult:!0})):function(t,e,n,r){return Object(s.a)(t).pipe(Object(K.a)(t=>function(t,e,n,r,i){const s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!s||0===s.length)return Object(o.a)(!0);const a=s.map(o=>{const s=$e(o,e,i);let a;if(function(t){return t&&Re(t.canDeactivate)}(s))a=jt(s.canDeactivate(t,e,n,r));else{if(!Re(s))throw new Error("Invalid CanDeactivate guard");a=jt(s(t,e,n,r))}return a.pipe(W())});return Object(o.a)(a).pipe(Je())}(t.component,t.route,n,e,r)),W(t=>!0!==t,!0))}(u,r,i,t).pipe(Object(K.a)(n=>n&&"boolean"==typeof n?function(t,e,n,r){return Object(s.a)(e).pipe(Z(e=>Object(s.a)([Ze(e.route.parent,r),Xe(e.route,r),en(t,e.path,n),tn(t,e.route,n)]).pipe(I(),W(t=>!0!==t,!0))),W(t=>!0!==t,!0))}(r,a,t,e):Object(o.a)(n)),Object(_.a)(t=>Object.assign(Object.assign({},n),{guardsResult:t})))}))}}(this.ngModule.injector,t=>this.triggerEvent(t)),Object(et.a)(t=>{if(De(t.guardsResult)){const e=Tt(`Redirecting to "${this.serializeUrl(t.guardsResult)}"`);throw e.url=t.guardsResult,e}}),Object(et.a)(t=>{const e=new ft(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot,!!t.guardsResult);this.triggerEvent(e)}),Object(C.a)(t=>{if(!t.guardsResult){this.resetUrlToCurrentUrlTree();const n=new ut(t.id,this.serializeUrl(t.extractedUrl),"");return e.next(n),t.resolve(!1),!1}return!0}),dn(t=>{if(t.guards.canActivateChecks.length)return Object(o.a)(t).pipe(Object(et.a)(t=>{const e=new dt(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}),(e=this.paramsInheritanceStrategy,n=this.ngModule.injector,function(t){return t.pipe(Object(K.a)(t=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=t;return i.length?Object(s.a)(i).pipe(Z(t=>function(t,e,n,r){return function(t,e,n,r){const i=Object.keys(t);if(0===i.length)return Object(o.a)({});if(1===i.length){const o=i[0];return fn(t[o],e,n,r).pipe(Object(_.a)(t=>({[o]:t})))}const a={};return Object(s.a)(i).pipe(Object(K.a)(i=>fn(t[i],e,n,r).pipe(Object(_.a)(t=>(a[i]=t,t))))).pipe(U(),Object(_.a)(()=>a))}(t._resolve,t,e,r).pipe(Object(_.a)(e=>(t._resolvedData=e,t.data=Object.assign(Object.assign({},t.data),de(t,n).resolve),null)))}(t.route,r,e,n)),function(t,e){return arguments.length>=2?function(n){return Object(tt.a)(Object(X.a)(t,e),A(1),D(e))(n)}:function(e){return Object(tt.a)(Object(X.a)((e,n,r)=>t(e,n,r+1)),A(1))(e)}}((t,e)=>t),Object(_.a)(e=>t)):Object(o.a)(t)}))}),Object(et.a)(t=>{const e=new pt(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}));var e,n}),dn(t=>{const{targetSnapshot:e,id:n,extractedUrl:r,rawUrl:i,extras:{skipLocationChange:o,replaceUrl:s}}=t;return this.hooks.afterPreactivation(e,{navigationId:n,appliedUrlTree:r,rawUrlTree:i,skipLocationChange:!!o,replaceUrl:!!s})}),Object(_.a)(t=>{const e=function(t,e,n){const r=function t(e,n,r){if(r&&e.shouldReuseRoute(n.value,r.value.snapshot)){const i=r.value;i._futureSnapshot=n.value;const o=function(e,n,r){return n.children.map(n=>{for(const i of r.children)if(e.shouldReuseRoute(i.value.snapshot,n.value))return t(e,n,i);return t(e,n)})}(e,n,r);return new ue(i,o)}{const r=e.retrieve(n.value);if(r){const t=r.route;return function t(e,n){if(e.value.routeConfig!==n.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(e.children.length!==n.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");n.value._futureSnapshot=e.value;for(let r=0;r<e.children.length;++r)t(e.children[r],n.children[r])}(n,t),t}{const r=new fe(new a.a((i=n.value).url),new a.a(i.params),new a.a(i.queryParams),new a.a(i.fragment),new a.a(i.data),i.outlet,i.component,i),o=n.children.map(n=>t(e,n));return new ue(r,o)}}var i}(t,e._root,n?n._root:void 0);return new he(r,e)}(this.routeReuseStrategy,t.targetSnapshot,t.currentRouterState);return Object.assign(Object.assign({},t),{targetRouterState:e})}),Object(et.a)(t=>{this.currentUrlTree=t.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl),this.routerState=t.targetRouterState,"deferred"===this.urlUpdateStrategy&&(t.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,!!t.extras.replaceUrl,t.id,t.extras.state),this.browserUrlTree=t.urlAfterRedirects)}),(u=this.rootContexts,c=this.routeReuseStrategy,h=t=>this.triggerEvent(t),Object(_.a)(t=>(new xe(c,t.targetRouterState,t.currentRouterState,h).activate(u),t))),Object(et.a)({next(){n=!0},complete(){n=!0}}),(i=()=>{if(!n&&!r){this.resetUrlToCurrentUrlTree();const n=new ut(t.id,this.serializeUrl(t.extractedUrl),`Navigation ID ${t.id} is not equal to the current navigation id ${this.navigationId}`);e.next(n),t.resolve(!1)}this.currentNavigation=null},t=>t.lift(new rt(i))),F(n=>{if(r=!0,(i=n)&&i.ngNavigationCancelingError){const r=De(n.url);r||(this.navigated=!0,this.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl));const i=new ut(t.id,this.serializeUrl(t.extractedUrl),n.message);e.next(i),r?setTimeout(()=>{const e=this.urlHandlingStrategy.merge(n.url,this.rawUrlTree);return this.scheduleNavigation(e,"imperative",null,{skipLocationChange:t.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy},{resolve:t.resolve,reject:t.reject,promise:t.promise})},0):t.resolve(!1)}else{this.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl);const r=new ct(t.id,this.serializeUrl(t.extractedUrl),n);e.next(r);try{t.resolve(this.errorHandler(n))}catch(o){t.reject(o)}}var i;return y.a}));var i,u,c,h}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}getTransition(){const t=this.transitions.value;return t.urlAfterRedirects=this.browserUrlTree,t}setTransition(t){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),t))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{let e=this.parseUrl(t.url);const n="popstate"===t.type?"popstate":"hashchange",r=t.state&&t.state.navigationId?t.state:null;setTimeout(()=>{this.scheduleNavigation(e,n,r,{replaceUrl:!0})},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){Ot(t),this.config=t.map(xt),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=null)}createUrlTree(t,e={}){const{relativeTo:n,queryParams:r,fragment:o,preserveQueryParams:s,queryParamsHandling:a,preserveFragment:u}=e;Object(i.U)()&&s&&console&&console.warn&&console.warn("preserveQueryParams is deprecated, use queryParamsHandling instead.");const c=n||this.routerState.root,h=u?this.currentUrlTree.fragment:o;let l=null;if(a)switch(a){case"merge":l=Object.assign(Object.assign({},this.currentUrlTree.queryParams),r);break;case"preserve":l=this.currentUrlTree.queryParams;break;default:l=r||null}else l=s?this.currentUrlTree.queryParams:r||null;return null!==l&&(l=this.removeEmptyProps(l)),function(t,e,n,r,i){if(0===n.length)return _e(e.root,e.root,e,r,i);const o=function(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new Ee(!0,0,t);let e=0,n=!1;const r=t.reduce((t,r,i)=>{if("object"==typeof r&&null!=r){if(r.outlets){const e={};return Lt(r.outlets,(t,n)=>{e[n]="string"==typeof t?t.split("/"):t}),[...t,{outlets:e}]}if(r.segmentPath)return[...t,r.segmentPath]}return"string"!=typeof r?[...t,r]:0===i?(r.split("/").forEach((r,i)=>{0==i&&"."===r||(0==i&&""===r?n=!0:".."===r?e++:""!=r&&t.push(r))}),t):[...t,r]},[]);return new Ee(n,e,r)}(n);if(o.toRoot())return _e(e.root,new Ft([],{}),e,r,i);const s=function(t,e,n){if(t.isAbsolute)return new Ie(e.root,!0,0);if(-1===n.snapshot._lastPathIndex)return new Ie(n.snapshot._urlSegment,!0,0);const r=we(t.commands[0])?0:1;return function(t,e,n){let r=t,i=e,o=n;for(;o>i;){if(o-=i,r=r.parent,!r)throw new Error("Invalid number of '../'");i=r.segments.length}return new Ie(r,!1,i-o)}(n.snapshot._urlSegment,n.snapshot._lastPathIndex+r,t.numberOfDoubleDots)}(o,e,t),a=s.processChildren?Se(s.segmentGroup,s.index,o.commands):Te(s.segmentGroup,s.index,o.commands);return _e(s.segmentGroup,a,e,r,i)}(c,this.currentUrlTree,t,l,h)}navigateByUrl(t,e={skipLocationChange:!1}){Object(i.U)()&&this.isNgZoneEnabled&&!i.z.isInAngularZone()&&this.console.warn("Navigation triggered outside Angular zone, did you forget to call 'ngZone.run()'?");const n=De(t)?t:this.parseUrl(t),r=this.urlHandlingStrategy.merge(n,this.rawUrlTree);return this.scheduleNavigation(r,"imperative",null,e)}navigate(t,e={skipLocationChange:!1}){return function(t){for(let e=0;e<t.length;e++){const n=t[e];if(null==n)throw new Error(`The requested path contains ${n} segment at index ${e}`)}}(t),this.navigateByUrl(this.createUrlTree(t,e),e)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let e;try{e=this.urlSerializer.parse(t)}catch(n){e=this.malformedUriErrorHandler(n,this.urlSerializer,t)}return e}isActive(t,e){if(De(t))return Ut(this.currentUrlTree,t,e);const n=this.parseUrl(t);return Ut(this.currentUrlTree,n,e)}removeEmptyProps(t){return Object.keys(t).reduce((e,n)=>{const r=t[n];return null!=r&&(e[n]=r),e},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.events.next(new at(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.currentNavigation=null,t.resolve(!0)},t=>{this.console.warn("Unhandled Navigation Error: ")})}scheduleNavigation(t,e,n,r,i){const o=this.getTransition();if(o&&"imperative"!==e&&"imperative"===o.source&&o.rawUrl.toString()===t.toString())return Promise.resolve(!0);if(o&&"hashchange"==e&&"popstate"===o.source&&o.rawUrl.toString()===t.toString())return Promise.resolve(!0);if(o&&"popstate"==e&&"hashchange"===o.source&&o.rawUrl.toString()===t.toString())return Promise.resolve(!0);let s,a,u;i?(s=i.resolve,a=i.reject,u=i.promise):u=new Promise((t,e)=>{s=t,a=e});const c=++this.navigationId;return this.setTransition({id:c,source:e,restoredState:n,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:r,resolve:s,reject:a,promise:u,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),u.catch(t=>Promise.reject(t))}setBrowserUrl(t,e,n,r){const i=this.urlSerializer.serialize(t);r=r||{},this.location.isCurrentPathEqualTo(i)||e?this.location.replaceState(i,"",Object.assign(Object.assign({},r),{navigationId:n})):this.location.go(i,"",Object.assign(Object.assign({},r),{navigationId:n}))}resetStateAndUrl(t,e,n){this.routerState=t,this.currentUrlTree=e,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n),this.resetUrlToCurrentUrlTree()}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",{navigationId:this.lastSuccessfulId})}}return t.\u0275fac=function(t){i.Ub()},t.\u0275dir=i.Fb({type:t}),t})(),En=(()=>{class t{constructor(t,e,n,r,i){this.router=t,this.route=e,this.commands=[],null==n&&r.setAttribute(i.nativeElement,"tabindex","0")}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:[]}set preserveQueryParams(t){Object(i.U)()&&console&&console.warn&&console.warn("preserveQueryParams is deprecated!, use queryParamsHandling instead."),this.preserve=t}onClick(){const t={skipLocationChange:Cn(this.skipLocationChange),replaceUrl:Cn(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,t),!0}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,preserveQueryParams:Cn(this.preserve),queryParamsHandling:this.queryParamsHandling,preserveFragment:Cn(this.preserveFragment)})}}return t.\u0275fac=function(e){return new(e||t)(i.Kb(_n),i.Kb(fe),i.Sb("tabindex"),i.Kb(i.D),i.Kb(i.l))},t.\u0275dir=i.Fb({type:t,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(t,e){1&t&&i.Vb("click",(function(){return e.onClick()}))},inputs:{routerLink:"routerLink",preserveQueryParams:"preserveQueryParams",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state"}}),t})(),In=(()=>{class t{constructor(t,e,n){this.router=t,this.route=e,this.locationStrategy=n,this.commands=[],this.subscription=t.events.subscribe(t=>{t instanceof at&&this.updateTargetUrlAndHref()})}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:[]}set preserveQueryParams(t){Object(i.U)()&&console&&console.warn&&console.warn("preserveQueryParams is deprecated, use queryParamsHandling instead."),this.preserve=t}ngOnChanges(t){this.updateTargetUrlAndHref()}ngOnDestroy(){this.subscription.unsubscribe()}onClick(t,e,n,r){if(0!==t||e||n||r)return!0;if("string"==typeof this.target&&"_self"!=this.target)return!0;const i={skipLocationChange:Cn(this.skipLocationChange),replaceUrl:Cn(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,i),!1}updateTargetUrlAndHref(){this.href=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree))}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,preserveQueryParams:Cn(this.preserve),queryParamsHandling:this.queryParamsHandling,preserveFragment:Cn(this.preserveFragment)})}}return t.\u0275fac=function(e){return new(e||t)(i.Kb(_n),i.Kb(fe),i.Kb(r.g))},t.\u0275dir=i.Fb({type:t,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(t,e){1&t&&i.Vb("click",(function(t){return e.onClick(t.button,t.ctrlKey,t.metaKey,t.shiftKey)})),2&t&&(i.Qb("href",e.href,i.dc),i.Bb("target",e.target))},inputs:{routerLink:"routerLink",preserveQueryParams:"preserveQueryParams",target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state"},features:[i.yb]}),t})();function Cn(t){return""===t||!!t}let Tn=(()=>{class t{constructor(t,e,n,r,i){this.router=t,this.element=e,this.renderer=n,this.link=r,this.linkWithHref=i,this.classes=[],this.isActive=!1,this.routerLinkActiveOptions={exact:!1},this.subscription=t.events.subscribe(t=>{t instanceof at&&this.update()})}ngAfterContentInit(){this.links.changes.subscribe(t=>this.update()),this.linksWithHrefs.changes.subscribe(t=>this.update()),this.update()}set routerLinkActive(t){const e=Array.isArray(t)?t:t.split(" ");this.classes=e.filter(t=>!!t)}ngOnChanges(t){this.update()}ngOnDestroy(){this.subscription.unsubscribe()}update(){this.links&&this.linksWithHrefs&&this.router.navigated&&Promise.resolve().then(()=>{const t=this.hasActiveLinks();this.isActive!==t&&(this.isActive=t,this.classes.forEach(e=>{t?this.renderer.addClass(this.element.nativeElement,e):this.renderer.removeClass(this.element.nativeElement,e)}))})}isLinkActive(t){return e=>t.isActive(e.urlTree,this.routerLinkActiveOptions.exact)}hasActiveLinks(){const t=this.isLinkActive(this.router);return this.link&&t(this.link)||this.linkWithHref&&t(this.linkWithHref)||this.links.some(t)||this.linksWithHrefs.some(t)}}return t.\u0275fac=function(e){return new(e||t)(i.Kb(_n),i.Kb(i.l),i.Kb(i.D),i.Kb(En,8),i.Kb(In,8))},t.\u0275dir=i.Fb({type:t,selectors:[["","routerLinkActive",""]],contentQueries:function(t,e,n){var r;1&t&&(i.Db(n,En,!0),i.Db(n,In,!0)),2&t&&(i.ac(r=i.Wb())&&(e.links=r),i.ac(r=i.Wb())&&(e.linksWithHrefs=r))},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",routerLinkActive:"routerLinkActive"},exportAs:["routerLinkActive"],features:[i.yb]}),t})();class Sn{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new An,this.attachRef=null}}class An{constructor(){this.contexts=new Map}onChildOutletCreated(t,e){const n=this.getOrCreateContext(t);n.outlet=e,this.contexts.set(t,n)}onChildOutletDestroyed(t){const e=this.getContext(t);e&&(e.outlet=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let e=this.getContext(t);return e||(e=new Sn,this.contexts.set(t,e)),e}getContext(t){return this.contexts.get(t)||null}}let On=(()=>{class t{constructor(t,e,n,r,o){this.parentContexts=t,this.location=e,this.resolver=n,this.changeDetector=o,this.activated=null,this._activatedRoute=null,this.activateEvents=new i.n,this.deactivateEvents=new i.n,this.name=r||"primary",t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,t}attach(t,e){this.activated=t,this._activatedRoute=e,this.location.insert(t.hostView)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,e){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;const n=(e=e||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),r=this.parentContexts.getOrCreateContext(this.name).children,i=new Nn(t,r,this.location.injector);this.activated=this.location.createComponent(n,this.location.length,i),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return t.\u0275fac=function(e){return new(e||t)(i.Kb(An),i.Kb(i.O),i.Kb(i.j),i.Sb("name"),i.Kb(i.h))},t.\u0275dir=i.Fb({type:t,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),t})();class Nn{constructor(t,e,n){this.route=t,this.childContexts=e,this.parent=n}get(t,e){return t===fe?this.route:t===An?this.childContexts:this.parent.get(t,e)}}class kn{}class xn{preload(t,e){return Object(o.a)(null)}}let Pn=(()=>{class t{constructor(t,e,n,r,i){this.router=t,this.injector=r,this.preloadingStrategy=i,this.loader=new mn(e,n,e=>t.triggerEvent(new gt(e)),e=>t.triggerEvent(new mt(e)))}setUpPreloading(){this.subscription=this.router.events.pipe(Object(C.a)(t=>t instanceof at),Z(()=>this.preload())).subscribe(()=>{})}preload(){const t=this.injector.get(i.x);return this.processRoutes(t,this.router.config)}ngOnDestroy(){this.subscription.unsubscribe()}processRoutes(t,e){const n=[];for(const r of e)if(r.loadChildren&&!r.canLoad&&r._loadedConfig){const t=r._loadedConfig;n.push(this.processRoutes(t.module,t.routes))}else r.loadChildren&&!r.canLoad?n.push(this.preloadConfig(t,r)):r.children&&n.push(this.processRoutes(t,r.children));return Object(s.a)(n).pipe(Object(E.a)(),Object(_.a)(t=>{}))}preloadConfig(t,e){return this.preloadingStrategy.preload(e,()=>this.loader.load(t.injector,e).pipe(Object(K.a)(t=>(e._loadedConfig=t,this.processRoutes(t.module,t.routes)))))}}return t.\u0275fac=function(e){return new(e||t)(i.Rb(_n),i.Rb(i.w),i.Rb(i.i),i.Rb(i.r),i.Rb(kn))},t.\u0275prov=i.Gb({token:t,factory:t.\u0275fac}),t})(),Rn=(()=>{class t{constructor(t,e,n={}){this.router=t,this.viewportScroller=e,this.options=n,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},n.scrollPositionRestoration=n.scrollPositionRestoration||"disabled",n.anchorScrolling=n.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof st?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof at&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof _t&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,e){this.router.triggerEvent(new _t(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,e))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return t.\u0275fac=function(t){i.Ub()},t.\u0275dir=i.Fb({type:t}),t})();const Dn=new i.q("ROUTER_CONFIGURATION"),Mn=new i.q("ROUTER_FORROOT_GUARD"),Ln=[r.f,{provide:Bt,useClass:zt},{provide:_n,useFactory:function(t,e,n,i,o,s,a,u={},c,h){const l=new _n(null,t,e,n,i,o,s,Dt(a));if(c&&(l.urlHandlingStrategy=c),h&&(l.routeReuseStrategy=h),u.errorHandler&&(l.errorHandler=u.errorHandler),u.malformedUriErrorHandler&&(l.malformedUriErrorHandler=u.malformedUriErrorHandler),u.enableTracing){const t=Object(r.o)();l.events.subscribe(e=>{t.logGroup(`Router Event: ${e.constructor.name}`),t.log(e.toString()),t.log(e),t.logGroupEnd()})}return u.onSameUrlNavigation&&(l.onSameUrlNavigation=u.onSameUrlNavigation),u.paramsInheritanceStrategy&&(l.paramsInheritanceStrategy=u.paramsInheritanceStrategy),u.urlUpdateStrategy&&(l.urlUpdateStrategy=u.urlUpdateStrategy),u.relativeLinkResolution&&(l.relativeLinkResolution=u.relativeLinkResolution),l},deps:[Bt,An,r.f,i.r,i.w,i.i,gn,Dn,[class{},new i.A],[class{},new i.A]]},An,{provide:fe,useFactory:function(t){return t.routerState.root},deps:[_n]},{provide:i.w,useClass:i.J},Pn,xn,class{preload(t,e){return e().pipe(F(()=>Object(o.a)(null)))}},{provide:Dn,useValue:{enableTracing:!1}}];function jn(){return new i.y("Router",_n)}let Un=(()=>{class t{constructor(t,e){}static forRoot(e,n){return{ngModule:t,providers:[Ln,Hn(e),{provide:Mn,useFactory:qn,deps:[[_n,new i.A,new i.I]]},{provide:Dn,useValue:n||{}},{provide:r.g,useFactory:Fn,deps:[r.j,[new i.p(r.a),new i.A],Dn]},{provide:Rn,useFactory:Vn,deps:[_n,r.k,Dn]},{provide:kn,useExisting:n&&n.preloadingStrategy?n.preloadingStrategy:xn},{provide:i.y,multi:!0,useFactory:jn},[Gn,{provide:i.d,multi:!0,useFactory:Bn,deps:[Gn]},{provide:Wn,useFactory:zn,deps:[Gn]},{provide:i.b,multi:!0,useExisting:Wn}]]}}static forChild(e){return{ngModule:t,providers:[Hn(e)]}}}return t.\u0275mod=i.Ib({type:t}),t.\u0275inj=i.Hb({factory:function(e){return new(e||t)(i.Rb(Mn,8),i.Rb(_n,8))}}),t})();function Vn(t,e,n){return n.scrollOffset&&e.setOffset(n.scrollOffset),new Rn(t,e,n)}function Fn(t,e,n={}){return n.useHash?new r.d(t,e):new r.i(t,e)}function qn(t){if(t)throw new Error("RouterModule.forRoot() called twice. Lazy loaded modules should use RouterModule.forChild() instead.");return"guarded"}function Hn(t){return[{provide:i.a,multi:!0,useValue:t},{provide:gn,multi:!0,useValue:t}]}let Gn=(()=>{class t{constructor(t){this.injector=t,this.initNavigation=!1,this.resultOfPreactivationDone=new w.a}appInitializer(){return this.injector.get(r.e,Promise.resolve(null)).then(()=>{let t=null;const e=new Promise(e=>t=e),n=this.injector.get(_n),r=this.injector.get(Dn);if(this.isLegacyDisabled(r)||this.isLegacyEnabled(r))t(!0);else if("disabled"===r.initialNavigation)n.setUpLocationChangeListener(),t(!0);else{if("enabled"!==r.initialNavigation)throw new Error(`Invalid initialNavigation options: '${r.initialNavigation}'`);n.hooks.afterPreactivation=()=>this.initNavigation?Object(o.a)(null):(this.initNavigation=!0,t(!0),this.resultOfPreactivationDone),n.initialNavigation()}return e})}bootstrapListener(t){const e=this.injector.get(Dn),n=this.injector.get(Pn),r=this.injector.get(Rn),o=this.injector.get(_n),s=this.injector.get(i.g);t===s.components[0]&&(this.isLegacyEnabled(e)?o.initialNavigation():this.isLegacyDisabled(e)&&o.setUpLocationChangeListener(),n.setUpPreloading(),r.init(),o.resetRootComponentType(s.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}isLegacyEnabled(t){return"legacy_enabled"===t.initialNavigation||!0===t.initialNavigation||void 0===t.initialNavigation}isLegacyDisabled(t){return"legacy_disabled"===t.initialNavigation||!1===t.initialNavigation}}return t.\u0275fac=function(e){return new(e||t)(i.Rb(i.r))},t.\u0275prov=i.Gb({token:t,factory:t.\u0275fac}),t})();function Bn(t){return t.appInitializer.bind(t)}function zn(t){return t.bootstrapListener.bind(t)}const Wn=new i.q("Router Initializer")},vkgz:function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var r=n("7o/Q"),i=n("KqfI"),o=n("n6bG");function s(t,e,n){return function(r){return r.lift(new a(t,e,n))}}class a{constructor(t,e,n){this.nextOrObserver=t,this.error=e,this.complete=n}call(t,e){return e.subscribe(new u(t,this.nextOrObserver,this.error,this.complete))}}class u extends r.a{constructor(t,e,n,r){super(t),this._tapNext=i.a,this._tapError=i.a,this._tapComplete=i.a,this._tapError=n||i.a,this._tapComplete=r||i.a,Object(o.a)(e)?(this._context=this,this._tapNext=e):e&&(this._context=e,this._tapNext=e.next||i.a,this._tapError=e.error||i.a,this._tapComplete=e.complete||i.a)}_next(t){try{this._tapNext.call(this._context,t)}catch(e){return void this.destination.error(e)}this.destination.next(t)}_error(t){try{this._tapError.call(this._context,t)}catch(t){return void this.destination.error(t)}this.destination.error(t)}_complete(){try{this._tapComplete.call(this._context)}catch(t){return void this.destination.error(t)}return this.destination.complete()}}},wj3C:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,i,o=n("mrSG"),s=n("zVF4"),a=n("S+S0"),u=n("q/0M"),c=((r={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",r["bad-app-name"]="Illegal App name: '{$appName}",r["duplicate-app"]="Firebase App named '{$appName}' already exists",r["app-deleted"]="Firebase App named '{$appName}' already deleted",r["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",r),h=new s.ErrorFactory("app","Firebase",c),l="@firebase/app",f=((i={})[l]="fire-core",i["@firebase/analytics"]="fire-analytics",i["@firebase/auth"]="fire-auth",i["@firebase/database"]="fire-rtdb",i["@firebase/functions"]="fire-fn",i["@firebase/installations"]="fire-iid",i["@firebase/messaging"]="fire-fcm",i["@firebase/performance"]="fire-perf",i["@firebase/remote-config"]="fire-rc",i["@firebase/storage"]="fire-gcs",i["@firebase/firestore"]="fire-fst",i["fire-js"]="fire-js",i["firebase-wrapper"]="fire-js-all",i),d=new u.Logger("@firebase/app"),p=function(){function t(t,e,n){var r,i,u=this;this.firebase_=n,this.isDeleted_=!1,this.name_=e.name,this.automaticDataCollectionEnabled_=e.automaticDataCollectionEnabled||!1,this.options_=s.deepCopy(t),this.container=new a.ComponentContainer(e.name),this._addComponent(new a.Component("app",(function(){return u}),"PUBLIC"));try{for(var c=o.__values(this.firebase_.INTERNAL.components.values()),h=c.next();!h.done;h=c.next())this._addComponent(h.value)}catch(l){r={error:l}}finally{try{h&&!h.done&&(i=c.return)&&i.call(c)}finally{if(r)throw r.error}}}return Object.defineProperty(t.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(t){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!0,configurable:!0}),t.prototype.delete=function(){var t=this;return new Promise((function(e){t.checkDestroyed_(),e()})).then((function(){return t.firebase_.INTERNAL.removeApp(t.name_),Promise.all(t.container.getProviders().map((function(t){return t.delete()})))})).then((function(){t.isDeleted_=!0}))},t.prototype._getService=function(t,e){return void 0===e&&(e="[DEFAULT]"),this.checkDestroyed_(),this.container.getProvider(t).getImmediate({identifier:e})},t.prototype._removeServiceInstance=function(t,e){void 0===e&&(e="[DEFAULT]"),this.container.getProvider(t).clearInstance(e)},t.prototype._addComponent=function(t){try{this.container.addComponent(t)}catch(e){d.debug("Component "+t.name+" failed to register with FirebaseApp "+this.name,e)}},t.prototype._addOrOverwriteComponent=function(t){this.container.addOrOverwriteComponent(t)},t.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw h.create("app-deleted",{appName:this.name_})},t}();p.prototype.name&&p.prototype.options||p.prototype.delete||console.log("dc");var g=function t(){var e=function(t){var e={},n=new Map,r={__esModule:!0,initializeApp:function(n,i){void 0===i&&(i={}),"object"==typeof i&&null!==i||(i={name:i});var o=i;void 0===o.name&&(o.name="[DEFAULT]");var a=o.name;if("string"!=typeof a||!a)throw h.create("bad-app-name",{appName:String(a)});if(s.contains(e,a))throw h.create("duplicate-app",{appName:a});var u=new t(n,o,r);return e[a]=u,u},app:i,registerVersion:function(t,e,n){var r,i=null!==(r=f[t])&&void 0!==r?r:t;n&&(i+="-"+n);var o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){var c=['Unable to register library "'+i+'" with version "'+e+'":'];return o&&c.push('library name "'+i+'" contains illegal characters (whitespace or "/")'),o&&s&&c.push("and"),s&&c.push('version name "'+e+'" contains illegal characters (whitespace or "/")'),void d.warn(c.join(" "))}u(new a.Component(i+"-version",(function(){return{library:i,version:e}}),"VERSION"))},apps:null,SDK_VERSION:"7.11.0",INTERNAL:{registerComponent:u,removeApp:function(t){delete e[t]},components:n,useAsService:function(t,e){return"serverAuth"===e?null:e}}};function i(t){if(!s.contains(e,t=t||"[DEFAULT]"))throw h.create("no-app",{appName:t});return e[t]}function u(a){var u,c,l=a.name;if(n.has(l))return d.debug("There were multiple attempts to register component "+l+"."),"PUBLIC"===a.type?r[l]:null;if(n.set(l,a),"PUBLIC"===a.type){var f=function(t){if(void 0===t&&(t=i()),"function"!=typeof t[l])throw h.create("invalid-app-argument",{appName:l});return t[l]()};void 0!==a.serviceProps&&s.deepExtend(f,a.serviceProps),r[l]=f,t.prototype[l]=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=this._getService.bind(this,l);return n.apply(this,a.multipleInstances?t:[])}}try{for(var p=o.__values(Object.keys(e)),g=p.next();!g.done;g=p.next())e[g.value]._addComponent(a)}catch(m){u={error:m}}finally{try{g&&!g.done&&(c=p.return)&&c.call(p)}finally{if(u)throw u.error}}return"PUBLIC"===a.type?r[l]:null}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(e).map((function(t){return e[t]}))}}),i.App=t,r}(p);return e.INTERNAL=o.__assign(o.__assign({},e.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(t){s.deepExtend(e,t)},createSubscribe:s.createSubscribe,ErrorFactory:s.ErrorFactory,deepExtend:s.deepExtend}),e}(),m=function(){function t(t){this.container=t}return t.prototype.getPlatformInfoString=function(){return this.container.getProviders().map((function(t){if(function(t){var e=t.getComponent();return"VERSION"===(null==e?void 0:e.type)}(t)){var e=t.getImmediate();return e.library+"/"+e.version}return null})).filter((function(t){return t})).join(" ")},t}();if(s.isBrowser()&&void 0!==self.firebase){d.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var v=self.firebase.SDK_VERSION;v&&v.indexOf("LITE")>=0&&d.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var y=g.initializeApp;g.initializeApp=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return s.isNode()&&d.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the rollup-plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/rollup-plugin-node-resolve\n      '),y.apply(void 0,t)};var b=g;!function(t,e){t.INTERNAL.registerComponent(new a.Component("platform-logger",(function(t){return new m(t)}),"PRIVATE")),t.registerVersion(l,"0.5.6",void 0),t.registerVersion("fire-js","")}(b),e.default=b,e.firebase=b},x7I3:function(t,e,n){"use strict";n.r(e),n.d(e,"ErrorCode",(function(){return ar})),n.d(e,"EventType",(function(){return ur})),n.d(e,"WebChannel",(function(){return cr})),n.d(e,"XhrIo",(function(){return hr})),n.d(e,"createWebChannelTransport",(function(){return sr}));var r,i="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},o=o||{},s=i;function a(t){return"string"==typeof t}function u(t){return"number"==typeof t}function c(t,e){t=t.split("."),e=e||s;for(var n=0;n<t.length;n++)if(null==(e=e[t[n]]))return null;return e}function h(){}function l(t){var e=typeof t;if("object"==e){if(!t)return"null";if(t instanceof Array)return"array";if(t instanceof Object)return e;var n=Object.prototype.toString.call(t);if("[object Window]"==n)return"object";if("[object Array]"==n||"number"==typeof t.length&&void 0!==t.splice&&void 0!==t.propertyIsEnumerable&&!t.propertyIsEnumerable("splice"))return"array";if("[object Function]"==n||void 0!==t.call&&void 0!==t.propertyIsEnumerable&&!t.propertyIsEnumerable("call"))return"function"}else if("function"==e&&void 0===t.call)return"object";return e}function f(t){return"array"==l(t)}function d(t){var e=l(t);return"array"==e||"object"==e&&"number"==typeof t.length}function p(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var g="closure_uid_"+(1e9*Math.random()>>>0),m=0;function v(t,e,n){return t.call.apply(t.bind,arguments)}function y(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function b(t,e,n){return(b=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?v:y).apply(null,arguments)}function w(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}var _=Date.now||function(){return+new Date};function E(t,e){function n(){}n.prototype=e.prototype,t.N=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.yb=function(t,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return e.prototype[n].apply(t,i)}}function I(){this.j=this.j,this.i=this.i}I.prototype.j=!1,I.prototype.la=function(){!this.j&&(this.j=!0,this.G(),0)&&(this[g]||(this[g]=++m))},I.prototype.G=function(){if(this.i)for(;this.i.length;)this.i.shift()()};var C=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(a(t))return a(e)&&1==e.length?t.indexOf(e,0):-1;for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},T=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,i=a(t)?t.split(""):t,o=0;o<r;o++)o in i&&e.call(n,i[o],o,t)};function S(t){return Array.prototype.concat.apply([],arguments)}function A(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}function O(t){return/^[\s\xa0]*$/.test(t)}var N,k=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function x(t,e){return-1!=t.indexOf(e)}function P(t,e){return t<e?-1:t>e?1:0}t:{var R=s.navigator;if(R){var D=R.userAgent;if(D){N=D;break t}}N=""}function M(t,e,n){for(var r in t)e.call(n,t[r],r,t)}function L(t){var e,n={};for(e in t)n[e]=t[e];return n}var j="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function U(t,e){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])t[n]=r[n];for(var o=0;o<j.length;o++)n=j[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function V(t){return V[" "](t),t}V[" "]=h;var F,q,H=x(N,"Opera"),G=x(N,"Trident")||x(N,"MSIE"),B=x(N,"Edge"),z=B||G,W=x(N,"Gecko")&&!(x(N.toLowerCase(),"webkit")&&!x(N,"Edge"))&&!(x(N,"Trident")||x(N,"MSIE"))&&!x(N,"Edge"),K=x(N.toLowerCase(),"webkit")&&!x(N,"Edge");function $(){var t=s.document;return t?t.documentMode:void 0}t:{var Y="",Q=(q=N,W?/rv:([^\);]+)(\)|;)/.exec(q):B?/Edge\/([\d\.]+)/.exec(q):G?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(q):K?/WebKit\/(\S+)/.exec(q):H?/(?:Version)[ \/]?(\S+)/.exec(q):void 0);if(Q&&(Y=Q?Q[1]:""),G){var J=$();if(null!=J&&J>parseFloat(Y)){F=String(J);break t}}F=Y}var X,Z={};function tt(t){return function(t,e){var n=Z;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e()}(t,(function(){for(var e=0,n=k(String(F)).split("."),r=k(String(t)).split("."),i=Math.max(n.length,r.length),o=0;0==e&&o<i;o++){var s=n[o]||"",a=r[o]||"";do{if(s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],0==s[0].length&&0==a[0].length)break;e=P(0==s[1].length?0:parseInt(s[1],10),0==a[1].length?0:parseInt(a[1],10))||P(0==s[2].length,0==a[2].length)||P(s[2],a[2]),s=s[3],a=a[3]}while(0==e)}return 0<=e}))}var et=s.document;X=et&&G?$()||("CSS1Compat"==et.compatMode?parseInt(F,10):5):void 0;var nt=!G||9<=Number(X),rt=G&&!tt("9"),it=function(){if(!s.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{s.addEventListener("test",h,e),s.removeEventListener("test",h,e)}catch(n){}return t}();function ot(t,e){this.type=t,this.a=this.target=e,this.Ia=!0}function st(t,e){if(ot.call(this,t?t.type:""),this.relatedTarget=this.a=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.c=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.a=e,e=t.relatedTarget){if(W){t:{try{V(e.nodeName);var i=!0;break t}catch(o){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=a(t.pointerType)?t.pointerType:at[t.pointerType]||"",this.c=t,t.defaultPrevented&&this.b()}}ot.prototype.b=function(){this.Ia=!1},E(st,ot);var at={2:"touch",3:"pen",4:"mouse"};st.prototype.b=function(){st.N.b.call(this);var t=this.c;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,rt)try{(t.ctrlKey||112<=t.keyCode&&123>=t.keyCode)&&(t.keyCode=-1)}catch(e){}};var ut="closure_listenable_"+(1e6*Math.random()|0),ct=0;function ht(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.da=i,this.key=++ct,this.X=this.Z=!1}function lt(t){t.X=!0,t.listener=null,t.proxy=null,t.src=null,t.da=null}function ft(t){this.src=t,this.a={},this.b=0}function dt(t,e){var n=e.type;if(n in t.a){var r,i=t.a[n],o=C(i,e);(r=0<=o)&&Array.prototype.splice.call(i,o,1),r&&(lt(e),0==t.a[n].length&&(delete t.a[n],t.b--))}}function pt(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.X&&o.listener==e&&o.capture==!!n&&o.da==r)return i}return-1}ft.prototype.add=function(t,e,n,r,i){var o=t.toString();(t=this.a[o])||(t=this.a[o]=[],this.b++);var s=pt(t,e,r,i);return-1<s?(e=t[s],n||(e.Z=!1)):((e=new ht(e,this.src,o,!!r,i)).Z=n,t.push(e)),e};var gt="closure_lm_"+(1e6*Math.random()|0),mt={};function vt(t,e,n,r,i){if(r&&r.once)return function t(e,n,r,i,o){if(f(n)){for(var s=0;s<n.length;s++)t(e,n[s],r,i,o);return null}return r=Ct(r),e&&e[ut]?e.Aa(n,r,p(i)?!!i.capture:!!i,o):yt(e,n,r,!0,i,o)}(t,e,n,r,i);if(f(e)){for(var o=0;o<e.length;o++)vt(t,e[o],n,r,i);return null}return n=Ct(n),t&&t[ut]?t.za(e,n,p(r)?!!r.capture:!!r,i):yt(t,e,n,!1,r,i)}function yt(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var s=p(i)?!!i.capture:!!i;if(s&&!nt)return null;var a=Et(t);if(a||(t[gt]=a=new ft(t)),(n=a.add(e,n,r,s,o)).proxy)return n;if(r=function(){var t=_t,e=nt?function(n){return t.call(e.src,e.listener,n)}:function(n){if(!(n=t.call(e.src,e.listener,n)))return n};return e}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)it||(i=s),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(wt(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function bt(t){if(!u(t)&&t&&!t.X){var e=t.src;if(e&&e[ut])dt(e.c,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(wt(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=Et(e))?(dt(n,t),0==n.b&&(n.src=null,e[gt]=null)):lt(t)}}}function wt(t){return t in mt?mt[t]:mt[t]="on"+t}function _t(t,e){return!!t.X||function(t,e){var n=t.listener,r=t.da||t.src;return t.Z&&bt(t),n.call(r,e)}(t,nt?new st(e,this):e=new st(e||c("window.event"),this))}function Et(t){return(t=t[gt])instanceof ft?t:null}var It="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ct(t){return"function"==l(t)?t:(t[It]||(t[It]=function(e){return t.handleEvent(e)}),t[It])}function Tt(){I.call(this),this.c=new ft(this),this.J=this,this.B=null}function St(t,e,n,r){if(!(e=t.c.a[String(e)]))return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var s=e[o];if(s&&!s.X&&s.capture==n){var a=s.listener,u=s.da||s.src;s.Z&&dt(t.c,s),i=!1!==a.call(u,r)&&i}}return i&&0!=r.Ia}E(Tt,I),Tt.prototype[ut]=!0,(r=Tt.prototype).addEventListener=function(t,e,n,r){vt(this,t,e,n,r)},r.removeEventListener=function(t,e,n,r){!function t(e,n,r,i,o){if(f(n))for(var s=0;s<n.length;s++)t(e,n[s],r,i,o);else i=p(i)?!!i.capture:!!i,r=Ct(r),e&&e[ut]?(e=e.c,(n=String(n).toString())in e.a&&-1<(r=pt(s=e.a[n],r,i,o))&&(lt(s[r]),Array.prototype.splice.call(s,r,1),0==s.length&&(delete e.a[n],e.b--))):e&&(e=Et(e))&&(n=e.a[n.toString()],e=-1,n&&(e=pt(n,r,i,o)),(r=-1<e?n[e]:null)&&bt(r))}(this,t,e,n,r)},r.dispatchEvent=function(t){var e,n=this.B;if(n)for(e=[];n;n=n.B)e.push(n);n=this.J;var r=t.type||t;if(a(t))t=new ot(t,n);else if(t instanceof ot)t.target=t.target||n;else{var i=t;U(t=new ot(r,n),i)}if(i=!0,e)for(var o=e.length-1;0<=o;o--){var s=t.a=e[o];i=St(s,r,!0,t)&&i}if(i=St(s=t.a=n,r,!0,t)&&i,i=St(s,r,!1,t)&&i,e)for(o=0;o<e.length;o++)i=St(s=t.a=e[o],r,!1,t)&&i;return i},r.G=function(){if(Tt.N.G.call(this),this.c){var t,e=this.c;for(t in e.a){for(var n=e.a[t],r=0;r<n.length;r++)lt(n[r]);delete e.a[t],e.b--}}this.B=null},r.za=function(t,e,n,r){return this.c.add(String(t),e,!1,n,r)},r.Aa=function(t,e,n,r){return this.c.add(String(t),e,!0,n,r)};var At=s.JSON.stringify;function Ot(t,e){this.c=t,this.f=e,this.b=0,this.a=null}function Nt(){this.b=this.a=null}Ot.prototype.get=function(){if(0<this.b){this.b--;var t=this.a;this.a=t.next,t.next=null}else t=this.c();return t};var kt,xt=new Ot((function(){return new Rt}),(function(t){t.reset()}));function Pt(){var t=jt,e=null;return t.a&&(e=t.a,t.a=t.a.next,t.a||(t.b=null),e.next=null),e}function Rt(){this.next=this.b=this.a=null}function Dt(t){s.setTimeout((function(){throw t}),0)}function Mt(t,e){kt||function(){var t=s.Promise.resolve(void 0);kt=function(){t.then(Ut)}}(),Lt||(kt(),Lt=!0),jt.add(t,e)}Nt.prototype.add=function(t,e){var n=xt.get();n.set(t,e),this.b?this.b.next=n:this.a=n,this.b=n},Rt.prototype.set=function(t,e){this.a=t,this.b=e,this.next=null},Rt.prototype.reset=function(){this.next=this.b=this.a=null};var Lt=!1,jt=new Nt;function Ut(){for(var t;t=Pt();){try{t.a.call(t.b)}catch(n){Dt(n)}var e=xt;e.f(t),100>e.b&&(e.b++,t.next=e.a,e.a=t)}Lt=!1}function Vt(t,e){Tt.call(this),this.b=t||1,this.a=e||s,this.f=b(this.gb,this),this.g=_()}function Ft(t){t.ba=!1,t.L&&(t.a.clearTimeout(t.L),t.L=null)}function qt(t,e,n){if("function"==l(t))n&&(t=b(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=b(t.handleEvent,t)}return 2147483647<Number(e)?-1:s.setTimeout(t,e||0)}function Ht(t,e,n){I.call(this),this.f=null!=n?b(t,n):t,this.c=e,this.b=b(this.$a,this),this.a=[]}function Gt(t){t.U=qt(t.b,t.c),t.f.apply(null,t.a)}function Bt(t){I.call(this),this.b=t,this.a={}}E(Vt,Tt),(r=Vt.prototype).ba=!1,r.L=null,r.gb=function(){if(this.ba){var t=_()-this.g;0<t&&t<.8*this.b?this.L=this.a.setTimeout(this.f,this.b-t):(this.L&&(this.a.clearTimeout(this.L),this.L=null),this.dispatchEvent("tick"),this.ba&&(Ft(this),this.start()))}},r.start=function(){this.ba=!0,this.L||(this.L=this.a.setTimeout(this.f,this.b),this.g=_())},r.G=function(){Vt.N.G.call(this),Ft(this),delete this.a},E(Ht,I),(r=Ht.prototype).ea=!1,r.U=null,r.Ta=function(t){this.a=arguments,this.U?this.ea=!0:Gt(this)},r.G=function(){Ht.N.G.call(this),this.U&&(s.clearTimeout(this.U),this.U=null,this.ea=!1,this.a=[])},r.$a=function(){this.U=null,this.ea&&(this.ea=!1,Gt(this))},E(Bt,I);var zt=[];function Wt(t,e,n,r){f(n)||(n&&(zt[0]=n.toString()),n=zt);for(var i=0;i<n.length;i++){var o=vt(e,n[i],r||t.handleEvent,!1,t.b||t);if(!o)break;t.a[o.key]=o}}function Kt(t){M(t.a,(function(t,e){this.a.hasOwnProperty(e)&&bt(t)}),t),t.a={}}function $t(){}Bt.prototype.G=function(){Bt.N.G.call(this),Kt(this)},Bt.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Yt=new Tt;function Qt(t){ot.call(this,"serverreachability",t)}function Jt(t){Yt.dispatchEvent(new Qt(Yt,t))}function Xt(t){ot.call(this,"statevent",t)}function Zt(t){Yt.dispatchEvent(new Xt(Yt,t))}function te(t){ot.call(this,"timingevent",t)}function ee(t,e){if("function"!=l(t))throw Error("Fn must not be null and must be a function");return s.setTimeout((function(){t()}),e)}E(Qt,ot),E(Xt,ot),E(te,ot);var ne={NO_ERROR:0,hb:1,ob:2,nb:3,kb:4,mb:5,pb:6,La:7,TIMEOUT:8,sb:9},re={jb:"complete",wb:"success",Ma:"error",La:"abort",ub:"ready",vb:"readystatechange",TIMEOUT:"timeout",qb:"incrementaldata",tb:"progress",lb:"downloadprogress",xb:"uploadprogress"};function ie(){}function oe(){}ie.prototype.a=null;var se,ae={OPEN:"a",ib:"b",Ma:"c",rb:"d"};function ue(){ot.call(this,"d")}function ce(){ot.call(this,"c")}function he(){}function le(t,e,n){this.g=t,this.W=e,this.V=n||1,this.I=new Bt(this),this.O=fe,this.P=new Vt(t=z?125:void 0),this.h=null,this.b=!1,this.l=this.D=this.f=this.F=this.v=this.R=this.i=null,this.j=[],this.a=null,this.A=0,this.c=this.w=null,this.o=-1,this.m=!1,this.J=0,this.B=null,this.s=this.S=this.H=!1}E(ue,ot),E(ce,ot),E(he,ie),se=new he;var fe=45e3,de={},pe={};function ge(t,e,n){t.F=1,t.f=Fe(Re(e)),t.l=n,t.H=!0,ve(t,null)}function me(t,e,n,r){t.F=1,t.f=Fe(Re(e)),t.l=null,t.H=n,ve(t,r)}function ve(t,e){t.v=_(),we(t),t.D=Re(t.f),Ve(t.D,"t",t.V),t.A=0,t.a=t.g.$(t.g.Y()?e:null),0<t.J&&(t.B=new Ht(b(t.Ja,t,t.a),t.J)),Wt(t.I,t.a,"readystatechange",t.cb),e=t.h?L(t.h):{},t.l?(t.w||(t.w="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.a.ca(t.D,t.w,t.l,e)):(t.w="GET",t.a.ca(t.D,t.w,null,e)),Jt(1)}function ye(t,e,n){for(var r=!0;!t.m&&t.A<n.length;){var i=be(t,n);if(i==pe){4==e&&(t.c=4,Zt(14),r=!1);break}if(i==de){t.c=4,Zt(15),r=!1;break}Te(t,i)}4==e&&0==n.length&&(t.c=1,Zt(16),r=!1),t.b=t.b&&r,r||(Ce(t),Ie(t))}function be(t,e){var n=t.A,r=e.indexOf("\n",n);return-1==r?pe:(n=Number(e.substring(n,r)),isNaN(n)?de:(r+=1)+n>e.length?pe:(e=e.substr(r,n),t.A=r+n,e))}function we(t){t.R=_()+t.O,_e(t,t.O)}function _e(t,e){if(null!=t.i)throw Error("WatchDog timer not null");t.i=ee(b(t.ab,t),e)}function Ee(t){t.i&&(s.clearTimeout(t.i),t.i=null)}function Ie(t){t.g.Ca()||t.m||t.g.na(t)}function Ce(t){Ee(t);var e=t.B;e&&"function"==typeof e.la&&e.la(),t.B=null,Ft(t.P),Kt(t.I),t.a&&(e=t.a,t.a=null,e.abort(),e.la())}function Te(t,e){try{t.g.Fa(t,e),Jt(4)}catch(n){}}function Se(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(d(t)||a(t))T(t,e,void 0);else{if(t.K&&"function"==typeof t.K)var n=t.K();else if(t.C&&"function"==typeof t.C)n=void 0;else if(d(t)||a(t)){n=[];for(var r=t.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,t)n[r++]=i;i=(r=function(t){if(t.C&&"function"==typeof t.C)return t.C();if(a(t))return t.split("");if(d(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t)).length;for(var o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}}function Ae(t,e){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof Ae)for(n=t.K(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function Oe(t,e){ke(t.b,e)&&(delete t.b[e],t.c--,t.a.length>2*t.c&&Ne(t))}function Ne(t){if(t.c!=t.a.length){for(var e=0,n=0;e<t.a.length;){var r=t.a[e];ke(t.b,r)&&(t.a[n++]=r),e++}t.a.length=n}if(t.c!=t.a.length){var i={};for(n=e=0;e<t.a.length;)ke(i,r=t.a[e])||(t.a[n++]=r,i[r]=1),e++;t.a.length=n}}function ke(t,e){return Object.prototype.hasOwnProperty.call(t,e)}(r=le.prototype).setTimeout=function(t){this.O=t},r.cb=function(t){t=t.target;var e=this.B;e&&3==Rn(t)?e.Ta():this.Ja(t)},r.Ja=function(t){try{if(t==this.a)t:{var e=Rn(this.a),n=this.a.ya(),r=this.a.T();if(!(3>e||3==e&&!z&&!this.a.aa())){this.m||4!=e||7==n||Jt(8==n||0>=r?3:2),Ee(this);var i=this.a.T();this.o=i;var o=this.a.aa();if(this.b=200==i){if(this.S&&!this.s){e:{if(this.a){var s=Dn(this.a,"X-HTTP-Initial-Response");if(s&&!O(s)){var a=s;break e}}a=null}if(!a){this.b=!1,this.c=3,Zt(12),Ce(this),Ie(this);break t}this.s=!0,Te(this,a)}this.H?(ye(this,e,o),z&&this.b&&3==e&&(Wt(this.I,this.P,"tick",this.bb),this.P.start())):Te(this,o),4==e&&Ce(this),this.b&&!this.m&&(4==e?this.g.na(this):(this.b=!1,we(this)))}else 400==i&&0<o.indexOf("Unknown SID")?(this.c=3,Zt(12)):(this.c=0,Zt(13)),Ce(this),Ie(this)}}}catch(u){}},r.bb=function(){if(this.a){var t=Rn(this.a),e=this.a.aa();this.A<e.length&&(Ee(this),ye(this,t,e),this.b&&4!=t&&we(this))}},r.cancel=function(){this.m=!0,Ce(this)},r.ab=function(){this.i=null;var t=_();0<=t-this.R?(2!=this.F&&(Jt(3),Zt(17)),Ce(this),this.c=2,Ie(this)):_e(this,this.R-t)},(r=Ae.prototype).C=function(){Ne(this);for(var t=[],e=0;e<this.a.length;e++)t.push(this.b[this.a[e]]);return t},r.K=function(){return Ne(this),this.a.concat()},r.get=function(t,e){return ke(this.b,t)?this.b[t]:e},r.set=function(t,e){ke(this.b,t)||(this.c++,this.a.push(t)),this.b[t]=e},r.forEach=function(t,e){for(var n=this.K(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);t.call(e,o,i,this)}};var xe=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^/?#]*)@)?([^/#?]*?)(?::([0-9]+))?(?=[/#?]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Pe(t,e){var n;this.b=this.j=this.f="",this.i=null,this.g=this.a="",this.h=!1,t instanceof Pe?(this.h=void 0!==e?e:t.h,De(this,t.f),this.j=t.j,Me(this,t.b),Le(this,t.i),this.a=t.a,je(this,tn(t.c)),this.g=t.g):t&&(n=String(t).match(xe))?(this.h=!!e,De(this,n[1]||"",!0),this.j=qe(n[2]||""),Me(this,n[3]||"",!0),Le(this,n[4]),this.a=qe(n[5]||"",!0),je(this,n[6]||"",!0),this.g=qe(n[7]||"")):(this.h=!!e,this.c=new Ye(null,this.h))}function Re(t){return new Pe(t)}function De(t,e,n){t.f=n?qe(e,!0):e,t.f&&(t.f=t.f.replace(/:$/,""))}function Me(t,e,n){t.b=n?qe(e,!0):e}function Le(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.i=e}else t.i=null}function je(t,e,n){e instanceof Ye?(t.c=e,function(t,e){e&&!t.f&&(Qe(t),t.c=null,t.a.forEach((function(t,e){var n=e.toLowerCase();e!=n&&(Je(this,e),Ze(this,n,t))}),t)),t.f=e}(t.c,t.h)):(n||(e=He(e,Ke)),t.c=new Ye(e,t.h))}function Ue(t,e,n){t.c.set(e,n)}function Ve(t,e,n){f(n)||(n=[String(n)]),Ze(t.c,e,n)}function Fe(t){return Ue(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^_()).toString(36)),t}function qe(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function He(t,e,n){return a(t)?(t=encodeURI(t).replace(e,Ge),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function Ge(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}Pe.prototype.toString=function(){var t=[],e=this.f;e&&t.push(He(e,Be,!0),":");var n=this.b;return(n||"file"==e)&&(t.push("//"),(e=this.j)&&t.push(He(e,Be,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.i)&&t.push(":",String(n))),(n=this.a)&&(this.b&&"/"!=n.charAt(0)&&t.push("/"),t.push(He(n,"/"==n.charAt(0)?We:ze,!0))),(n=this.c.toString())&&t.push("?",n),(n=this.g)&&t.push("#",He(n,$e)),t.join("")},Pe.prototype.resolve=function(t){var e=Re(this),n=!!t.f;n?De(e,t.f):n=!!t.j,n?e.j=t.j:n=!!t.b,n?Me(e,t.b):n=null!=t.i;var r=t.a;if(n)Le(e,t.i);else if(n=!!t.a){if("/"!=r.charAt(0))if(this.b&&!this.a)r="/"+r;else{var i=e.a.lastIndexOf("/");-1!=i&&(r=e.a.substr(0,i+1)+r)}if(".."==(i=r)||"."==i)r="";else if(x(i,"./")||x(i,"/.")){r=0==i.lastIndexOf("/",0),i=i.split("/");for(var o=[],s=0;s<i.length;){var a=i[s++];"."==a?r&&s==i.length&&o.push(""):".."==a?((1<o.length||1==o.length&&""!=o[0])&&o.pop(),r&&s==i.length&&o.push("")):(o.push(a),r=!0)}r=o.join("/")}else r=i}return n?e.a=r:n=""!==t.c.toString(),n?je(e,tn(t.c)):n=!!t.g,n&&(e.g=t.g),e};var Be=/[#\/\?@]/g,ze=/[#\?:]/g,We=/[#\?]/g,Ke=/[#\?@]/g,$e=/#/g;function Ye(t,e){this.b=this.a=null,this.c=t||null,this.f=!!e}function Qe(t){t.a||(t.a=new Ae,t.b=0,t.c&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.c,(function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)})))}function Je(t,e){Qe(t),e=en(t,e),ke(t.a.b,e)&&(t.c=null,t.b-=t.a.get(e).length,Oe(t.a,e))}function Xe(t,e){return Qe(t),e=en(t,e),ke(t.a.b,e)}function Ze(t,e,n){Je(t,e),0<n.length&&(t.c=null,t.a.set(en(t,e),A(n)),t.b+=n.length)}function tn(t){var e=new Ye;return e.c=t.c,t.a&&(e.a=new Ae(t.a),e.b=t.b),e}function en(t,e){return e=String(e),t.f&&(e=e.toLowerCase()),e}function nn(t){this.a=t,this.b=this.h=null,this.g=!1,this.i=null,this.c=-1,this.l=this.f=null}function rn(t){var e=t.a.F.a;if(null!=e)Zt(4),e?(Zt(10),Wn(t.a,t,!1)):(Zt(11),Wn(t.a,t,!0));else{t.b=new le(t,void 0,void 0),t.b.h=t.h,e=Jn(e=t.a,e.Y()?t.f:null,t.i),Zt(4),Ve(e,"TYPE","xmlhttp");var n=t.a.j,r=t.a.I;n&&r&&Ue(e,n,r),me(t.b,e,!1,t.f)}}function on(){this.a=this.b=null}function sn(){this.a=new Ae}function an(t){var e=typeof t;return"object"==e&&t||"function"==e?"o"+(t[g]||(t[g]=++m)):e.charAt(0)+t}function un(t,e){this.b=t,this.a=e}function cn(t){this.g=t||hn,t=s.PerformanceNavigationTiming?0<(t=s.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):!!(s.ka&&s.ka.Da&&s.ka.Da()&&s.ka.Da().zb),this.f=t?this.g:1,this.a=null,1<this.f&&(this.a=new sn),this.b=null,this.c=[]}(r=Ye.prototype).add=function(t,e){Qe(this),this.c=null,t=en(this,t);var n=this.a.get(t);return n||this.a.set(t,n=[]),n.push(e),this.b+=1,this},r.forEach=function(t,e){Qe(this),this.a.forEach((function(n,r){T(n,(function(n){t.call(e,n,r,this)}),this)}),this)},r.K=function(){Qe(this);for(var t=this.a.C(),e=this.a.K(),n=[],r=0;r<e.length;r++)for(var i=t[r],o=0;o<i.length;o++)n.push(e[r]);return n},r.C=function(t){Qe(this);var e=[];if(a(t))Xe(this,t)&&(e=S(e,this.a.get(en(this,t))));else{t=this.a.C();for(var n=0;n<t.length;n++)e=S(e,t[n])}return e},r.set=function(t,e){return Qe(this),this.c=null,Xe(this,t=en(this,t))&&(this.b-=this.a.get(t).length),this.a.set(t,[e]),this.b+=1,this},r.get=function(t,e){return t&&0<(t=this.C(t)).length?String(t[0]):e},r.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var t=[],e=this.a.K(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.C(r);for(var o=0;o<r.length;o++){var s=i;""!==r[o]&&(s+="="+encodeURIComponent(String(r[o]))),t.push(s)}}return this.c=t.join("&")},E((function(){}),(function(){})),(r=nn.prototype).M=null,r.$=function(t){return this.a.$(t)},r.abort=function(){this.b&&(this.b.cancel(),this.b=null),this.c=-1},r.Ca=function(){return!1},r.Fa=function(t,e){if(this.c=t.o,0==this.M){if(!this.a.o&&(t=t.a)){var n=Dn(t,"X-Client-Wire-Protocol");this.l=n||null,this.a.j&&(t=Dn(t,"X-HTTP-Session-Id"))&&(this.a.I=t)}if(e){try{var r=this.a.ja.a.parse(e)}catch(i){return(e=this.a).m=this.c,void Yn(e,2)}this.f=r[0]}else(e=this.a).m=this.c,Yn(e,2)}else 1==this.M&&(this.g?Zt(6):"11111"==e?(Zt(5),this.g=!0,(!G||10<=Number(X))&&(this.c=200,this.b.cancel(),Zt(11),Wn(this.a,this,!0))):(Zt(7),this.g=!1))},r.na=function(){if(this.c=this.b.o,this.b.b)0==this.M?(this.M=1,rn(this)):1==this.M&&(this.g?(Zt(11),Wn(this.a,this,!0)):(Zt(10),Wn(this.a,this,!1)));else{0==this.M?Zt(8):1==this.M&&Zt(9);var t=this.a;t.m=this.c,Yn(t,2)}},r.Y=function(){return this.a.Y()},r.ma=function(){return this.a.ma()},sn.prototype.add=function(t){this.a.set(an(t),t)},sn.prototype.C=function(){return this.a.C()};var hn=10;function ln(t,e){!t.a&&(x(e,"spdy")||x(e,"quic")||x(e,"h2"))&&(t.f=t.g,t.a=new sn,t.b&&(gn(t,t.b),t.b=null))}function fn(t){return!!t.b||!!t.a&&t.a.a.c>=t.f}function dn(t){return t.b?1:t.a?t.a.a.c:0}function pn(t,e){return t.b?t=t.b==e:t.a?(e=an(e),t=ke(t.a.a.b,e)):t=!1,t}function gn(t,e){t.a?t.a.add(e):t.b=e}function mn(t,e){var n;t.b&&t.b==e?t.b=null:((n=t.a)&&(n=an(e),n=ke(t.a.a.b,n)),n&&Oe(t.a.a,an(e)))}function vn(t){if(null!=t.b)return t.c.concat(t.b.j);if(null!=t.a&&0!=t.a.a.c){var e=t.c;return T(t.a.C(),(function(t){e=e.concat(t.j)})),e}return A(t.c)}function yn(){}function bn(){this.a=new yn}function wn(t,e,n){var r=n||"";try{Se(t,(function(t,n){var i=t;p(t)&&(i=At(t)),e.push(r+n+"="+encodeURIComponent(i))}))}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function _n(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch(o){}}cn.prototype.cancel=function(){this.c=vn(this),this.b?(this.b.cancel(),this.b=null):this.a&&0!=this.a.a.c&&(T(this.a.C(),(function(t){t.cancel()})),function(t){t.b={},t.a.length=0,t.c=0}(this.a.a))},yn.prototype.stringify=function(t){return s.JSON.stringify(t,void 0)},yn.prototype.parse=function(t){return s.JSON.parse(t,void 0)};var En=s.JSON.parse;function In(t){Tt.call(this),this.headers=new Ae,this.H=t||null,this.b=!1,this.s=this.a=null,this.A="",this.h=0,this.f="",this.g=this.w=this.l=this.v=!1,this.o=0,this.m=null,this.I=Cn,this.D=this.F=!1}E(In,Tt);var Cn="",Tn=/^https?$/i,Sn=["POST","PUT"];function An(t){return"content-type"==t.toLowerCase()}function On(t,e){t.b=!1,t.a&&(t.g=!0,t.a.abort(),t.g=!1),t.f=e,t.h=5,Nn(t),xn(t)}function Nn(t){t.v||(t.v=!0,t.dispatchEvent("complete"),t.dispatchEvent("error"))}function kn(t){if(t.b&&void 0!==o&&(!t.s[1]||4!=Rn(t)||2!=t.T()))if(t.l&&4==Rn(t))qt(t.Ea,0,t);else if(t.dispatchEvent("readystatechange"),4==Rn(t)){t.b=!1;try{var e,n=t.T();t:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break t;default:r=!1}if(!(e=r)){var i;if(i=0===n){var a=String(t.A).match(xe)[1]||null;if(!a&&s.self&&s.self.location){var u=s.self.location.protocol;a=u.substr(0,u.length-1)}i=!Tn.test(a?a.toLowerCase():"")}e=i}if(e)t.dispatchEvent("complete"),t.dispatchEvent("success");else{t.h=6;try{var c=2<Rn(t)?t.a.statusText:""}catch(h){c=""}t.f=c+" ["+t.T()+"]",Nn(t)}}finally{xn(t)}}}function xn(t,e){if(t.a){Pn(t);var n=t.a,r=t.s[0]?h:null;t.a=null,t.s=null,e||t.dispatchEvent("ready");try{n.onreadystatechange=r}catch(i){}}}function Pn(t){t.a&&t.D&&(t.a.ontimeout=null),t.m&&(s.clearTimeout(t.m),t.m=null)}function Rn(t){return t.a?t.a.readyState:0}function Dn(t,e){return t.a?t.a.getResponseHeader(e):null}function Mn(t,e,n){t:{for(r in n){var r=!1;break t}r=!0}if(r)return t;if(n=function(t){var e="";return M(t,(function(t,n){e+=n,e+=":",e+=t,e+="\r\n"})),e}(n),a(t)){if(e=encodeURIComponent(String(e)),e+=n=null!=n?"="+encodeURIComponent(String(n)):""){if(0>(n=t.indexOf("#"))&&(n=t.length),0>(r=t.indexOf("?"))||r>n){r=n;var i=""}else i=t.substring(r+1,n);n=(t=[t.substr(0,r),i,t.substr(n)])[1],t[1]=e?n?n+"&"+e:e:n,t=t[0]+(t[1]?"?"+t[1]:"")+t[2]}return t}return Ue(t,e,n),t}function Ln(t){this.f=[],this.F=new on,this.ga=this.pa=this.B=this.ha=this.a=this.I=this.j=this.V=this.g=this.J=this.i=null,this.Qa=this.P=0,this.Oa=!!c("internalChannelParams.failFast",t),this.ia=this.w=this.s=this.l=this.h=this.c=null,this.oa=!0,this.m=this.ra=this.O=-1,this.S=this.v=this.A=0,this.Na=c("internalChannelParams.baseRetryDelayMs",t)||5e3,this.Ra=c("internalChannelParams.retryDelaySeedMs",t)||1e4,this.Pa=c("internalChannelParams.forwardChannelMaxRetries",t)||2,this.qa=c("internalChannelParams.forwardChannelRequestTimeoutMs",t)||2e4,this.Ka=t&&t.Ab||void 0,this.D=void 0,this.R=t&&t.supportsCrossDomainXhr||!1,this.H="",this.b=new cn(t&&t.concurrentRequestLimit),this.ja=new bn,this.o=!t||void 0===t.backgroundChannelTest||t.backgroundChannelTest,(this.W=t&&t.fastHandshake||!1)&&!this.o&&(this.o=!0),t&&t.forceLongPolling&&(this.oa=!1),this.fa=void 0}function jn(t){if(Un(t),3==t.u){var e=t.P++,n=Re(t.B);Ue(n,"SID",t.H),Ue(n,"RID",e),Ue(n,"TYPE","terminate"),Hn(t,n),(e=new le(t,e,void 0)).F=2,e.f=Fe(Re(n)),n=!1,s.navigator&&s.navigator.sendBeacon&&(n=s.navigator.sendBeacon(e.f.toString(),"")),!n&&s.Image&&((new Image).src=e.f,n=!0),n||(e.a=e.g.$(null),e.a.ca(e.f)),e.v=_(),we(e)}Qn(t)}function Un(t){t.w&&(t.w.abort(),t.w=null),t.a&&(t.a.cancel(),t.a=null),t.l&&(s.clearTimeout(t.l),t.l=null),Kn(t),t.b.cancel(),t.h&&(u(t.h)&&s.clearTimeout(t.h),t.h=null)}function Vn(t,e){t.f.push(new un(t.Qa++,e)),3==t.u&&Fn(t)}function Fn(t){fn(t.b)||t.h||(t.h=!0,Mt(t.Ha,t),t.A=0)}function qn(t,e){var n;n=e?e.W:t.P++;var r=Re(t.B);Ue(r,"SID",t.H),Ue(r,"RID",n),Ue(r,"AID",t.O),Hn(t,r),t.g&&t.i&&Mn(r,t.g,t.i),n=new le(t,n,t.A+1),null===t.g&&(n.h=t.i),e&&(t.f=e.j.concat(t.f)),e=Gn(t,n,1e3),n.setTimeout(Math.round(.5*t.qa)+Math.round(.5*t.qa*Math.random())),gn(t.b,n),ge(n,r,e)}function Hn(t,e){t.c&&Se({},(function(t,n){Ue(e,n,t)}))}function Gn(t,e,n){n=Math.min(t.f.length,n);var r=t.c?b(t.c.Sa,t.c,t):null;t:for(var i=t.f,o=-1;;){var s=["count="+n];-1==o?0<n?s.push("ofs="+(o=i[0].b)):o=0:s.push("ofs="+o);for(var a=!0,u=0;u<n;u++){var c=i[u].b,h=i[u].a;if(0>(c-=o))o=Math.max(0,i[u].b-100),a=!1;else try{wn(h,s,"req"+c+"_")}catch(l){r&&r(h)}}if(a){r=s.join("&");break t}}return t=t.f.splice(0,n),e.j=t,r}function Bn(t){t.a||t.l||(t.S=1,Mt(t.Ga,t),t.v=0)}function zn(t){return!(t.a||t.l||3<=t.v||(t.S++,t.l=ee(b(t.Ga,t),$n(t,t.v)),t.v++,0))}function Wn(t,e,n){var r=e.l;r&&ln(t.b,r),t.ia=t.oa&&n,t.m=e.c,t.B=Jn(t,null,t.ha),Fn(t)}function Kn(t){null!=t.s&&(s.clearTimeout(t.s),t.s=null)}function $n(t,e){var n=t.Na+Math.floor(Math.random()*t.Ra);return t.ma()||(n*=2),n*e}function Yn(t,e){if(2==e){var n=null;t.c&&(n=null);var r=b(t.eb,t);n||(n=new Pe("//www.google.com/images/cleardot.gif"),s.location&&"http"==s.location.protocol||De(n,"https"),Fe(n)),function(t,e){var n=new $t;if(s.Image){var r=new Image;r.onload=w(_n,n,r,"TestLoadImage: loaded",!0,e),r.onerror=w(_n,n,r,"TestLoadImage: error",!1,e),r.onabort=w(_n,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=w(_n,n,r,"TestLoadImage: timeout",!1,e),s.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=t}else e(!1)}(n.toString(),r)}else Zt(2);t.u=0,t.c&&t.c.ta(e),Qn(t),Un(t)}function Qn(t){t.u=0,t.m=-1,t.c&&(0==vn(t.b).length&&0==t.f.length||(t.b.c.length=0,A(t.f),t.f.length=0),t.c.sa())}function Jn(t,e,n){var r=function(t){return t instanceof Pe?Re(t):new Pe(t,void 0)}(n);if(""!=r.b)e&&Me(r,e+"."+r.b),Le(r,r.i);else{var i=s.location;r=function(t,e,n,r){var i=new Pe(null,void 0);return t&&De(i,t),e&&Me(i,e),n&&Le(i,n),r&&(i.a=r),i}(i.protocol,e?e+"."+i.hostname:i.hostname,+i.port,n)}return t.V&&M(t.V,(function(t,e){Ue(r,e,t)})),n=t.I,(e=t.j)&&n&&Ue(r,e,n),Ue(r,"VER",t.wa),Hn(t,r),r}function Xn(){}function Zn(){if(G&&!(10<=Number(X)))throw Error("Environmental error: no available transport.")}function tr(t,e){Tt.call(this),this.a=new Ln(e),this.g=t,this.m=e&&e.fb?e.fb:function(t){for(var e=arguments[0],n=1;n<arguments.length;n++){var r,i=arguments[n];0==i.lastIndexOf("/",0)?e=i:((r=""==e)||(r=0<=(r=e.length-1)&&e.indexOf("/",r)==r),e+=r?i:"/"+i)}return e}(this.g,"test"),this.b=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.a.i=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.xa&&(t?t["X-WebChannel-Client-Profile"]=e.xa:t={"X-WebChannel-Client-Profile":e.xa}),this.a.J=t,(t=e&&e.httpHeadersOverwriteParam)&&!O(t)&&(this.a.g=t),this.l=e&&e.supportsCrossDomainXhr||!1,this.h=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!O(e)&&(this.a.j=e,null!==(t=this.b)&&e in t&&e in(t=this.b)&&delete t[e]),this.f=new rr(this)}function er(t){ue.call(this);var e=t.__sm__;if(e){t:{for(var n in e){t=n;break t}t=void 0}(this.c=t)?(t=this.c,this.data=null!==e&&t in e?e[t]:void 0):this.data=e}else this.data=t}function nr(){ce.call(this),this.status=1}function rr(t){this.a=t}(r=In.prototype).ca=function(t,e,n,r){if(this.a)throw Error("[goog.net.XhrIo] Object is active with another request="+this.A+"; newUri="+t);e=e?e.toUpperCase():"GET",this.A=t,this.f="",this.h=0,this.v=!1,this.b=!0,this.a=new XMLHttpRequest,this.s=function(t){var e;return(e=t.a)||(e=t.a={}),e}(this.H?this.H:se),this.a.onreadystatechange=b(this.Ea,this);try{this.w=!0,this.a.open(e,String(t),!0),this.w=!1}catch(o){return void On(this,o)}t=n||"";var i=new Ae(this.headers);r&&Se(r,(function(t,e){i.set(e,t)})),r=function(t){t:{for(var e=An,n=t.length,r=a(t)?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break t}e=-1}return 0>e?null:a(t)?t.charAt(e):t[e]}(i.K()),n=s.FormData&&t instanceof s.FormData,!(0<=C(Sn,e))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach((function(t,e){this.a.setRequestHeader(e,t)}),this),this.I&&(this.a.responseType=this.I),"withCredentials"in this.a&&this.a.withCredentials!==this.F&&(this.a.withCredentials=this.F);try{Pn(this),0<this.o&&((this.D=function(t){return G&&tt(9)&&u(t.timeout)&&void 0!==t.ontimeout}(this.a))?(this.a.timeout=this.o,this.a.ontimeout=b(this.Ba,this)):this.m=qt(this.Ba,this.o,this)),this.l=!0,this.a.send(t),this.l=!1}catch(o){On(this,o)}},r.Ba=function(){void 0!==o&&this.a&&(this.f="Timed out after "+this.o+"ms, aborting",this.h=8,this.dispatchEvent("timeout"),this.abort(8))},r.abort=function(t){this.a&&this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1,this.h=t||7,this.dispatchEvent("complete"),this.dispatchEvent("abort"),xn(this))},r.G=function(){this.a&&(this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1),xn(this,!0)),In.N.G.call(this)},r.Ea=function(){this.j||(this.w||this.l||this.g?kn(this):this.Za())},r.Za=function(){kn(this)},r.T=function(){try{return 2<Rn(this)?this.a.status:-1}catch(q){return-1}},r.aa=function(){try{return this.a?this.a.responseText:""}catch(q){return""}},r.Ua=function(t){if(this.a){var e=this.a.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),En(e)}},r.ya=function(){return this.h},r.Xa=function(){return a(this.f)?this.f:String(this.f)},(r=Ln.prototype).wa=8,r.u=1,r.Ca=function(){return 0==this.u},r.Ha=function(t){if(this.h)if(this.h=null,1==this.u){if(!t){this.P=Math.floor(1e5*Math.random());var e,n=new le(this,t=this.P++,void 0),r=this.i;if(this.J&&(r?U(r=L(r),this.J):r=this.J),null===this.g&&(n.h=r),this.W)t:{for(var i=e=0;i<this.f.length;i++){var o=this.f[i];if(void 0===(o="__data__"in o.a&&a(o=o.a.__data__)?o.length:void 0))break;if(4096<(e+=o)){e=i;break t}if(4096===e||i===this.f.length-1){e=i+1;break t}}e=1e3}else e=1e3;e=Gn(this,n,e),Ue(i=Re(this.B),"RID",t),Ue(i,"CVER",22),this.o&&this.j&&Ue(i,"X-HTTP-Session-Id",this.j),Hn(this,i),this.g&&r&&Mn(i,this.g,r),gn(this.b,n),this.W?(Ue(i,"$req",e),Ue(i,"SID","null"),n.S=!0,ge(n,i,null)):ge(n,i,e),this.u=2}}else 3==this.u&&(t?qn(this,t):0==this.f.length||fn(this.b)||qn(this))},r.Ga=function(){this.l=null,this.a=new le(this,"rpc",this.S),null===this.g&&(this.a.h=this.i),this.a.J=0;var t=Re(this.pa);Ue(t,"RID","rpc"),Ue(t,"SID",this.H),Ue(t,"CI",this.ia?"0":"1"),Ue(t,"AID",this.O),Hn(this,t),Ue(t,"TYPE","xmlhttp"),this.g&&this.i&&Mn(t,this.g,this.i),this.D&&this.a.setTimeout(this.D),me(this.a,t,!0,this.ga)},r.Fa=function(t,e){if(0!=this.u&&(this.a==t||pn(this.b,t)))if(this.m=t.o,!t.s&&pn(this.b,t)&&3==this.u){try{var n=this.ja.a.parse(e)}catch(o){n=null}if(f(n)&&3==n.length){if(0==(e=n)[0]){t:if(!this.l){if(this.a){if(!(this.a.v+3e3<t.v))break t;Kn(this),this.a.cancel(),this.a=null}zn(this),Zt(18)}}else this.ra=e[1],0<this.ra-this.O&&37500>e[2]&&this.ia&&0==this.v&&!this.s&&(this.s=ee(b(this.Ya,this),6e3));if(1>=dn(this.b)&&this.fa){try{this.fa()}catch(o){}this.fa=void 0}}else Yn(this,11)}else if((t.s||this.a==t)&&Kn(this),!O(e))for(e=n=this.ja.a.parse(e),n=0;n<e.length;n++){var r=e[n];if(this.O=r[0],r=r[1],2==this.u)if("c"==r[0]){this.H=r[1],this.ga=r[2];var i=r[3];null!=i&&(this.wa=i),null!=(r=r[5])&&u(r)&&0<r&&(this.D=1.5*r),this.o&&(r=t.a)&&((i=Dn(r,"X-Client-Wire-Protocol"))&&ln(this.b,i),this.j&&(r=Dn(r,"X-HTTP-Session-Id")))&&(this.I=r,Ue(this.B,this.j,r)),this.u=3,this.c&&this.c.va(),r=t,this.pa=Jn(this,this.Y()?this.ga:null,this.ha),r.s?(mn(this.b,r),(i=this.D)&&r.setTimeout(i),r.i&&(Ee(r),we(r)),this.a=r):Bn(this),0<this.f.length&&Fn(this)}else"stop"!=r[0]&&"close"!=r[0]||Yn(this,7);else 3==this.u&&("stop"==r[0]||"close"==r[0]?"stop"==r[0]?Yn(this,7):jn(this):"noop"!=r[0]&&this.c&&this.c.ua(r),this.v=0)}},r.Ya=function(){null!=this.s&&(this.s=null,this.a.cancel(),this.a=null,zn(this),Zt(19))},r.na=function(t){var e=null;if(this.a==t){Kn(this),this.a=null;var n=2}else{if(!pn(this.b,t))return;e=t.j,mn(this.b,t),n=1}if(this.m=t.o,0!=this.u)if(t.b)1==n?(e=_()-t.v,Yt.dispatchEvent(new te(Yt,t.l?t.l.length:0,e,this.A)),Fn(this)):Bn(this);else{var r=t.c;if(3==r||0==r&&0<this.m||!(1==n&&function(t,e){return!(dn(t.b)>=t.b.f-(t.h?1:0)||(t.h?(t.f=e.j.concat(t.f),0):1==t.u||2==t.u||t.A>=(t.Oa?0:t.Pa)||(t.h=ee(b(t.Ha,t,e),$n(t,t.A)),t.A++,0)))}(this,t)||2==n&&zn(this)))switch(e&&0<e.length&&(t=this.b,t.c=t.c.concat(e)),r){case 1:Yn(this,5);break;case 4:Yn(this,10);break;case 3:Yn(this,6);break;default:Yn(this,2)}}},r.eb=function(t){Zt(t?2:1)},r.$=function(t){if(t&&!this.R)throw Error("Can't create secondary domain capable XhrIo object.");return(t=new In(this.Ka)).F=this.R,t},r.ma=function(){return!!this.c&&!0},r.Y=function(){return this.R},(r=Xn.prototype).va=function(){},r.ua=function(){},r.ta=function(){},r.sa=function(){},r.Sa=function(){},Zn.prototype.a=function(t,e){return new tr(t,e)},E(tr,Tt),(r=tr.prototype).addEventListener=function(t,e,n,r){tr.N.addEventListener.call(this,t,e,n,r)},r.removeEventListener=function(t,e,n,r){tr.N.removeEventListener.call(this,t,e,n,r)},r.Va=function(){this.a.c=this.f,this.l&&(this.a.R=!0);var t=this.a,e=this.m,n=this.g,r=this.b||void 0;Zt(0),t.ha=n,t.V=r||{},t.o&&(t.F.b=[],t.F.a=!1),t.w=new nn(t),null===t.g&&(t.w.h=t.i),n=e,t.g&&t.i&&(n=Mn(e,t.g,t.i)),(t=t.w).i=n,e=Jn(t.a,null,t.i),Zt(3),null!=(n=t.a.F.b)?(t.f=n[0],t.M=1,rn(t)):(Ve(e,"MODE","init"),!t.a.o&&t.a.j&&Ve(e,"X-HTTP-Session-Id",t.a.j),t.b=new le(t,void 0,void 0),t.b.h=t.h,me(t.b,e,!1,null),t.M=0)},r.close=function(){jn(this.a)},r.Wa=function(t){if(a(t)){var e={};e.__data__=t,Vn(this.a,e)}else this.h?((e={}).__data__=At(t),Vn(this.a,e)):Vn(this.a,t)},r.G=function(){this.a.c=null,delete this.f,jn(this.a),delete this.a,tr.N.G.call(this)},E(er,ue),E(nr,ce),E(rr,Xn),rr.prototype.va=function(){this.a.dispatchEvent("a")},rr.prototype.ua=function(t){this.a.dispatchEvent(new er(t))},rr.prototype.ta=function(t){this.a.dispatchEvent(new nr(t))},rr.prototype.sa=function(){this.a.dispatchEvent("b")};var ir=w((function(t,e){function n(){}n.prototype=t.prototype;var r=new n;return t.apply(r,Array.prototype.slice.call(arguments,1)),r}),Zn);Zn.prototype.createWebChannel=Zn.prototype.a,tr.prototype.send=tr.prototype.Wa,tr.prototype.open=tr.prototype.Va,tr.prototype.close=tr.prototype.close,ne.NO_ERROR=0,ne.TIMEOUT=8,ne.HTTP_ERROR=6,re.COMPLETE="complete",oe.EventType=ae,ae.OPEN="a",ae.CLOSE="b",ae.ERROR="c",ae.MESSAGE="d",Tt.prototype.listen=Tt.prototype.za,In.prototype.listenOnce=In.prototype.Aa,In.prototype.getLastError=In.prototype.Xa,In.prototype.getLastErrorCode=In.prototype.ya,In.prototype.getStatus=In.prototype.T,In.prototype.getResponseJson=In.prototype.Ua,In.prototype.getResponseText=In.prototype.aa,In.prototype.send=In.prototype.ca;var or={createWebChannelTransport:ir,ErrorCode:ne,EventType:re,WebChannel:oe,XhrIo:In},sr=or.createWebChannelTransport,ar=or.ErrorCode,ur=or.EventType,cr=or.WebChannel,hr=or.XhrIo;e.default=or},yCtX:function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var r=n("HDdC"),i=n("ngJS"),o=n("jZKg");function s(t,e){return e?Object(o.a)(t,e):new r.a(Object(i.a)(t))}},"z+Ro":function(t,e,n){"use strict";function r(t){return t&&"function"==typeof t.schedule}n.d(e,"a",(function(){return r}))},zUnb:function(t,e,n){"use strict";n.r(e);var r=n("fXoL");const i={apiKey:"AIzaSyBGgWyKUyYY-WgPtMoS5-UjEAagoqoZ-Z4",authDomain:"livandersurya-wads-exercise4.firebaseapp.com",databaseURL:"https://livandersurya-wads-exercise4.firebaseio.com",projectId:"livandersurya-wads-exercise4",storageBucket:"livandersurya-wads-exercise4.appspot.com",messagingSenderId:"167438533861"};var o=n("ofXK");class s extends o.m{constructor(){super()}supportsDOMEvents(){return!0}}class a extends s{static makeCurrent(){Object(o.q)(new a)}getProperty(t,e){return t[e]}log(t){window.console&&window.console.log&&window.console.log(t)}logGroup(t){window.console&&window.console.group&&window.console.group(t)}logGroupEnd(){window.console&&window.console.groupEnd&&window.console.groupEnd()}onAndCancel(t,e,n){return t.addEventListener(e,n,!1),()=>{t.removeEventListener(e,n,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){return t.parentNode&&t.parentNode.removeChild(t),t}getValue(t){return t.value}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getHistory(){return window.history}getLocation(){return window.location}getBaseHref(t){const e=c||(c=document.querySelector("base"),c)?c.getAttribute("href"):null;return null==e?null:(n=e,u||(u=document.createElement("a")),u.setAttribute("href",n),"/"===u.pathname.charAt(0)?u.pathname:"/"+u.pathname);var n}resetBaseElement(){c=null}getUserAgent(){return window.navigator.userAgent}performanceNow(){return window.performance&&window.performance.now?window.performance.now():(new Date).getTime()}supportsCookies(){return!0}getCookie(t){return Object(o.p)(document.cookie,t)}}let u,c=null;const h=new r.q("TRANSITION_ID"),l=[{provide:r.d,useFactory:function(t,e,n){return()=>{n.get(r.e).donePromise.then(()=>{const n=Object(o.o)();Array.prototype.slice.apply(e.querySelectorAll("style[ng-transition]")).filter(e=>e.getAttribute("ng-transition")===t).forEach(t=>n.remove(t))})}},deps:[h,o.c,r.r],multi:!0}];class f{static init(){Object(r.W)(new f)}addToWindow(t){r.ob.getAngularTestability=(e,n=!0)=>{const r=t.findTestabilityInTree(e,n);if(null==r)throw new Error("Could not find testability for element.");return r},r.ob.getAllAngularTestabilities=()=>t.getAllTestabilities(),r.ob.getAllAngularRootElements=()=>t.getAllRootElements(),r.ob.frameworkStabilizers||(r.ob.frameworkStabilizers=[]),r.ob.frameworkStabilizers.push(t=>{const e=r.ob.getAllAngularTestabilities();let n=e.length,i=!1;const o=function(e){i=i||e,n--,0==n&&t(i)};e.forEach((function(t){t.whenStable(o)}))})}findTestabilityInTree(t,e,n){if(null==e)return null;const r=t.getTestability(e);return null!=r?r:n?Object(o.o)().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null}}const d=new r.q("EventManagerPlugins");let p=(()=>{class t{constructor(t,e){this._zone=e,this._eventNameToPlugin=new Map,t.forEach(t=>t.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,e,n){return this._findPluginFor(e).addEventListener(t,e,n)}addGlobalEventListener(t,e,n){return this._findPluginFor(e).addGlobalEventListener(t,e,n)}getZone(){return this._zone}_findPluginFor(t){const e=this._eventNameToPlugin.get(t);if(e)return e;const n=this._plugins;for(let r=0;r<n.length;r++){const e=n[r];if(e.supports(t))return this._eventNameToPlugin.set(t,e),e}throw new Error(`No event manager plugin found for event ${t}`)}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(d),r.Rb(r.z))},t.\u0275prov=r.Gb({token:t,factory:t.\u0275fac}),t})();class g{constructor(t){this._doc=t}addGlobalEventListener(t,e,n){const r=Object(o.o)().getGlobalEventTarget(this._doc,t);if(!r)throw new Error(`Unsupported event target ${r} for event ${e}`);return this.addEventListener(r,e,n)}}let m=(()=>{class t{constructor(){this._stylesSet=new Set}addStyles(t){const e=new Set;t.forEach(t=>{this._stylesSet.has(t)||(this._stylesSet.add(t),e.add(t))}),this.onStylesAdded(e)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Gb({token:t,factory:t.\u0275fac}),t})(),v=(()=>{class t extends m{constructor(t){super(),this._doc=t,this._hostNodes=new Set,this._styleNodes=new Set,this._hostNodes.add(t.head)}_addStylesToHost(t,e){t.forEach(t=>{const n=this._doc.createElement("style");n.textContent=t,this._styleNodes.add(e.appendChild(n))})}addHost(t){this._addStylesToHost(this._stylesSet,t),this._hostNodes.add(t)}removeHost(t){this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach(e=>this._addStylesToHost(t,e))}ngOnDestroy(){this._styleNodes.forEach(t=>Object(o.o)().remove(t))}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(o.c))},t.\u0275prov=r.Gb({token:t,factory:t.\u0275fac}),t})();const y={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},b=/%COMP%/g;function w(t,e,n){for(let r=0;r<e.length;r++){let i=e[r];Array.isArray(i)?w(t,i,n):(i=i.replace(b,t),n.push(i))}return n}function _(t){return e=>{if("__ngUnwrap__"===e)return t;!1===t(e)&&(e.preventDefault(),e.returnValue=!1)}}let E=(()=>{class t{constructor(t,e,n){this.eventManager=t,this.sharedStylesHost=e,this.appId=n,this.rendererByCompId=new Map,this.defaultRenderer=new I(t)}createRenderer(t,e){if(!t||!e)return this.defaultRenderer;switch(e.encapsulation){case r.P.Emulated:{let n=this.rendererByCompId.get(e.id);return n||(n=new C(this.eventManager,this.sharedStylesHost,e,this.appId),this.rendererByCompId.set(e.id,n)),n.applyToHost(t),n}case r.P.Native:case r.P.ShadowDom:return new T(this.eventManager,this.sharedStylesHost,t,e);default:if(!this.rendererByCompId.has(e.id)){const t=w(e.id,e.styles,[]);this.sharedStylesHost.addStyles(t),this.rendererByCompId.set(e.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(p),r.Rb(v),r.Rb(r.c))},t.\u0275prov=r.Gb({token:t,factory:t.\u0275fac}),t})();class I{constructor(t){this.eventManager=t,this.data=Object.create(null)}destroy(){}createElement(t,e){return e?document.createElementNS(y[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){t.appendChild(e)}insertBefore(t,e,n){t&&t.insertBefore(e,n)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let n="string"==typeof t?document.querySelector(t):t;if(!n)throw new Error(`The selector "${t}" did not match any elements`);return e||(n.textContent=""),n}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,n,r){if(r){e=r+":"+e;const i=y[r];i?t.setAttributeNS(i,e,n):t.setAttribute(e,n)}else t.setAttribute(e,n)}removeAttribute(t,e,n){if(n){const r=y[n];r?t.removeAttributeNS(r,e):t.removeAttribute(`${n}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,n,i){i&r.F.DashCase?t.style.setProperty(e,n,i&r.F.Important?"important":""):t.style[e]=n}removeStyle(t,e,n){n&r.F.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,n){t[e]=n}setValue(t,e){t.nodeValue=e}listen(t,e,n){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,_(n)):this.eventManager.addEventListener(t,e,_(n))}}class C extends I{constructor(t,e,n,r){super(t),this.component=n;const i=w(r+"-"+n.id,n.styles,[]);e.addStyles(i),this.contentAttr="_ngcontent-%COMP%".replace(b,r+"-"+n.id),this.hostAttr=function(t){return"_nghost-%COMP%".replace(b,t)}(r+"-"+n.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,e){const n=super.createElement(t,e);return super.setAttribute(n,this.contentAttr,""),n}}class T extends I{constructor(t,e,n,i){super(t),this.sharedStylesHost=e,this.hostEl=n,this.component=i,this.shadowRoot=i.encapsulation===r.P.ShadowDom?n.attachShadow({mode:"open"}):n.createShadowRoot(),this.sharedStylesHost.addHost(this.shadowRoot);const o=w(i.id,i.styles,[]);for(let r=0;r<o.length;r++){const t=document.createElement("style");t.textContent=o[r],this.shadowRoot.appendChild(t)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,n){return super.insertBefore(this.nodeOrShadowRoot(t),e,n)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}let S=(()=>{class t extends g{constructor(t){super(t)}supports(t){return!0}addEventListener(t,e,n){return t.addEventListener(e,n,!1),()=>this.removeEventListener(t,e,n)}removeEventListener(t,e,n){return t.removeEventListener(e,n)}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(o.c))},t.\u0275prov=r.Gb({token:t,factory:t.\u0275fac}),t})();const A=["alt","control","meta","shift"],O={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},N={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},k={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let x=(()=>{class t extends g{constructor(t){super(t)}supports(e){return null!=t.parseEventName(e)}addEventListener(e,n,r){const i=t.parseEventName(n),s=t.eventCallback(i.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Object(o.o)().onAndCancel(e,i.domEventName,s))}static parseEventName(e){const n=e.toLowerCase().split("."),r=n.shift();if(0===n.length||"keydown"!==r&&"keyup"!==r)return null;const i=t._normalizeKey(n.pop());let o="";if(A.forEach(t=>{const e=n.indexOf(t);e>-1&&(n.splice(e,1),o+=t+".")}),o+=i,0!=n.length||0===i.length)return null;const s={};return s.domEventName=r,s.fullKey=o,s}static getEventFullKey(t){let e="",n=function(t){let e=t.key;if(null==e){if(e=t.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===t.location&&N.hasOwnProperty(e)&&(e=N[e]))}return O[e]||e}(t);return n=n.toLowerCase()," "===n?n="space":"."===n&&(n="dot"),A.forEach(r=>{r!=n&&(0,k[r])(t)&&(e+=r+".")}),e+=n,e}static eventCallback(e,n,r){return i=>{t.getEventFullKey(i)===e&&r.runGuarded(()=>n(i))}}static _normalizeKey(t){switch(t){case"esc":return"escape";default:return t}}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(o.c))},t.\u0275prov=r.Gb({token:t,factory:t.\u0275fac}),t})();const P=[{provide:r.B,useValue:o.n},{provide:r.C,useValue:function(){a.makeCurrent(),f.init()},multi:!0},{provide:o.c,useFactory:function(){return Object(r.ub)(document),document},deps:[]}],R=Object(r.R)(r.V,"browser",P),D=[[],{provide:r.Y,useValue:"root"},{provide:r.m,useFactory:function(){return new r.m},deps:[]},{provide:d,useClass:S,multi:!0,deps:[o.c,r.z,r.B]},{provide:d,useClass:x,multi:!0,deps:[o.c]},[],{provide:E,useClass:E,deps:[p,v,r.c]},{provide:r.E,useExisting:E},{provide:m,useExisting:v},{provide:v,useClass:v,deps:[o.c]},{provide:r.L,useClass:r.L,deps:[r.z]},{provide:p,useClass:p,deps:[d,r.z]},[]];let M=(()=>{class t{constructor(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(e){return{ngModule:t,providers:[{provide:r.c,useValue:e.appId},{provide:h,useExisting:r.c},l]}}}return t.\u0275mod=r.Ib({type:t}),t.\u0275inj=r.Hb({factory:function(e){return new(e||t)(r.Rb(t,12))},providers:D,imports:[o.b,r.f]}),t})();"undefined"!=typeof window&&window;var L=n("HDdC"),j=n("DH7j"),U=n("lJxs"),V=n("XoHu"),F=n("Cfvw");function q(t,e){return new L.a(n=>{const r=t.length;if(0===r)return void n.complete();const i=new Array(r);let o=0,s=0;for(let a=0;a<r;a++){const u=Object(F.a)(t[a]);let c=!1;n.add(u.subscribe({next:t=>{c||(c=!0,s++),i[a]=t},error:t=>n.error(t),complete:()=>{o++,o!==r&&c||(s===r&&n.next(e?e.reduce((t,e,n)=>(t[e]=i[n],t),{}):i),n.complete())}}))}})}const H=new r.q("NgValueAccessor"),G={provide:H,useExisting:Object(r.T)(()=>B),multi:!0};let B=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this.onChange=t=>{},this.onTouched=()=>{}}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"checked",t)}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(r.D),r.Kb(r.l))},t.\u0275dir=r.Fb({type:t,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(t,e){1&t&&r.Vb("change",(function(t){return e.onChange(t.target.checked)}))("blur",(function(){return e.onTouched()}))},features:[r.zb([G])]}),t})();const z={provide:H,useExisting:Object(r.T)(()=>K),multi:!0},W=new r.q("CompositionEventMode");let K=(()=>{class t{constructor(t,e,n){this._renderer=t,this._elementRef=e,this._compositionMode=n,this.onChange=t=>{},this.onTouched=()=>{},this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function(){const t=Object(o.o)()?Object(o.o)().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}())}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==t?"":t)}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(r.D),r.Kb(r.l),r.Kb(W,8))},t.\u0275dir=r.Fb({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,e){1&t&&r.Vb("input",(function(t){return e._handleInput(t.target.value)}))("blur",(function(){return e.onTouched()}))("compositionstart",(function(){return e._compositionStart()}))("compositionend",(function(t){return e._compositionEnd(t.target.value)}))},features:[r.zb([z])]}),t})(),$=(()=>{class t{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}reset(t){this.control&&this.control.reset(t)}hasError(t,e){return!!this.control&&this.control.hasError(t,e)}getError(t,e){return this.control?this.control.getError(t,e):null}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.Fb({type:t}),t})(),Y=(()=>{class t extends ${get formDirective(){return null}get path(){return null}}return t.\u0275fac=function(e){return Q(e||t)},t.\u0275dir=r.Fb({type:t,features:[r.xb]}),t})();const Q=r.Pb(Y);function J(){throw new Error("unimplemented")}class X extends ${constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null,this._rawValidators=[],this._rawAsyncValidators=[]}get validator(){return J()}get asyncValidator(){return J()}}class Z{constructor(t){this._cd=t}get ngClassUntouched(){return!!this._cd.control&&this._cd.control.untouched}get ngClassTouched(){return!!this._cd.control&&this._cd.control.touched}get ngClassPristine(){return!!this._cd.control&&this._cd.control.pristine}get ngClassDirty(){return!!this._cd.control&&this._cd.control.dirty}get ngClassValid(){return!!this._cd.control&&this._cd.control.valid}get ngClassInvalid(){return!!this._cd.control&&this._cd.control.invalid}get ngClassPending(){return!!this._cd.control&&this._cd.control.pending}}let tt=(()=>{class t extends Z{constructor(t){super(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(X,2))},t.\u0275dir=r.Fb({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,e){2&t&&r.Cb("ng-untouched",e.ngClassUntouched)("ng-touched",e.ngClassTouched)("ng-pristine",e.ngClassPristine)("ng-dirty",e.ngClassDirty)("ng-valid",e.ngClassValid)("ng-invalid",e.ngClassInvalid)("ng-pending",e.ngClassPending)},features:[r.xb]}),t})(),et=(()=>{class t extends Z{constructor(t){super(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(Y,2))},t.\u0275dir=r.Fb({type:t,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:14,hostBindings:function(t,e){2&t&&r.Cb("ng-untouched",e.ngClassUntouched)("ng-touched",e.ngClassTouched)("ng-pristine",e.ngClassPristine)("ng-dirty",e.ngClassDirty)("ng-valid",e.ngClassValid)("ng-invalid",e.ngClassInvalid)("ng-pending",e.ngClassPending)},features:[r.xb]}),t})();function nt(t){return null==t||0===t.length}const rt=new r.q("NgValidators"),it=new r.q("NgAsyncValidators"),ot=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class st{static min(t){return e=>{if(nt(e.value)||nt(t))return null;const n=parseFloat(e.value);return!isNaN(n)&&n<t?{min:{min:t,actual:e.value}}:null}}static max(t){return e=>{if(nt(e.value)||nt(t))return null;const n=parseFloat(e.value);return!isNaN(n)&&n>t?{max:{max:t,actual:e.value}}:null}}static required(t){return nt(t.value)?{required:!0}:null}static requiredTrue(t){return!0===t.value?null:{required:!0}}static email(t){return nt(t.value)?null:ot.test(t.value)?null:{email:!0}}static minLength(t){return e=>{if(nt(e.value))return null;const n=e.value?e.value.length:0;return n<t?{minlength:{requiredLength:t,actualLength:n}}:null}}static maxLength(t){return e=>{const n=e.value?e.value.length:0;return n>t?{maxlength:{requiredLength:t,actualLength:n}}:null}}static pattern(t){if(!t)return st.nullValidator;let e,n;return"string"==typeof t?(n="","^"!==t.charAt(0)&&(n+="^"),n+=t,"$"!==t.charAt(t.length-1)&&(n+="$"),e=new RegExp(n)):(n=t.toString(),e=t),t=>{if(nt(t.value))return null;const r=t.value;return e.test(r)?null:{pattern:{requiredPattern:n,actualValue:r}}}}static nullValidator(t){return null}static compose(t){if(!t)return null;const e=t.filter(at);return 0==e.length?null:function(t){return ct(function(t,e){return e.map(e=>e(t))}(t,e))}}static composeAsync(t){if(!t)return null;const e=t.filter(at);return 0==e.length?null:function(t){return function(...t){if(1===t.length){const e=t[0];if(Object(j.a)(e))return q(e,null);if(Object(V.a)(e)&&Object.getPrototypeOf(e)===Object.prototype){const t=Object.keys(e);return q(t.map(t=>e[t]),t)}}if("function"==typeof t[t.length-1]){const e=t.pop();return q(t=1===t.length&&Object(j.a)(t[0])?t[0]:t,null).pipe(Object(U.a)(t=>e(...t)))}return q(t,null)}(function(t,e){return e.map(e=>e(t))}(t,e).map(ut)).pipe(Object(U.a)(ct))}}}function at(t){return null!=t}function ut(t){const e=Object(r.rb)(t)?Object(F.a)(t):t;if(!Object(r.qb)(e))throw new Error("Expected validator to return Promise or Observable.");return e}function ct(t){let e={};return t.forEach(t=>{e=null!=t?Object.assign(Object.assign({},e),t):e}),0===Object.keys(e).length?null:e}function ht(t){return t.validate?e=>t.validate(e):t}function lt(t){return t.validate?e=>t.validate(e):t}const ft={provide:H,useExisting:Object(r.T)(()=>dt),multi:!0};let dt=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this.onChange=t=>{},this.onTouched=()=>{}}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==t?"":t)}registerOnChange(t){this.onChange=e=>{t(""==e?null:parseFloat(e))}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(r.D),r.Kb(r.l))},t.\u0275dir=r.Fb({type:t,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(t,e){1&t&&r.Vb("change",(function(t){return e.onChange(t.target.value)}))("input",(function(t){return e.onChange(t.target.value)}))("blur",(function(){return e.onTouched()}))},features:[r.zb([ft])]}),t})();const pt={provide:H,useExisting:Object(r.T)(()=>mt),multi:!0};let gt=(()=>{class t{constructor(){this._accessors=[]}add(t,e){this._accessors.push([t,e])}remove(t){for(let e=this._accessors.length-1;e>=0;--e)if(this._accessors[e][1]===t)return void this._accessors.splice(e,1)}select(t){this._accessors.forEach(e=>{this._isSameGroup(e,t)&&e[1]!==t&&e[1].fireUncheck(t.value)})}_isSameGroup(t,e){return!!t[0].control&&t[0]._parent===e._control._parent&&t[1].name===e.name}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Gb({token:t,factory:t.\u0275fac}),t})(),mt=(()=>{class t{constructor(t,e,n,r){this._renderer=t,this._elementRef=e,this._registry=n,this._injector=r,this.onChange=()=>{},this.onTouched=()=>{}}ngOnInit(){this._control=this._injector.get(X),this._checkName(),this._registry.add(this._control,this)}ngOnDestroy(){this._registry.remove(this)}writeValue(t){this._state=t===this.value,this._renderer.setProperty(this._elementRef.nativeElement,"checked",this._state)}registerOnChange(t){this._fn=t,this.onChange=()=>{t(this.value),this._registry.select(this)}}fireUncheck(t){this.writeValue(t)}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_checkName(){this.name&&this.formControlName&&this.name!==this.formControlName&&this._throwNameError(),!this.name&&this.formControlName&&(this.name=this.formControlName)}_throwNameError(){throw new Error('\n      If you define both a name and a formControlName attribute on your radio button, their values\n      must match. Ex: <input type="radio" formControlName="food" name="food">\n    ')}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(r.D),r.Kb(r.l),r.Kb(gt),r.Kb(r.r))},t.\u0275dir=r.Fb({type:t,selectors:[["input","type","radio","formControlName",""],["input","type","radio","formControl",""],["input","type","radio","ngModel",""]],hostBindings:function(t,e){1&t&&r.Vb("change",(function(){return e.onChange()}))("blur",(function(){return e.onTouched()}))},inputs:{name:"name",formControlName:"formControlName",value:"value"},features:[r.zb([pt])]}),t})();const vt={provide:H,useExisting:Object(r.T)(()=>yt),multi:!0};let yt=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this.onChange=t=>{},this.onTouched=()=>{}}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",parseFloat(t))}registerOnChange(t){this.onChange=e=>{t(""==e?null:parseFloat(e))}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(r.D),r.Kb(r.l))},t.\u0275dir=r.Fb({type:t,selectors:[["input","type","range","formControlName",""],["input","type","range","formControl",""],["input","type","range","ngModel",""]],hostBindings:function(t,e){1&t&&r.Vb("change",(function(t){return e.onChange(t.target.value)}))("input",(function(t){return e.onChange(t.target.value)}))("blur",(function(){return e.onTouched()}))},features:[r.zb([vt])]}),t})();const bt='\n    <div [formGroup]="myGroup">\n       <div formGroupName="person">\n          <input formControlName="firstName">\n       </div>\n    </div>\n\n    In your class:\n\n    this.myGroup = new FormGroup({\n       person: new FormGroup({ firstName: new FormControl() })\n    });',wt='\n    <form>\n       <div ngModelGroup="person">\n          <input [(ngModel)]="person.name" name="firstName">\n       </div>\n    </form>',_t={provide:H,useExisting:Object(r.T)(()=>Et),multi:!0};let Et=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this._optionMap=new Map,this._idCounter=0,this.onChange=t=>{},this.onTouched=()=>{},this._compareWith=r.sb}set compareWith(t){if("function"!=typeof t)throw new Error(`compareWith must be a function, but received ${JSON.stringify(t)}`);this._compareWith=t}writeValue(t){this.value=t;const e=this._getOptionId(t);null==e&&this._renderer.setProperty(this._elementRef.nativeElement,"selectedIndex",-1);const n=function(t,e){return null==t?`${e}`:(e&&"object"==typeof e&&(e="Object"),`${t}: ${e}`.slice(0,50))}(e,t);this._renderer.setProperty(this._elementRef.nativeElement,"value",n)}registerOnChange(t){this.onChange=e=>{this.value=this._getOptionValue(e),t(this.value)}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(const e of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(e),t))return e;return null}_getOptionValue(t){const e=function(t){return t.split(":")[0]}(t);return this._optionMap.has(e)?this._optionMap.get(e):t}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(r.D),r.Kb(r.l))},t.\u0275dir=r.Fb({type:t,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(t,e){1&t&&r.Vb("change",(function(t){return e.onChange(t.target.value)}))("blur",(function(){return e.onTouched()}))},inputs:{compareWith:"compareWith"},features:[r.zb([_t])]}),t})();const It={provide:H,useExisting:Object(r.T)(()=>Ct),multi:!0};let Ct=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this._optionMap=new Map,this._idCounter=0,this.onChange=t=>{},this.onTouched=()=>{},this._compareWith=r.sb}set compareWith(t){if("function"!=typeof t)throw new Error(`compareWith must be a function, but received ${JSON.stringify(t)}`);this._compareWith=t}writeValue(t){let e;if(this.value=t,Array.isArray(t)){const n=t.map(t=>this._getOptionId(t));e=(t,e)=>{t._setSelected(n.indexOf(e.toString())>-1)}}else e=(t,e)=>{t._setSelected(!1)};this._optionMap.forEach(e)}registerOnChange(t){this.onChange=e=>{const n=[];if(e.hasOwnProperty("selectedOptions")){const t=e.selectedOptions;for(let e=0;e<t.length;e++){const r=t.item(e),i=this._getOptionValue(r.value);n.push(i)}}else{const t=e.options;for(let e=0;e<t.length;e++){const r=t.item(e);if(r.selected){const t=this._getOptionValue(r.value);n.push(t)}}}this.value=n,t(n)}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_registerOption(t){const e=(this._idCounter++).toString();return this._optionMap.set(e,t),e}_getOptionId(t){for(const e of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(e)._value,t))return e;return null}_getOptionValue(t){const e=function(t){return t.split(":")[0]}(t);return this._optionMap.has(e)?this._optionMap.get(e)._value:t}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(r.D),r.Kb(r.l))},t.\u0275dir=r.Fb({type:t,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(t,e){1&t&&r.Vb("change",(function(t){return e.onChange(t.target)}))("blur",(function(){return e.onTouched()}))},inputs:{compareWith:"compareWith"},features:[r.zb([It])]}),t})();function Tt(t,e){return[...e.path,t]}function St(t,e){t||Ot(e,"Cannot find control with"),e.valueAccessor||Ot(e,"No value accessor for form control with"),t.validator=st.compose([t.validator,e.validator]),t.asyncValidator=st.composeAsync([t.asyncValidator,e.asyncValidator]),e.valueAccessor.writeValue(t.value),function(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&At(t,e)})}(t,e),function(t,e){t.registerOnChange((t,n)=>{e.valueAccessor.writeValue(t),n&&e.viewToModelUpdate(t)})}(t,e),function(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&At(t,e),"submit"!==t.updateOn&&t.markAsTouched()})}(t,e),e.valueAccessor.setDisabledState&&t.registerOnDisabledChange(t=>{e.valueAccessor.setDisabledState(t)}),e._rawValidators.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(()=>t.updateValueAndValidity())}),e._rawAsyncValidators.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(()=>t.updateValueAndValidity())})}function At(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function Ot(t,e){let n;throw n=t.path.length>1?`path: '${t.path.join(" -> ")}'`:t.path[0]?`name: '${t.path}'`:"unspecified name attribute",new Error(`${e} ${n}`)}function Nt(t){return null!=t?st.compose(t.map(ht)):null}function kt(t){return null!=t?st.composeAsync(t.map(lt)):null}const xt=[B,yt,dt,Et,Ct,mt];function Pt(t){const e=Dt(t)?t.validators:t;return Array.isArray(e)?Nt(e):e||null}function Rt(t,e){const n=Dt(e)?e.asyncValidators:t;return Array.isArray(n)?kt(n):n||null}function Dt(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}class Mt{constructor(t,e){this.validator=t,this.asyncValidator=e,this._onCollectionChange=()=>{},this.pristine=!0,this.touched=!1,this._onDisabledChange=[]}get parent(){return this._parent}get valid(){return"VALID"===this.status}get invalid(){return"INVALID"===this.status}get pending(){return"PENDING"==this.status}get disabled(){return"DISABLED"===this.status}get enabled(){return"DISABLED"!==this.status}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this.validator=Pt(t)}setAsyncValidators(t){this.asyncValidator=Rt(t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status="PENDING",!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status="DISABLED",this.errors=null,this._forEachChild(e=>{e.disable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(t=>t(!0))}enable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status="VALID",this._forEachChild(e=>{e.enable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(t=>t(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),"VALID"!==this.status&&"PENDING"!==this.status||this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?"DISABLED":"VALID"}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status="PENDING";const e=ut(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(e=>this.setErrors(e,{emitEvent:t}))}}_cancelExistingSubscription(){this._asyncValidationSubscription&&this._asyncValidationSubscription.unsubscribe()}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}get(t){return function(t,e,n){if(null==e)return null;if(Array.isArray(e)||(e=e.split(".")),Array.isArray(e)&&0===e.length)return null;let r=t;return e.forEach(t=>{r=r instanceof jt?r.controls.hasOwnProperty(t)?r.controls[t]:null:r instanceof Ut&&r.at(t)||null}),r}(this,t)}getError(t,e){const n=e?this.get(e):this;return n&&n.errors?n.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new r.n,this.statusChanges=new r.n}_calculateStatus(){return this._allControlsDisabled()?"DISABLED":this.errors?"INVALID":this._anyControlsHaveStatus("PENDING")?"PENDING":this._anyControlsHaveStatus("INVALID")?"INVALID":"VALID"}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_isBoxedValue(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){Dt(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&this._parent&&this._parent.dirty&&!this._parent._anyControlsDirty()}}class Lt extends Mt{constructor(t=null,e,n){super(Pt(e),Rt(n,e)),this._onChange=[],this._applyFormState(t),this._setUpdateStrategy(e),this.updateValueAndValidity({onlySelf:!0,emitEvent:!1}),this._initObservables()}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(t=>t(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=null,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_clearChangeFns(){this._onChange=[],this._onDisabledChange=[],this._onCollectionChange=()=>{}}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){this._isBoxedValue(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}}class jt extends Mt{constructor(t,e,n){super(Pt(e),Rt(n,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!1})}registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e){this.registerControl(t,e),this.updateValueAndValidity(),this._onCollectionChange()}removeControl(t){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity(),this._onCollectionChange()}setControl(t,e){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity(),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){this._checkAllValuesPresent(t),Object.keys(t).forEach(n=>{this._throwIfControlMissing(n),this.controls[n].setValue(t[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){Object.keys(t).forEach(n=>{this.controls[n]&&this.controls[n].patchValue(t[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}reset(t={},e={}){this._forEachChild((n,r)=>{n.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,n)=>(t[n]=e instanceof Lt?e.value:e.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(t,e)=>!!e._syncPendingControls()||t);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet.  If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[t])throw new Error(`Cannot find form control with name: ${t}.`)}_forEachChild(t){Object.keys(this.controls).forEach(e=>t(this.controls[e],e))}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){let e=!1;return this._forEachChild((n,r)=>{e=e||this.contains(r)&&t(n)}),e}_reduceValue(){return this._reduceChildren({},(t,e,n)=>((e.enabled||this.disabled)&&(t[n]=e.value),t))}_reduceChildren(t,e){let n=t;return this._forEachChild((t,r)=>{n=e(n,t,r)}),n}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(t){this._forEachChild((e,n)=>{if(void 0===t[n])throw new Error(`Must supply a value for form control with name: '${n}'.`)})}}class Ut extends Mt{constructor(t,e,n){super(Pt(e),Rt(n,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!1})}at(t){return this.controls[t]}push(t){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity(),this._onCollectionChange()}insert(t,e){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity()}removeAt(t){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),this.updateValueAndValidity()}setControl(t,e){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),e&&(this.controls.splice(t,0,e),this._registerControl(e)),this.updateValueAndValidity(),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,e={}){this._checkAllValuesPresent(t),t.forEach((t,n)=>{this._throwIfControlMissing(n),this.at(n).setValue(t,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){t.forEach((t,n)=>{this.at(n)&&this.at(n).patchValue(t,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}reset(t=[],e={}){this._forEachChild((n,r)=>{n.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(t=>t instanceof Lt?t.value:t.getRawValue())}clear(){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity())}_syncPendingControls(){let t=this.controls.reduce((t,e)=>!!e._syncPendingControls()||t,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet.  If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(t))throw new Error(`Cannot find form control at index ${t}`)}_forEachChild(t){this.controls.forEach((e,n)=>{t(e,n)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(e=>e.enabled&&t(e))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_checkAllValuesPresent(t){this._forEachChild((e,n)=>{if(void 0===t[n])throw new Error(`Must supply a value for form control at index: ${n}.`)})}_allControlsDisabled(){for(const t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}}const Vt={provide:Y,useExisting:Object(r.T)(()=>qt)},Ft=(()=>Promise.resolve(null))();let qt=(()=>{class t extends Y{constructor(t,e){super(),this.submitted=!1,this._directives=[],this.ngSubmit=new r.n,this.form=new jt({},Nt(t),kt(e))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){Ft.then(()=>{const e=this._findContainer(t.path);t.control=e.registerControl(t.name,t.control),St(t.control,t),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.push(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){Ft.then(()=>{const e=this._findContainer(t.path);e&&e.removeControl(t.name),function(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}(this._directives,t)})}addFormGroup(t){Ft.then(()=>{const e=this._findContainer(t.path),n=new jt({});(function(t,e){null==t&&Ot(e,"Cannot find control with"),t.validator=st.compose([t.validator,e.validator]),t.asyncValidator=st.composeAsync([t.asyncValidator,e.asyncValidator])})(n,t),e.registerControl(t.name,n),n.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){Ft.then(()=>{const e=this._findContainer(t.path);e&&e.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,e){Ft.then(()=>{this.form.get(t.path).setValue(e)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submitted=!0,e=this._directives,this.form._syncPendingControls(),e.forEach(t=>{const e=t.control;"submit"===e.updateOn&&e._pendingChange&&(t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1)}),this.ngSubmit.emit(t),!1;var e}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(rt,10),r.Kb(it,10))},t.\u0275dir=r.Fb({type:t,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(t,e){1&t&&r.Vb("submit",(function(t){return e.onSubmit(t)}))("reset",(function(){return e.onReset()}))},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[r.zb([Vt]),r.xb]}),t})(),Ht=(()=>{class t extends Y{ngOnInit(){this._checkParentType(),this.formDirective.addFormGroup(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormGroup(this)}get control(){return this.formDirective.getFormGroup(this)}get path(){return Tt(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}get validator(){return Nt(this._validators)}get asyncValidator(){return kt(this._asyncValidators)}_checkParentType(){}}return t.\u0275fac=function(e){return Gt(e||t)},t.\u0275dir=r.Fb({type:t,features:[r.xb]}),t})();const Gt=r.Pb(Ht);class Bt{static modelParentException(){throw new Error('\n      ngModel cannot be used to register form controls with a parent formGroup directive.  Try using\n      formGroup\'s partner directive "formControlName" instead.  Example:\n\n      \n    <div [formGroup]="myGroup">\n      <input formControlName="firstName">\n    </div>\n\n    In your class:\n\n    this.myGroup = new FormGroup({\n       firstName: new FormControl()\n    });\n\n      Or, if you\'d like to avoid registering this form control, indicate that it\'s standalone in ngModelOptions:\n\n      Example:\n\n      \n    <div [formGroup]="myGroup">\n       <input formControlName="firstName">\n       <input [(ngModel)]="showMoreControls" [ngModelOptions]="{standalone: true}">\n    </div>\n  ')}static formGroupNameException(){throw new Error(`\n      ngModel cannot be used to register form controls with a parent formGroupName or formArrayName directive.\n\n      Option 1: Use formControlName instead of ngModel (reactive strategy):\n\n      ${bt}\n\n      Option 2:  Update ngModel's parent be ngModelGroup (template-driven strategy):\n\n      ${wt}`)}static missingNameException(){throw new Error('If ngModel is used within a form tag, either the name attribute must be set or the form\n      control must be defined as \'standalone\' in ngModelOptions.\n\n      Example 1: <input [(ngModel)]="person.firstName" name="first">\n      Example 2: <input [(ngModel)]="person.firstName" [ngModelOptions]="{standalone: true}">')}static modelGroupParentException(){throw new Error(`\n      ngModelGroup cannot be used with a parent formGroup directive.\n\n      Option 1: Use formGroupName instead of ngModelGroup (reactive strategy):\n\n      ${bt}\n\n      Option 2:  Use a regular form tag instead of the formGroup directive (template-driven strategy):\n\n      ${wt}`)}}const zt={provide:Y,useExisting:Object(r.T)(()=>Wt)};let Wt=(()=>{class t extends Ht{constructor(t,e,n){super(),this._parent=t,this._validators=e,this._asyncValidators=n}_checkParentType(){this._parent instanceof t||this._parent instanceof qt||Bt.modelGroupParentException()}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(Y,5),r.Kb(rt,10),r.Kb(it,10))},t.\u0275dir=r.Fb({type:t,selectors:[["","ngModelGroup",""]],inputs:{name:["ngModelGroup","name"]},exportAs:["ngModelGroup"],features:[r.zb([zt]),r.xb]}),t})();const Kt={provide:X,useExisting:Object(r.T)(()=>Yt)},$t=(()=>Promise.resolve(null))();let Yt=(()=>{class t extends X{constructor(t,e,n,i){super(),this.control=new Lt,this._registered=!1,this.update=new r.n,this._parent=t,this._rawValidators=e||[],this._rawAsyncValidators=n||[],this.valueAccessor=function(t,e){if(!e)return null;Array.isArray(e)||Ot(t,"Value accessor was not provided as an array for form control with");let n=void 0,r=void 0,i=void 0;return e.forEach(e=>{var o;e.constructor===K?n=e:(o=e,xt.some(t=>o.constructor===t)?(r&&Ot(t,"More than one built-in value accessor matches form control with"),r=e):(i&&Ot(t,"More than one custom value accessor matches form control with"),i=e))}),i||r||n||(Ot(t,"No valid value accessor for form control with"),null)}(this,i)}ngOnChanges(t){this._checkForErrors(),this._registered||this._setUpControl(),"isDisabled"in t&&this._updateDisabled(t),function(t,e){if(!t.hasOwnProperty("model"))return!1;const n=t.model;return!!n.isFirstChange()||!Object(r.sb)(e,n.currentValue)}(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._parent?Tt(this.name,this._parent):[this.name]}get formDirective(){return this._parent?this._parent.formDirective:null}get validator(){return Nt(this._rawValidators)}get asyncValidator(){return kt(this._rawAsyncValidators)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){St(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){!(this._parent instanceof Wt)&&this._parent instanceof Ht?Bt.formGroupNameException():this._parent instanceof Wt||this._parent instanceof qt||Bt.modelParentException()}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()||this.name||Bt.missingNameException()}_updateValue(t){$t.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1})})}_updateDisabled(t){const e=t.isDisabled.currentValue,n=""===e||e&&"false"!==e;$t.then(()=>{n&&!this.control.disabled?this.control.disable():!n&&this.control.disabled&&this.control.enable()})}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(Y,9),r.Kb(rt,10),r.Kb(it,10),r.Kb(H,10))},t.\u0275dir=r.Fb({type:t,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[r.zb([Kt]),r.xb,r.yb]}),t})(),Qt=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.Fb({type:t,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),t})();const Jt={provide:rt,useExisting:Object(r.T)(()=>Xt),multi:!0};let Xt=(()=>{class t{get required(){return this._required}set required(t){this._required=null!=t&&!1!==t&&"false"!==`${t}`,this._onChange&&this._onChange()}validate(t){return this.required?st.required(t):null}registerOnValidatorChange(t){this._onChange=t}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.Fb({type:t,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(t,e){2&t&&r.Bb("required",e.required?"":null)},inputs:{required:"required"},features:[r.zb([Jt])]}),t})(),Zt=(()=>{class t{}return t.\u0275mod=r.Ib({type:t}),t.\u0275inj=r.Hb({factory:function(e){return new(e||t)}}),t})(),te=(()=>{class t{}return t.\u0275mod=r.Ib({type:t}),t.\u0275inj=r.Hb({factory:function(e){return new(e||t)},providers:[gt],imports:[Zt]}),t})();var ee=n("tyNb"),ne=n("2Vo4"),re=n("LRne"),ie=n("eIep"),oe=n("quSY");class se extends oe.a{constructor(t,e){super()}schedule(t,e=0){return this}}class ae extends se{constructor(t,e){super(t,e),this.scheduler=t,this.work=e,this.pending=!1}schedule(t,e=0){if(this.closed)return this;this.state=t;const n=this.id,r=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(r,n,e)),this.pending=!0,this.delay=e,this.id=this.id||this.requestAsyncId(r,this.id,e),this}requestAsyncId(t,e,n=0){return setInterval(t.flush.bind(t,this),n)}recycleAsyncId(t,e,n=0){if(null!==n&&this.delay===n&&!1===this.pending)return e;clearInterval(e)}execute(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const n=this._execute(t,e);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,e){let n=!1,r=void 0;try{this.work(t)}catch(i){n=!0,r=!!i&&i||new Error(i)}if(n)return this.unsubscribe(),r}_unsubscribe(){const t=this.id,e=this.scheduler,n=e.actions,r=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==r&&n.splice(r,1),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null}}class ue extends ae{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}schedule(t,e=0){return e>0?super.schedule(t,e):(this.delay=e,this.state=t,this.scheduler.flush(this),this)}execute(t,e){return e>0||this.closed?super.execute(t,e):this._execute(t,e)}requestAsyncId(t,e,n=0){return null!==n&&n>0||null===n&&this.delay>0?super.requestAsyncId(t,e,n):t.flush(this)}}let ce=(()=>{class t{constructor(e,n=t.now){this.SchedulerAction=e,this.now=n}schedule(t,e=0,n){return new this.SchedulerAction(this,t).schedule(n,e)}}return t.now=()=>Date.now(),t})();class he extends ce{constructor(t,e=ce.now){super(t,()=>he.delegate&&he.delegate!==this?he.delegate.now():e()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(t,e=0,n){return he.delegate&&he.delegate!==this?he.delegate.schedule(t,e,n):super.schedule(t,e,n)}flush(t){const{actions:e}=this;if(this.active)return void e.push(t);let n;this.active=!0;do{if(n=t.execute(t.state,t.delay))break}while(t=e.shift());if(this.active=!1,n){for(;t=e.shift();)t.unsubscribe();throw n}}}class le extends he{}const fe=new le(ue),de=new he(ae);var pe=n("vkgz");let ge=1;const me=(()=>Promise.resolve())(),ve={};function ye(t){return t in ve&&(delete ve[t],!0)}const be={setImmediate(t){const e=ge++;return ve[e]=!0,me.then(()=>ye(e)&&t()),e},clearImmediate(t){ye(t)}};class we extends ae{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,n=0){return null!==n&&n>0?super.requestAsyncId(t,e,n):(t.actions.push(this),t.scheduled||(t.scheduled=be.setImmediate(t.flush.bind(t,null))))}recycleAsyncId(t,e,n=0){if(null!==n&&n>0||null===n&&this.delay>0)return super.recycleAsyncId(t,e,n);0===t.actions.length&&(be.clearImmediate(e),t.scheduled=void 0)}}class _e extends he{flush(t){this.active=!0,this.scheduled=void 0;const{actions:e}=this;let n,r=-1,i=e.length;t=t||e.shift();do{if(n=t.execute(t.state,t.delay))break}while(++r<i&&(t=e.shift()));if(this.active=!1,n){for(;++r<i&&(t=e.shift());)t.unsubscribe();throw n}}}const Ee=new _e(we);class Ie extends L.a{constructor(t,e=0,n=Ee){var r;super(),this.source=t,this.delayTime=e,this.scheduler=n,r=e,(Object(j.a)(r)||!(r-parseFloat(r)+1>=0)||e<0)&&(this.delayTime=0),n&&"function"==typeof n.schedule||(this.scheduler=Ee)}static create(t,e=0,n=Ee){return new Ie(t,e,n)}static dispatch(t){const{source:e,subscriber:n}=t;return this.add(e.subscribe(n))}_subscribe(t){return this.scheduler.schedule(Ie.dispatch,this.delayTime,{source:this.source,subscriber:t})}}class Ce{constructor(t,e){this.scheduler=t,this.delay=e}call(t,e){return new Ie(e,this.delay,this.scheduler).subscribe(t)}}var Te=n("7o/Q"),Se=n("EY2u");let Ae=(()=>{class t{constructor(t,e,n){this.kind=t,this.value=e,this.error=n,this.hasValue="N"===t}observe(t){switch(this.kind){case"N":return t.next&&t.next(this.value);case"E":return t.error&&t.error(this.error);case"C":return t.complete&&t.complete()}}do(t,e,n){switch(this.kind){case"N":return t&&t(this.value);case"E":return e&&e(this.error);case"C":return n&&n()}}accept(t,e,n){return t&&"function"==typeof t.next?this.observe(t):this.do(t,e,n)}toObservable(){switch(this.kind){case"N":return Object(re.a)(this.value);case"E":return t=this.error,new L.a(e=>e.error(t));case"C":return Object(Se.b)()}var t;throw new Error("unexpected notification kind value")}static createNext(e){return void 0!==e?new t("N",e):t.undefinedValueNotification}static createError(e){return new t("E",void 0,e)}static createComplete(){return t.completeNotification}}return t.completeNotification=new t("C"),t.undefinedValueNotification=new t("N",void 0),t})();function Oe(t,e=0){return function(n){return n.lift(new Ne(t,e))}}class Ne{constructor(t,e=0){this.scheduler=t,this.delay=e}call(t,e){return e.subscribe(new ke(t,this.scheduler,this.delay))}}class ke extends Te.a{constructor(t,e,n=0){super(t),this.scheduler=e,this.delay=n}static dispatch(t){const{notification:e,destination:n}=t;e.observe(n),this.unsubscribe()}scheduleMessage(t){this.destination.add(this.scheduler.schedule(ke.dispatch,this.delay,new xe(t,this.destination)))}_next(t){this.scheduleMessage(Ae.createNext(t))}_error(t){this.scheduleMessage(Ae.createError(t)),this.unsubscribe()}_complete(){this.scheduleMessage(Ae.createComplete()),this.unsubscribe()}}class xe{constructor(t,e){this.notification=t,this.destination=e}}function Pe(){}class Re{constructor(t,e=fe){this.zone=t,this.delegate=e}now(){return this.delegate.now()}schedule(t,e,n){const r=this.zone;return this.delegate.schedule((function(e){r.runGuarded(()=>{t.apply(this,[e])})}),e,n)}}class De{constructor(t){this.zone=t,this.task=null}call(t,e){const n=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Pe,{},Pe,Pe)),e.pipe(Object(pe.a)(n,n,n)).subscribe(t).add(n)}unscheduleTask(){null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)}}class Me{constructor(t){this.ngZone=t,this.outsideAngular=t.runOutsideAngular(()=>new Re(Zone.current)),this.insideAngular=t.run(()=>new Re(Zone.current,de))}}function Le(t,e){return function(n){return Object(o.l)(e)&&(n=n.lift(new De(t.ngZone))),n.pipe(function(t,e=0){return function(n){return n.lift(new Ce(t,e))}}(t.outsideAngular),Oe(t.insideAngular))}}var je,Ue=n("Wcq6"),Ve=n.n(Ue);const Fe=new r.q("angularfire2.app.options"),qe=new r.q("angularfire2.app.nameOrConfig"),He=new r.N("5.4.2");function Ge(t,e,n){const r="object"==typeof n&&n||{};return r.name=r.name||"string"==typeof n&&n||"[DEFAULT]",Ve.a.apps.filter(t=>t&&t.name===r.name)[0]||e.runOutsideAngular(()=>Ve.a.initializeApp(t,r))}const Be={provide:class{},useFactory:Ge,deps:[Fe,r.z,[new r.A,qe]]};let ze=(()=>{let t=je=class{constructor(t){Ve.a.registerVersion&&(Ve.a.registerVersion("angularfire",He.full,t.toString()),Ve.a.registerVersion("angular",r.M.full))}static initializeApp(t,e){return{ngModule:je,providers:[{provide:Fe,useValue:t},{provide:qe,useValue:e}]}}};return t.\u0275mod=r.Ib({type:t}),t.\u0275inj=r.Hb({factory:function(e){return new(e||t)(r.Rb(r.B))},providers:[Be]}),t})(),We=(()=>{let t=class{constructor(t,e,n,r){const i=Le(new Me(r),n);this.auth=r.runOutsideAngular(()=>Ge(t,r,e).auth()),this.authState=new L.a(t=>r.runOutsideAngular(()=>this.auth.onAuthStateChanged(t))).pipe(i),this.user=new L.a(t=>r.runOutsideAngular(()=>this.auth.onIdTokenChanged(t))).pipe(i),this.idToken=this.user.pipe(Object(ie.a)(t=>t?Object(F.a)(t.getIdToken()):Object(re.a)(null))),this.idTokenResult=this.user.pipe(Object(ie.a)(t=>t?Object(F.a)(t.getIdTokenResult()):Object(re.a)(null)))}};return t.\u0275fac=function(e){return new(e||t)(r.Rb(Fe),r.Rb(qe,8),r.Rb(r.B),r.Rb(r.z))},t.\u0275prov=r.Gb({token:t,factory:t.\u0275fac}),t})();function Ke(t,e){return function(t,e=de){return new L.a(n=>{let r;return null!=e?e.schedule(()=>{r=t.onSnapshot(n)}):r=t.onSnapshot(n),function(){null!=r&&r()}})}(t,e)}function $e(t,e){return Ke(t,e).pipe(Object(U.a)(t=>({payload:t,type:"query"})))}var Ye=n("pLZG"),Qe=n("Kqap");function Je(t,e){return $e(t,e).pipe(Object(U.a)(t=>t.payload.docChanges().map(t=>({type:t.type,payload:t}))))}function Xe(t,e,n){return $e(t,n).pipe(Object(U.a)(t=>t.payload.docChanges()),Object(Qe.a)((t,n)=>function(t,e,n){return e.forEach(e=>{n.indexOf(e.type)>-1&&(t=function(t,e){switch(e.type){case"added":t[e.newIndex]&&t[e.newIndex].doc.ref.isEqual(e.doc.ref)||t.splice(e.newIndex,0,e);break;case"modified":(null==t[e.oldIndex]||t[e.oldIndex].doc.ref.isEqual(e.doc.ref))&&(e.oldIndex!==e.newIndex?(t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e)):t.splice(e.newIndex,1,e));break;case"removed":t[e.oldIndex]&&t[e.oldIndex].doc.ref.isEqual(e.doc.ref)&&t.splice(e.oldIndex,1)}return t}(t,e))}),t}(t,n,e),[]),Object(U.a)(t=>t.map(t=>({type:t.type,payload:t}))))}function Ze(t){return t&&0!==t.length||(t=["added","removed","modified"]),t}class tn{constructor(t,e,n){this.ref=t,this.query=e,this.afs=n}stateChanges(t){return t&&0!==t.length?Je(this.query,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst,Object(U.a)(e=>e.filter(e=>t.indexOf(e.type)>-1)),Object(Ye.a)(t=>t.length>0)):Je(this.query,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}auditTrail(t){return this.stateChanges(t).pipe(Object(Qe.a)((t,e)=>[...t,...e],[]))}snapshotChanges(t){const e=Ze(t);return Xe(this.query,e,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(t={}){return $e(this.query,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst,Object(U.a)(e=>e.payload.docs.map(e=>t.idField?Object.assign({},e.data(),{[t.idField]:e.id}):e.data())))}get(t){return Object(F.a)(this.query.get(t)).pipe(Oe(this.afs.schedulers.insideAngular))}add(t){return this.ref.add(t)}doc(t){return new en(this.ref.doc(t),this.afs)}}class en{constructor(t,e){this.ref=t,this.afs=e}set(t,e){return this.ref.set(t,e)}update(t){return this.ref.update(t)}delete(){return this.ref.delete()}collection(t,e){const n=this.ref.collection(t),{ref:r,query:i}=ln(n,e);return new tn(r,i,this.afs)}snapshotChanges(){return Ke(this.ref,this.afs.schedulers.outsideAngular).pipe(Object(U.a)(t=>({payload:t,type:"value"}))).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(){return this.snapshotChanges().pipe(Object(U.a)(t=>t.payload.data()))}get(t){return Object(F.a)(this.ref.get(t)).pipe(Oe(this.afs.schedulers.insideAngular))}}class nn{constructor(t,e){this.query=t,this.afs=e}stateChanges(t){return t&&0!==t.length?Je(this.query,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst,Object(U.a)(e=>e.filter(e=>t.indexOf(e.type)>-1)),Object(Ye.a)(t=>t.length>0)):Je(this.query,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}auditTrail(t){return this.stateChanges(t).pipe(Object(Qe.a)((t,e)=>[...t,...e],[]))}snapshotChanges(t){const e=Ze(t);return Xe(this.query,e,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(){return $e(this.query,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst,Object(U.a)(t=>t.payload.docs.map(t=>t.data())))}get(t){return Object(F.a)(this.query.get(t)).pipe(Oe(this.afs.schedulers.insideAngular))}}const rn=new r.q("angularfire2.enableFirestorePersistence"),on=new r.q("angularfire2.firestore.persistenceSettings"),sn=rn,an=on,un=new r.q("angularfire2.firestore.settings"),cn=parseInt(Ve.a.SDK_VERSION.split(".")[0]),hn=cn<5||5==cn&&parseInt(Ve.a.SDK_VERSION.split(".")[1])<8?{timestampsInSnapshots:!0}:{};function ln(t,e=(t=>t)){return{query:e(t),ref:t}}let fn=(()=>{let t=class{constructor(t,e,n,r,i,s,a){this.schedulers=new Me(s),this.keepUnstableUntilFirst=Le(this.schedulers,i),this.firestore=s.runOutsideAngular(()=>{const n=Ge(t,s,e).firestore();return n.settings(r||hn),n}),this.persistenceEnabled$=n&&!Object(o.l)(i)?s.runOutsideAngular(()=>{try{return Object(F.a)(this.firestore.enablePersistence(a||void 0).then(()=>!0,()=>!1))}catch(t){return Object(re.a)(!1)}}):Object(re.a)(!1)}collection(t,e){let n;n="string"==typeof t?this.firestore.collection(t):t;const{ref:r,query:i}=ln(n,e);return new tn(r,i,this)}collectionGroup(t,e){if(cn<6)throw"collection group queries require Firebase JS SDK >= 6.0";const n=e||(t=>t),r=this.firestore.collectionGroup(t);return new nn(n(r),this)}doc(t){let e;return e="string"==typeof t?this.firestore.doc(t):t,new en(e,this)}createId(){return this.firestore.collection("_").doc().id}};return t.\u0275fac=function(e){return new(e||t)(r.Rb(Fe),r.Rb(qe,8),r.Rb(sn,8),r.Rb(un,8),r.Rb(r.B),r.Rb(r.z),r.Rb(an,8))},t.\u0275prov=r.Gb({token:t,factory:t.\u0275fac}),t})(),dn=(()=>{class t{constructor(t,e,n){this.afAuth=t,this.db=e,this.router=n,this.eventAuthError=new ne.a(""),this.eventAuthError$=this.eventAuthError.asObservable()}getUserState(){return this.afAuth.authState}login(t,e){this.afAuth.auth.signInWithEmailAndPassword(t,e).catch(t=>{this.eventAuthError.next(t)}).then(t=>{t&&(localStorage.setItem("SessionUser","1"),this.router.navigate(["/home"]))})}createUser(t){console.log(t),this.afAuth.auth.createUserWithEmailAndPassword(t.email,t.password).then(e=>{this.newUser=t,console.log(e),e.user.updateProfile({displayName:t.firstName+" "+t.lastName}),this.insertUserData(e),localStorage.setItem("SessionUser","1"),this.router.navigate(["/home"])}).catch(t=>{this.eventAuthError.next(t)})}insertUserData(t){return this.db.doc(`Users/${t.user.uid}`).set({email:this.newUser.email,firstname:this.newUser.firstName,lastname:this.newUser.lastName,role:"network user"})}logout(){return localStorage.clear(),this.afAuth.auth.signOut()}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(We),r.Rb(fn),r.Rb(ee.a))},t.\u0275prov=r.Gb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function pn(t,e){if(1&t&&(r.Nb(0,"div",1),r.Nb(1,"div",20),r.gc(2),r.Mb(),r.Mb()),2&t){const t=r.Xb();r.Ab(2),r.hc(null==t.authError?null:t.authError.message)}}let gn=(()=>{class t{constructor(t){this.auth=t}ngOnInit(){this.auth.eventAuthError$.subscribe(t=>{this.authError=t})}login(t){this.auth.login(t.value.email,t.value.password)}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(dn))},t.\u0275cmp=r.Eb({type:t,selectors:[["app-login"]],decls:25,vars:1,consts:[[1,"container"],[1,"row"],[1,"col-sm-9","col-md-7","col-lg-5","mx-auto"],[1,"card","card-signin","my-5"],[1,"card-body"],[1,"card-title","text-center"],[1,"form-signin",3,"ngSubmit"],["loginForm","ngForm"],["class","row",4,"ngIf"],[1,"form-label-group"],["ngModel","","name","email","type","email","id","inputEmail","placeholder","Email address","required","","autofocus","",1,"form-control"],["email","ngModel"],["ngModel","","name","password","type","password","id","inputPassword","placeholder","Password","required","",1,"form-control"],["password","ngModel"],[1,"custom-control","custom-checkbox","mb-3"],["type","checkbox","id","customCheck1",1,"custom-control-input"],["for","customCheck1",1,"custom-control-label"],["type","submit",1,"btn","btn-lg","btn-primary","btn-block","text-uppercase"],[1,"my-4"],["href","/register",1,"btn","btn-lg","btn-primary","btn-block","text-uppercase"],[1,"col-12","alert","alert-danger"]],template:function(t,e){if(1&t){const t=r.Ob();r.Nb(0,"div",0),r.Nb(1,"div",1),r.Nb(2,"div",2),r.Nb(3,"div",3),r.Nb(4,"div",4),r.Nb(5,"h5",5),r.gc(6,"Sign In"),r.Mb(),r.Nb(7,"form",6,7),r.Vb("ngSubmit",(function(){r.cc(t);const n=r.bc(8);return e.login(n)})),r.fc(9,pn,3,1,"div",8),r.Nb(10,"div",9),r.Lb(11,"input",10,11),r.Mb(),r.Nb(13,"div",9),r.Lb(14,"input",12,13),r.Mb(),r.Nb(16,"div",14),r.Lb(17,"input",15),r.Nb(18,"label",16),r.gc(19,"Remember password"),r.Mb(),r.Mb(),r.Nb(20,"button",17),r.gc(21,"Sign in"),r.Mb(),r.Lb(22,"hr",18),r.Nb(23,"a",19),r.gc(24,"Register"),r.Mb(),r.Mb(),r.Mb(),r.Mb(),r.Mb(),r.Mb(),r.Mb()}2&t&&(r.Ab(9),r.Yb("ngIf",e.authError))},directives:[Qt,et,qt,o.h,K,tt,Yt,Xt],styles:["[_ngcontent-%COMP%]:root{--input-padding-x:1.5rem;--input-padding-y:.75rem}body[_ngcontent-%COMP%]{background:#007bff;background:linear-gradient(90deg,#0062e6,#33aeff)}.card-signin[_ngcontent-%COMP%]{border:0;border-radius:1rem;box-shadow:0 .5rem 1rem 0 rgba(0,0,0,.1)}.card-signin[_ngcontent-%COMP%]   .card-title[_ngcontent-%COMP%]{margin-bottom:2rem;font-weight:300;font-size:1.5rem}.card-signin[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]{padding:2rem}.form-signin[_ngcontent-%COMP%]{width:100%}.form-signin[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{font-size:80%;border-radius:5rem;letter-spacing:.1rem;font-weight:700;padding:1rem;transition:all .2s}.form-label-group[_ngcontent-%COMP%]{position:relative;margin-bottom:1rem}.form-label-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{height:auto;border-radius:2rem}.form-label-group[_ngcontent-%COMP%] > input[_ngcontent-%COMP%], .form-label-group[_ngcontent-%COMP%] > label[_ngcontent-%COMP%]{padding:var(--input-padding-y) var(--input-padding-x)}.form-label-group[_ngcontent-%COMP%] > label[_ngcontent-%COMP%]{position:absolute;top:0;left:0;display:block;width:100%;margin-bottom:0;line-height:1.5;color:#495057;border:1px solid transparent;border-radius:.25rem;transition:all .1s ease-in-out}.form-label-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:not(:placeholder-shown){padding-top:calc(var(--input-padding-y) + var(--input-padding-y)*0.66667);padding-bottom:calc(var(--input-padding-y)/3)}.form-label-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:not(:placeholder-shown) ~ label[_ngcontent-%COMP%]{padding-top:calc(var(--input-padding-y)/3);padding-bottom:calc(var(--input-padding-y)/3);font-size:12px;color:#777}.btn-google[_ngcontent-%COMP%]{color:#fff;background-color:#ea4335}.btn-facebook[_ngcontent-%COMP%]{color:#fff;background-color:#3b5998}@supports (-ms-ime-align:auto){.form-label-group[_ngcontent-%COMP%] > label[_ngcontent-%COMP%]{display:none}.form-label-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::-ms-input-placeholder{color:#777}}@media (-ms-high-contrast:active),(-ms-high-contrast:none){.form-label-group[_ngcontent-%COMP%] > label[_ngcontent-%COMP%]{display:none}.form-label-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:-ms-input-placeholder{color:#777}}"]}),t})();function mn(t,e){if(1&t&&(r.Nb(0,"div",1),r.Nb(1,"div",21),r.gc(2),r.Mb(),r.Mb()),2&t){const t=r.Xb();r.Ab(2),r.ic(" ",null==t.authError?null:t.authError.message," ")}}let vn=(()=>{class t{constructor(t){this.auth=t}ngOnInit(){this.auth.eventAuthError$.subscribe(t=>{this.authError=t})}createUser(t){this.auth.createUser(t.value)}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(dn))},t.\u0275cmp=r.Eb({type:t,selectors:[["app-registration"]],decls:27,vars:1,consts:[[1,"container"],[1,"row"],[1,"col-sm-9","col-md-7","col-lg-5","mx-auto"],[1,"card","card-signin","my-5"],[1,"card-body"],[1,"card-title","text-center"],[1,"form-signin",3,"ngSubmit"],["userRegForm","ngForm"],["class","row",4,"ngIf"],[1,"form-label-group"],["ngModel","","name","firstName","type","text","id","inputUserame","placeholder","First name","required","","autofocus","",1,"form-control"],["firstname","ngModel"],["ngModel","","name","lastName","type","text","id","inputUserame2","placeholder","Last name","required","",1,"form-control"],["lastname","ngModel"],["ngModel","","name","email","type","email","id","inputEmail","placeholder","Email address","required","",1,"form-control"],["email","ngModel"],["ngModel","","name","password","type","password","id","inputPassword","placeholder","Password","required","",1,"form-control"],["password","ngModel"],["type","submit",1,"btn","btn-lg","btn-primary","btn-block","text-uppercase"],[1,"my-4"],["href","/login",1,"btn","btn-lg","btn-primary","btn-block","text-uppercase"],[1,"col-12","alert","alert-danger"]],template:function(t,e){if(1&t){const t=r.Ob();r.Nb(0,"div",0),r.Nb(1,"div",1),r.Nb(2,"div",2),r.Nb(3,"div",3),r.Nb(4,"div",4),r.Nb(5,"h5",5),r.gc(6,"Sign Up"),r.Mb(),r.Nb(7,"form",6,7),r.Vb("ngSubmit",(function(){r.cc(t);const n=r.bc(8);return e.createUser(n)})),r.fc(9,mn,3,1,"div",8),r.Nb(10,"div",9),r.Lb(11,"input",10,11),r.Mb(),r.Nb(13,"div",9),r.Lb(14,"input",12,13),r.Mb(),r.Nb(16,"div",9),r.Lb(17,"input",14,15),r.Mb(),r.Nb(19,"div",9),r.Lb(20,"input",16,17),r.Mb(),r.Nb(22,"button",18),r.gc(23,"Sign Up"),r.Mb(),r.Lb(24,"hr",19),r.Nb(25,"a",20),r.gc(26,"Log In"),r.Mb(),r.Mb(),r.Mb(),r.Mb(),r.Mb(),r.Mb(),r.Mb()}2&t&&(r.Ab(9),r.Yb("ngIf",e.authError))},directives:[Qt,et,qt,o.h,K,tt,Yt,Xt],styles:["[_ngcontent-%COMP%]:root{--input-padding-x:1.5rem;--input-padding-y:.75rem}body[_ngcontent-%COMP%]{background:#007bff;background:linear-gradient(90deg,#0062e6,#33aeff)}.card-signin[_ngcontent-%COMP%]{border:0;border-radius:1rem;box-shadow:0 .5rem 1rem 0 rgba(0,0,0,.1)}.card-signin[_ngcontent-%COMP%]   .card-title[_ngcontent-%COMP%]{margin-bottom:2rem;font-weight:300;font-size:1.5rem}.card-signin[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]{padding:2rem}.form-signin[_ngcontent-%COMP%]{width:100%}.form-signin[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{font-size:80%;border-radius:5rem;letter-spacing:.1rem;font-weight:700;padding:1rem;transition:all .2s}.form-label-group[_ngcontent-%COMP%]{position:relative;margin-bottom:1rem}.form-label-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{height:auto;border-radius:2rem}.form-label-group[_ngcontent-%COMP%] > input[_ngcontent-%COMP%], .form-label-group[_ngcontent-%COMP%] > label[_ngcontent-%COMP%]{padding:var(--input-padding-y) var(--input-padding-x)}.form-label-group[_ngcontent-%COMP%] > label[_ngcontent-%COMP%]{position:absolute;top:0;left:0;display:block;width:100%;margin-bottom:0;line-height:1.5;color:#495057;border:1px solid transparent;border-radius:.25rem;transition:all .1s ease-in-out}.form-label-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:not(:placeholder-shown){padding-top:calc(var(--input-padding-y) + var(--input-padding-y)*0.66667);padding-bottom:calc(var(--input-padding-y)/3)}.form-label-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:not(:placeholder-shown) ~ label[_ngcontent-%COMP%]{padding-top:calc(var(--input-padding-y)/3);padding-bottom:calc(var(--input-padding-y)/3);font-size:12px;color:#777}.btn-google[_ngcontent-%COMP%]{color:#fff;background-color:#ea4335}.btn-facebook[_ngcontent-%COMP%]{color:#fff;background-color:#3b5998}@supports (-ms-ime-align:auto){.form-label-group[_ngcontent-%COMP%] > label[_ngcontent-%COMP%]{display:none}.form-label-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::-ms-input-placeholder{color:#777}}@media (-ms-high-contrast:active),(-ms-high-contrast:none){.form-label-group[_ngcontent-%COMP%] > label[_ngcontent-%COMP%]{display:none}.form-label-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:-ms-input-placeholder{color:#777}}"]}),t})();function yn(t,e){if(1&t){const t=r.Ob();r.Nb(0,"button",11),r.Vb("click",(function(){return r.cc(t),r.Xb().admin()})),r.gc(1,"Admin"),r.Mb()}}function bn(t,e){if(1&t){const t=r.Ob();r.Nb(0,"button",11),r.Vb("click",(function(){return r.cc(t),r.Xb().logout()})),r.gc(1,"Log Out"),r.Mb()}}function wn(t,e){if(1&t){const t=r.Ob();r.Nb(0,"button",11),r.Vb("click",(function(){return r.cc(t),r.Xb().login()})),r.gc(1,"Log In"),r.Mb()}}function _n(t,e){if(1&t&&(r.Nb(0,"h1",12),r.gc(1),r.Mb()),2&t){const t=r.Xb();r.Ab(1),r.ic("Greetings, ",null==t.user?null:t.user.displayName,"!")}}function En(t,e){1&t&&(r.Nb(0,"h1",12),r.gc(1,"You are logged out!"),r.Mb())}function In(t,e){if(1&t&&(r.Nb(0,"em"),r.gc(1),r.Mb()),2&t){const t=r.Xb();r.Ab(1),r.ic("Email: ",null==t.user?null:t.user.email,"")}}function Cn(t,e){1&t&&(r.Nb(0,"em"),r.gc(1,"Please log in again."),r.Mb())}let Tn=(()=>{class t{constructor(t,e){this.auth=t,this.router=e}ngOnInit(){this.auth.getUserState().subscribe(t=>{this.user=t})}login(){this.router.navigate(["/login"])}logout(){this.auth.logout()}register(){this.router.navigate(["/register"])}admin(){this.router.navigate(["/admin"])}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(dn),r.Kb(ee.a))},t.\u0275cmp=r.Eb({type:t,selectors:[["app-home"]],decls:15,vars:7,consts:[[1,"navbar","navbar-dark","fixed-top","justify-content-between"],[1,"navbar-brand"],[1,"form-inline"],["class","btn",3,"click",4,"ngIf"],["id","page-top"],[1,"masthead","d-flex"],[1,"container","text-center","my-auto"],["class","mb-1",4,"ngIf"],[1,"mb-5"],[4,"ngIf"],[1,"overlay"],[1,"btn",3,"click"],[1,"mb-1"]],template:function(t,e){1&t&&(r.Nb(0,"nav",0),r.Lb(1,"a",1),r.Nb(2,"form",2),r.fc(3,yn,2,0,"button",3),r.fc(4,bn,2,0,"button",3),r.fc(5,wn,2,0,"button",3),r.Mb(),r.Mb(),r.Nb(6,"body",4),r.Nb(7,"header",5),r.Nb(8,"div",6),r.fc(9,_n,2,1,"h1",7),r.fc(10,En,2,0,"h1",7),r.Nb(11,"h3",8),r.fc(12,In,2,1,"em",9),r.fc(13,Cn,2,0,"em",9),r.Mb(),r.Mb(),r.Lb(14,"div",10),r.Mb(),r.Mb()),2&t&&(r.Ab(3),r.Yb("ngIf",e.user),r.Ab(1),r.Yb("ngIf",e.user),r.Ab(1),r.Yb("ngIf",!e.user),r.Ab(4),r.Yb("ngIf",e.user),r.Ab(1),r.Yb("ngIf",!e.user),r.Ab(2),r.Yb("ngIf",e.user),r.Ab(1),r.Yb("ngIf",!e.user))},directives:[Qt,et,qt,o.h],styles:["body[_ngcontent-%COMP%], html[_ngcontent-%COMP%]{width:100%;height:100%}.btn-xl[_ngcontent-%COMP%]{padding:1.25rem 2.5rem}.content-section[_ngcontent-%COMP%]{padding-top:7.5rem;padding-bottom:7.5rem}.content-section-heading[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:3rem}.content-section-heading[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1rem;text-transform:uppercase}h1[_ngcontent-%COMP%], h2[_ngcontent-%COMP%], h3[_ngcontent-%COMP%], h4[_ngcontent-%COMP%], h5[_ngcontent-%COMP%], h6[_ngcontent-%COMP%]{font-weight:700;color:#fff}.text-faded[_ngcontent-%COMP%]{color:hsla(0,0%,100%,.7)}.map[_ngcontent-%COMP%]{height:30rem}@media (max-width:992px){.map[_ngcontent-%COMP%]{height:75%}}.map[_ngcontent-%COMP%]   iframe[_ngcontent-%COMP%]{pointer-events:none}.scroll-to-top[_ngcontent-%COMP%]{position:fixed;right:15px;bottom:15px;display:none;width:50px;height:50px;text-align:center;color:#fff;background:rgba(52,58,64,.5);line-height:45px}.scroll-to-top[_ngcontent-%COMP%]:focus, .scroll-to-top[_ngcontent-%COMP%]:hover{color:#fff}.scroll-to-top[_ngcontent-%COMP%]:hover{background:#343a40}.scroll-to-top[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-weight:800}.masthead[_ngcontent-%COMP%]{min-height:30rem;position:relative;display:table;width:100%;height:auto;padding-top:8rem;padding-bottom:8rem;background-position:50%;background-repeat:no-repeat;background-size:cover}.masthead[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:4rem;margin:0;padding:0}@media (min-width:992px){.masthead[_ngcontent-%COMP%]{height:100vh}.masthead[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:5.5rem}}#sidebar-wrapper[_ngcontent-%COMP%]{position:fixed;z-index:2;right:0;width:250px;height:100%;transition:all .4s ease 0s;transform:translateX(250px);background:#1d809f;border-left:1px solid hsla(0,0%,100%,.1)}.sidebar-nav[_ngcontent-%COMP%]{position:absolute;top:0;width:250px;margin:0;padding:0;list-style:none}.sidebar-nav[_ngcontent-%COMP%]   li.sidebar-nav-item[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{display:block;text-decoration:none;color:#fff;padding:15px}.sidebar-nav[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:none;color:#fff;background:hsla(0,0%,100%,.2)}.sidebar-nav[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:active, .sidebar-nav[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:focus{text-decoration:none}.sidebar-nav[_ngcontent-%COMP%] > .sidebar-brand[_ngcontent-%COMP%]{font-size:1.2rem;background:rgba(52,58,64,.1);height:80px;line-height:50px;padding-top:15px;padding-bottom:15px;padding-left:15px}.sidebar-nav[_ngcontent-%COMP%] > .sidebar-brand[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#fff}.sidebar-nav[_ngcontent-%COMP%] > .sidebar-brand[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#fff;background:none}#sidebar-wrapper.active[_ngcontent-%COMP%]{right:250px;width:250px;transition:all .4s ease 0s}.menu-toggle[_ngcontent-%COMP%]{position:fixed;right:15px;top:15px;width:50px;height:50px;text-align:center;color:#fff;background:rgba(52,58,64,.5);line-height:50px;z-index:999}.menu-toggle[_ngcontent-%COMP%]:focus, .menu-toggle[_ngcontent-%COMP%]:hover{color:#fff}.menu-toggle[_ngcontent-%COMP%]:hover{background:#343a40}.service-icon[_ngcontent-%COMP%]{background-color:#fff;color:#1d809f;height:7rem;width:7rem;display:block;line-height:7.5rem;font-size:2.25rem;box-shadow:0 3px 3px 0 rgba(0,0,0,.1)}.callout[_ngcontent-%COMP%]{padding:15rem 0;background-position:50%;background-repeat:no-repeat;background-size:cover}.callout[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:3.5rem;font-weight:700;display:block;max-width:30rem}.portfolio-item[_ngcontent-%COMP%]{display:block;position:relative;overflow:hidden;max-width:530px;margin:auto auto 1rem}.portfolio-item[_ngcontent-%COMP%]   .caption[_ngcontent-%COMP%]{display:flex;height:100%;width:100%;background-color:rgba(33,37,41,.2);position:absolute;top:0;bottom:0;z-index:1}.portfolio-item[_ngcontent-%COMP%]   .caption[_ngcontent-%COMP%]   .caption-content[_ngcontent-%COMP%]{color:#fff;margin:auto 2rem 2rem}.portfolio-item[_ngcontent-%COMP%]   .caption[_ngcontent-%COMP%]   .caption-content[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:.8rem;text-transform:uppercase}.portfolio-item[_ngcontent-%COMP%]   .caption[_ngcontent-%COMP%]   .caption-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-weight:300;font-size:1.2rem}@media (min-width:992px){.portfolio-item[_ngcontent-%COMP%]{max-width:none;margin:0}.portfolio-item[_ngcontent-%COMP%]   .caption[_ngcontent-%COMP%]{-webkit-transition:-webkit-clip-path .25s ease-out,background-color .7s;-webkit-clip-path:inset(0);clip-path:inset(0)}.portfolio-item[_ngcontent-%COMP%]   .caption[_ngcontent-%COMP%]   .caption-content[_ngcontent-%COMP%]{transition:opacity .25s;margin-left:5rem;margin-right:5rem;margin-bottom:5rem}.portfolio-item[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{-webkit-transition:-webkit-clip-path .25s ease-out;-webkit-clip-path:inset(-1px);clip-path:inset(-1px)}.portfolio-item[_ngcontent-%COMP%]:hover   .caption[_ngcontent-%COMP%], .portfolio-item[_ngcontent-%COMP%]:hover   img[_ngcontent-%COMP%]{-webkit-clip-path:inset(2rem);clip-path:inset(2rem)}.portfolio-item[_ngcontent-%COMP%]:hover   .caption[_ngcontent-%COMP%]{background-color:rgba(29,128,159,.9)}}footer.footer[_ngcontent-%COMP%]{padding-top:5rem;padding-bottom:5rem}footer.footer[_ngcontent-%COMP%]   .social-link[_ngcontent-%COMP%]{display:block;height:4rem;width:4rem;line-height:4.3rem;font-size:1.5rem;background-color:#1d809f;transition:background-color .15s ease-in-out;box-shadow:0 3px 3px 0 rgba(0,0,0,.1)}footer.footer[_ngcontent-%COMP%]   .social-link[_ngcontent-%COMP%]:hover{background-color:#155d74;text-decoration:none}a[_ngcontent-%COMP%]{color:#1d809f}a[_ngcontent-%COMP%]:active, a[_ngcontent-%COMP%]:focus, a[_ngcontent-%COMP%]:hover{color:#155d74}.btn-primary[_ngcontent-%COMP%]{background-color:#1d809f!important;border-color:#1d809f!important;color:#fff!important}.btn-primary[_ngcontent-%COMP%]:active, .btn-primary[_ngcontent-%COMP%]:focus, .btn-primary[_ngcontent-%COMP%]:hover{background-color:#155d74!important;border-color:#155d74!important}.btn-secondary[_ngcontent-%COMP%]{background-color:#ecb807!important;border-color:#ecb807!important;color:#fff!important}.btn-secondary[_ngcontent-%COMP%]:active, .btn-secondary[_ngcontent-%COMP%]:focus, .btn-secondary[_ngcontent-%COMP%]:hover{background-color:#ba9106!important;border-color:#ba9106!important}.btn[_ngcontent-%COMP%], .btn-dark[_ngcontent-%COMP%]{color:#fff!important}.btn[_ngcontent-%COMP%]{box-shadow:0 3px 3px 0 rgba(0,0,0,.1);font-weight:700;margin:10px}.bg-primary[_ngcontent-%COMP%]{background-color:#1d809f!important}.text-primary[_ngcontent-%COMP%]{color:#1d809f!important}.text-secondary[_ngcontent-%COMP%]{color:#ecb807!important}"]}),t})(),Sn=(()=>{class t{constructor(){}getToken(){return localStorage.getItem("SessionUser")}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Gb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),An=(()=>{class t{constructor(t,e){this.Authguardservice=t,this.router=e}canActivate(){return!!this.Authguardservice.getToken()||(this.router.navigateByUrl("/login"),!1)}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(Sn),r.Rb(ee.a))},t.\u0275prov=r.Gb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const On=[{path:"",redirectTo:"/login",pathMatch:"full"},{path:"login",component:gn},{path:"register",component:vn},{path:"home",component:Tn,canActivate:[An]},{path:"admin",loadChildren:()=>n.e(5).then(n.bind(null,"tbAy")).then(t=>t.AdminLayoutModule),canActivate:[An]}];let Nn=(()=>{class t{}return t.\u0275mod=r.Ib({type:t}),t.\u0275inj=r.Hb({factory:function(e){return new(e||t)},imports:[[ee.d.forRoot(On)],ee.d]}),t})(),kn=(()=>{class t{constructor(){this.title="FirebaseAuth"}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Eb({type:t,selectors:[["app-root"]],decls:1,vars:0,template:function(t,e){1&t&&r.Lb(0,"router-outlet")},directives:[ee.e],styles:[""]}),t})();var xn=n("wj3C"),Pn=n.n(xn);(function(){var t,e="function"==typeof Object.defineProperties?Object.defineProperty:function(t,e,n){t!=Array.prototype&&t!=Object.prototype&&(t[e]=n.value)},n=function(t){t=["object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof global&&global,t];for(var e=0;e<t.length;++e){var n=t[e];if(n&&n.Math==Math)return n}return globalThis}(this);function r(t){var e=0;return function(){return e<t.length?{done:!1,value:t[e++]}:{done:!0}}}function i(t){var e="undefined"!=typeof Symbol&&Symbol.iterator&&t[Symbol.iterator];return e?e.call(t):{next:r(t)}}!function(t,r){if(r){var i=n;t=t.split(".");for(var o=0;o<t.length-1;o++){var s=t[o];s in i||(i[s]={}),i=i[s]}(r=r(o=i[t=t[t.length-1]]))!=o&&null!=r&&e(i,t,{configurable:!0,writable:!0,value:r})}}("Promise",(function(t){function e(t){this.b=0,this.c=void 0,this.a=[];var e=this.f();try{t(e.resolve,e.reject)}catch(n){e.reject(n)}}function r(){this.a=null}function o(t){return t instanceof e?t:new e((function(e){e(t)}))}if(t)return t;r.prototype.b=function(t){if(null==this.a){this.a=[];var e=this;this.c((function(){e.g()}))}this.a.push(t)};var s=n.setTimeout;r.prototype.c=function(t){s(t,0)},r.prototype.g=function(){for(;this.a&&this.a.length;){var t=this.a;this.a=[];for(var e=0;e<t.length;++e){var n=t[e];t[e]=null;try{n()}catch(r){this.f(r)}}}this.a=null},r.prototype.f=function(t){this.c((function(){throw t}))},e.prototype.f=function(){function t(t){return function(r){n||(n=!0,t.call(e,r))}}var e=this,n=!1;return{resolve:t(this.m),reject:t(this.g)}},e.prototype.m=function(t){if(t===this)this.g(new TypeError("A Promise cannot resolve to itself"));else if(t instanceof e)this.s(t);else{t:switch(typeof t){case"object":var n=null!=t;break t;case"function":n=!0;break t;default:n=!1}n?this.u(t):this.h(t)}},e.prototype.u=function(t){var e=void 0;try{e=t.then}catch(n){return void this.g(n)}"function"==typeof e?this.w(e,t):this.h(t)},e.prototype.g=function(t){this.i(2,t)},e.prototype.h=function(t){this.i(1,t)},e.prototype.i=function(t,e){if(0!=this.b)throw Error("Cannot settle("+t+", "+e+"): Promise already settled in state"+this.b);this.b=t,this.c=e,this.l()},e.prototype.l=function(){if(null!=this.a){for(var t=0;t<this.a.length;++t)a.b(this.a[t]);this.a=null}};var a=new r;return e.prototype.s=function(t){var e=this.f();t.Oa(e.resolve,e.reject)},e.prototype.w=function(t,e){var n=this.f();try{t.call(e,n.resolve,n.reject)}catch(r){n.reject(r)}},e.prototype.then=function(t,n){function r(t,e){return"function"==typeof t?function(e){try{i(t(e))}catch(n){o(n)}}:e}var i,o,s=new e((function(t,e){i=t,o=e}));return this.Oa(r(t,i),r(n,o)),s},e.prototype.catch=function(t){return this.then(void 0,t)},e.prototype.Oa=function(t,e){function n(){switch(r.b){case 1:t(r.c);break;case 2:e(r.c);break;default:throw Error("Unexpected state: "+r.b)}}var r=this;null==this.a?a.b(n):this.a.push(n)},e.resolve=o,e.reject=function(t){return new e((function(e,n){n(t)}))},e.race=function(t){return new e((function(e,n){for(var r=i(t),s=r.next();!s.done;s=r.next())o(s.value).Oa(e,n)}))},e.all=function(t){var n=i(t),r=n.next();return r.done?o([]):new e((function(t,e){function i(e){return function(n){s[e]=n,0==--a&&t(s)}}var s=[],a=0;do{s.push(void 0),a++,o(r.value).Oa(i(s.length-1),e),r=n.next()}while(!r.done)}))},e}));var o=o||{},s=this||self,a=/^[\w+/_-]+[=]{0,2}$/,u=null;function c(){}function h(t){var e=typeof t;if("object"==e){if(!t)return"null";if(t instanceof Array)return"array";if(t instanceof Object)return e;var n=Object.prototype.toString.call(t);if("[object Window]"==n)return"object";if("[object Array]"==n||"number"==typeof t.length&&void 0!==t.splice&&void 0!==t.propertyIsEnumerable&&!t.propertyIsEnumerable("splice"))return"array";if("[object Function]"==n||void 0!==t.call&&void 0!==t.propertyIsEnumerable&&!t.propertyIsEnumerable("call"))return"function"}else if("function"==e&&void 0===t.call)return"object";return e}function l(t){var e=h(t);return"array"==e||"object"==e&&"number"==typeof t.length}function f(t){return"function"==h(t)}function d(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}function p(t){return Object.prototype.hasOwnProperty.call(t,g)&&t[g]||(t[g]=++m)}var g="closure_uid_"+(1e9*Math.random()>>>0),m=0;function v(t,e,n){return t.call.apply(t.bind,arguments)}function y(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function b(t,e,n){return(b=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?v:y).apply(null,arguments)}function w(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}var _=Date.now||function(){return+new Date};function E(t,e){function n(){}n.prototype=e.prototype,t.Za=e.prototype,t.prototype=new n,t.prototype.constructor=t}function I(t,e,n){this.code=S+t,this.message=e||A[t]||"",this.a=n||null}function C(t){var e=t&&t.code;return e?new I(e.substring(S.length),t.message,t.serverResponse):null}E(I,Error),I.prototype.v=function(){var t={code:this.code,message:this.message};return this.a&&(t.serverResponse=this.a),t},I.prototype.toJSON=function(){return this.v()};var T,S="auth/",A={"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","expired-action-code":"The action code has expired. ","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal error has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal error has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal error has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network error (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal error has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled."},O={hd:{Ra:"https://staging-identitytoolkit.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",Xa:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Ua:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"b"},pd:{Ra:"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",Xa:"https://securetoken.googleapis.com/v1/token",Ua:"https://identitytoolkit.googleapis.com/v2/",id:"p"},rd:{Ra:"https://staging-www.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",Xa:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Ua:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"s"},sd:{Ra:"https://www-googleapis-test.sandbox.google.com/identitytoolkit/v3/relyingparty/",Xa:"https://test-securetoken.sandbox.googleapis.com/v1/token",Ua:"https://test-identitytoolkit.sandbox.googleapis.com/v2/",id:"t"}};function N(t){for(var e in O)if(O[e].id===t)return{firebaseEndpoint:(t=O[e]).Ra,secureTokenEndpoint:t.Xa,identityPlatformEndpoint:t.Ua};return null}function k(t){if(!t)return!1;try{return!!t.$goog_Thenable}catch(e){return!1}}function x(t){if(Error.captureStackTrace)Error.captureStackTrace(this,x);else{var e=Error().stack;e&&(this.stack=e)}t&&(this.message=String(t))}function P(t,e){for(var n="",r=(t=t.split("%s")).length-1,i=0;i<r;i++)n+=t[i]+(i<e.length?e[i]:"%s");x.call(this,n+t[r])}function R(t,e){throw new P("Failure"+(t?": "+t:""),Array.prototype.slice.call(arguments,1))}function D(t,e){this.c=t,this.f=e,this.b=0,this.a=null}function M(t,e){t.f(e),100>t.b&&(t.b++,e.next=t.a,t.a=e)}function L(){this.b=this.a=null}T=N("__EID__")?"__EID__":void 0,E(x,Error),x.prototype.name="CustomError",E(P,x),P.prototype.name="AssertionError",D.prototype.get=function(){if(0<this.b){this.b--;var t=this.a;this.a=t.next,t.next=null}else t=this.c();return t};var j=new D((function(){return new V}),(function(t){t.reset()}));function U(){var t=ge,e=null;return t.a&&(e=t.a,t.a=t.a.next,t.a||(t.b=null),e.next=null),e}function V(){this.next=this.b=this.a=null}L.prototype.add=function(t,e){var n=j.get();n.set(t,e),this.b?this.b.next=n:this.a=n,this.b=n},V.prototype.set=function(t,e){this.a=t,this.b=e,this.next=null},V.prototype.reset=function(){this.next=this.b=this.a=null};var F=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},q=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,i="string"==typeof t?t.split(""):t,o=0;o<r;o++)o in i&&e.call(n,i[o],o,t)},H=Array.prototype.filter?function(t,e){return Array.prototype.filter.call(t,e,void 0)}:function(t,e){for(var n=t.length,r=[],i=0,o="string"==typeof t?t.split(""):t,s=0;s<n;s++)if(s in o){var a=o[s];e.call(void 0,a,s,t)&&(r[i++]=a)}return r},G=Array.prototype.map?function(t,e){return Array.prototype.map.call(t,e,void 0)}:function(t,e){for(var n=t.length,r=Array(n),i="string"==typeof t?t.split(""):t,o=0;o<n;o++)o in i&&(r[o]=e.call(void 0,i[o],o,t));return r},B=Array.prototype.some?function(t,e){return Array.prototype.some.call(t,e,void 0)}:function(t,e){for(var n=t.length,r="string"==typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t))return!0;return!1};function z(t,e){return 0<=F(t,e)}function W(t,e){var n;return(n=0<=(e=F(t,e)))&&Array.prototype.splice.call(t,e,1),n}function K(t,e){!function(t,e){for(var n="string"==typeof t?t.split(""):t,r=t.length-1;0<=r;--r)r in n&&e.call(void 0,n[r],r,t)}(t,(function(n,r){e.call(void 0,n,r,t)&&Array.prototype.splice.call(t,r,1)}))}function $(t){return Array.prototype.concat.apply([],arguments)}function Y(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}var Q,J=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]},X=/&/g,Z=/</g,tt=/>/g,et=/"/g,nt=/'/g,rt=/\x00/g,it=/[\x00&<>"']/;function ot(t,e){return-1!=t.indexOf(e)}function st(t,e){return t<e?-1:t>e?1:0}t:{var at=s.navigator;if(at){var ut=at.userAgent;if(ut){Q=ut;break t}}Q=""}function ct(t){return ot(Q,t)}function ht(t,e){for(var n in t)e.call(void 0,t[n],n,t)}function lt(t){for(var e in t)return!1;return!0}function ft(t){var e,n={};for(e in t)n[e]=t[e];return n}var dt="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function pt(t,e){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])t[n]=r[n];for(var o=0;o<dt.length;o++)n=dt[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function gt(t,e){t:{try{var n=t&&t.ownerDocument,r=n&&(n.defaultView||n.parentWindow);if((r=r||s).Element&&r.Location){var i=r;break t}}catch(a){}i=null}if(i&&void 0!==i[e]&&(!t||!(t instanceof i[e])&&(t instanceof i.Location||t instanceof i.Element))){if(d(t))try{var o=t.constructor.displayName||t.constructor.name||Object.prototype.toString.call(t)}catch(a){o="<object could not be stringified>"}else o=void 0===t?"undefined":null===t?"null":typeof t;R("Argument is not a %s (or a non-Element, non-Location mock); got: %s",e,o)}}function mt(t,e){this.a=t===bt&&e||"",this.b=yt}function vt(t){return t instanceof mt&&t.constructor===mt&&t.b===yt?t.a:(R("expected object of type Const, got '"+t+"'"),"type_error:Const")}mt.prototype.ra=!0,mt.prototype.qa=function(){return this.a},mt.prototype.toString=function(){return"Const{"+this.a+"}"};var yt={},bt={},wt=new mt(bt,"");function _t(t,e){this.a=t===At&&e||"",this.b=St}function Et(t){return t instanceof _t&&t.constructor===_t&&t.b===St?t.a:(R("expected object of type TrustedResourceUrl, got '"+t+"' of type "+h(t)),"type_error:TrustedResourceUrl")}function It(t,e){var n=vt(t);if(!Tt.test(n))throw Error("Invalid TrustedResourceUrl format: "+n);return t=n.replace(Ct,(function(t,r){if(!Object.prototype.hasOwnProperty.call(e,r))throw Error('Found marker, "'+r+'", in format string, "'+n+'", but no valid label mapping found in args: '+JSON.stringify(e));return(t=e[r])instanceof mt?vt(t):encodeURIComponent(String(t))})),new _t(At,t)}_t.prototype.ra=!0,_t.prototype.qa=function(){return this.a.toString()},_t.prototype.toString=function(){return"TrustedResourceUrl{"+this.a+"}"};var Ct=/%{(\w+)}/g,Tt=/^((https:)?\/\/[0-9a-z.:[\]-]+\/|\/[^/\\]|[^:/\\%]+\/|[^:/\\%]*[?#]|about:blank#)/i,St={},At={};function Ot(t,e){this.a=t===Rt&&e||"",this.b=Pt}function Nt(t){return t instanceof Ot&&t.constructor===Ot&&t.b===Pt?t.a:(R("expected object of type SafeUrl, got '"+t+"' of type "+h(t)),"type_error:SafeUrl")}Ot.prototype.ra=!0,Ot.prototype.qa=function(){return this.a.toString()},Ot.prototype.toString=function(){return"SafeUrl{"+this.a+"}"};var kt=/^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i;function xt(t){return t instanceof Ot?t:(t="object"==typeof t&&t.ra?t.qa():String(t),kt.test(t)||(t="about:invalid#zClosurez"),new Ot(Rt,t))}var Pt={},Rt={};function Dt(){this.a="",this.b=Lt}function Mt(t){return t instanceof Dt&&t.constructor===Dt&&t.b===Lt?t.a:(R("expected object of type SafeHtml, got '"+t+"' of type "+h(t)),"type_error:SafeHtml")}Dt.prototype.ra=!0,Dt.prototype.qa=function(){return this.a.toString()},Dt.prototype.toString=function(){return"SafeHtml{"+this.a+"}"};var Lt={};function jt(t){var e=new Dt;return e.a=t,e}jt("<!DOCTYPE html>");var Ut=jt("");function Vt(t,e){for(var n=t.split("%s"),r="",i=Array.prototype.slice.call(arguments,1);i.length&&1<n.length;)r+=n.shift()+i.shift();return r+n.join("%s")}function Ft(t){return it.test(t)&&(-1!=t.indexOf("&")&&(t=t.replace(X,"&amp;")),-1!=t.indexOf("<")&&(t=t.replace(Z,"&lt;")),-1!=t.indexOf(">")&&(t=t.replace(tt,"&gt;")),-1!=t.indexOf('"')&&(t=t.replace(et,"&quot;")),-1!=t.indexOf("'")&&(t=t.replace(nt,"&#39;")),-1!=t.indexOf("\0")&&(t=t.replace(rt,"&#0;"))),t}function qt(t){return qt[" "](t),t}jt("<br>"),qt[" "]=c;var Ht,Gt,Bt=ct("Opera"),zt=ct("Trident")||ct("MSIE"),Wt=ct("Edge"),Kt=Wt||zt,$t=ct("Gecko")&&!(ot(Q.toLowerCase(),"webkit")&&!ct("Edge"))&&!(ct("Trident")||ct("MSIE"))&&!ct("Edge"),Yt=ot(Q.toLowerCase(),"webkit")&&!ct("Edge");function Qt(){var t=s.document;return t?t.documentMode:void 0}t:{var Jt="",Xt=(Gt=Q,$t?/rv:([^\);]+)(\)|;)/.exec(Gt):Wt?/Edge\/([\d\.]+)/.exec(Gt):zt?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(Gt):Yt?/WebKit\/(\S+)/.exec(Gt):Bt?/(?:Version)[ \/]?(\S+)/.exec(Gt):void 0);if(Xt&&(Jt=Xt?Xt[1]:""),zt){var Zt=Qt();if(null!=Zt&&Zt>parseFloat(Jt)){Ht=String(Zt);break t}}Ht=Jt}var te,ee={};function ne(t){return function(t,e){var n=ee;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e()}(t,(function(){for(var e=0,n=J(String(Ht)).split("."),r=J(String(t)).split("."),i=Math.max(n.length,r.length),o=0;0==e&&o<i;o++){var s=n[o]||"",a=r[o]||"";do{if(s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],0==s[0].length&&0==a[0].length)break;e=st(0==s[1].length?0:parseInt(s[1],10),0==a[1].length?0:parseInt(a[1],10))||st(0==s[2].length,0==a[2].length)||st(s[2],a[2]),s=s[3],a=a[3]}while(0==e)}return 0<=e}))}te=s.document&&zt?Qt():void 0;try{new self.OffscreenCanvas(0,0).getContext("2d")}catch(Gt){}var re=!zt||9<=Number(te);function ie(t){var e=document;return"string"==typeof t?e.getElementById(t):t}function oe(t,e){ht(e,(function(e,n){e&&"object"==typeof e&&e.ra&&(e=e.qa()),"style"==n?t.style.cssText=e:"class"==n?t.className=e:"for"==n?t.htmlFor=e:ue.hasOwnProperty(n)?t.setAttribute(ue[n],e):0==n.lastIndexOf("aria-",0)||0==n.lastIndexOf("data-",0)?t.setAttribute(n,e):t[n]=e}))}var se,ae,ue={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};function ce(t,e,n){function r(n){n&&e.appendChild("string"==typeof n?t.createTextNode(n):n)}for(var i=2;i<n.length;i++){var o=n[i];!l(o)||d(o)&&0<o.nodeType?r(o):q(le(o)?Y(o):o,r)}}function he(t,e){return e=String(e),"application/xhtml+xml"===t.contentType&&(e=e.toLowerCase()),t.createElement(e)}function le(t){if(t&&"number"==typeof t.length){if(d(t))return"function"==typeof t.item||"string"==typeof t.item;if(f(t))return"function"==typeof t.item}return!1}function fe(t){s.setTimeout((function(){throw t}),0)}function de(t,e){ae||function(){if(s.Promise&&s.Promise.resolve){var t=s.Promise.resolve(void 0);ae=function(){t.then(me)}}else ae=function(){var t=me;!f(s.setImmediate)||s.Window&&s.Window.prototype&&!ct("Edge")&&s.Window.prototype.setImmediate==s.setImmediate?(se||(se=function(){var t=s.MessageChannel;if(void 0===t&&"undefined"!=typeof window&&window.postMessage&&window.addEventListener&&!ct("Presto")&&(t=function(){var t=he(document,"IFRAME");t.style.display="none",function(t){var e=new _t(At,vt(wt));gt(t,"HTMLIFrameElement"),t.src=Et(e).toString()}(t),document.documentElement.appendChild(t);var e=t.contentWindow;(t=e.document).open(),t.write(Mt(Ut)),t.close();var n="callImmediate"+Math.random(),r="file:"==e.location.protocol?"*":e.location.protocol+"//"+e.location.host;t=b((function(t){"*"!=r&&t.origin!=r||t.data!=n||this.port1.onmessage()}),this),e.addEventListener("message",t,!1),this.port1={},this.port2={postMessage:function(){e.postMessage(n,r)}}}),void 0!==t&&!ct("Trident")&&!ct("MSIE")){var e=new t,n={},r=n;return e.port1.onmessage=function(){if(void 0!==n.next){var t=(n=n.next).Db;n.Db=null,t()}},function(t){r.next={Db:t},r=r.next,e.port2.postMessage(0)}}return function(t){s.setTimeout(t,0)}}()),se(t)):s.setImmediate(t)}}(),pe||(ae(),pe=!0),ge.add(t,e)}var pe=!1,ge=new L;function me(){for(var t;t=U();){try{t.a.call(t.b)}catch(e){fe(e)}M(j,t)}pe=!1}function ve(t,e){if(this.a=ye,this.i=void 0,this.f=this.b=this.c=null,this.g=this.h=!1,t!=c)try{var n=this;t.call(e,(function(t){ke(n,be,t)}),(function(t){if(!(t instanceof je))try{if(t instanceof Error)throw t;throw Error("Promise rejected.")}catch(e){}ke(n,we,t)}))}catch(r){ke(this,we,r)}}var ye=0,be=2,we=3;function _e(){this.next=this.f=this.b=this.g=this.a=null,this.c=!1}_e.prototype.reset=function(){this.f=this.b=this.g=this.a=null,this.c=!1};var Ee=new D((function(){return new _e}),(function(t){t.reset()}));function Ie(t,e,n){var r=Ee.get();return r.g=t,r.b=e,r.f=n,r}function Ce(t){if(t instanceof ve)return t;var e=new ve(c);return ke(e,be,t),e}function Te(t){return new ve((function(e,n){n(t)}))}function Se(t,e,n){xe(t,e,n,null)||de(w(e,t))}function Ae(t){return new ve((function(e){var n=t.length,r=[];if(n)for(var i=function(t,i,o){n--,r[t]=i?{Mb:!0,value:o}:{Mb:!1,reason:o},0==n&&e(r)},o=0;o<t.length;o++)Se(t[o],w(i,o,!0),w(i,o,!1));else e(r)}))}function Oe(t,e){t.b||t.a!=be&&t.a!=we||Pe(t),t.f?t.f.next=e:t.b=e,t.f=e}function Ne(t,e,n,r){var i=Ie(null,null,null);return i.a=new ve((function(t,o){i.g=e?function(n){try{var i=e.call(r,n);t(i)}catch(s){o(s)}}:t,i.b=n?function(e){try{var i=n.call(r,e);void 0===i&&e instanceof je?o(e):t(i)}catch(s){o(s)}}:o})),i.a.c=t,Oe(t,i),i.a}function ke(t,e,n){t.a==ye&&(t===n&&(e=we,n=new TypeError("Promise cannot resolve to itself")),t.a=1,xe(n,t.Yc,t.Zc,t)||(t.i=n,t.a=e,t.c=null,Pe(t),e!=we||n instanceof je||function(t,e){t.g=!0,de((function(){t.g&&Le.call(null,e)}))}(t,n)))}function xe(t,e,n,r){if(t instanceof ve)return Oe(t,Ie(e||c,n||null,r)),!0;if(k(t))return t.then(e,n,r),!0;if(d(t))try{var i=t.then;if(f(i))return function(t,e,n,r,i){function o(t){s||(s=!0,r.call(i,t))}var s=!1;try{e.call(t,(function(t){s||(s=!0,n.call(i,t))}),o)}catch(a){o(a)}}(t,i,e,n,r),!0}catch(o){return n.call(r,o),!0}return!1}function Pe(t){t.h||(t.h=!0,de(t.ec,t))}function Re(t){var e=null;return t.b&&(t.b=(e=t.b).next,e.next=null),t.b||(t.f=null),e}function De(t,e,n,r){if(n==we&&e.b&&!e.c)for(;t&&t.g;t=t.c)t.g=!1;if(e.a)e.a.c=null,Me(e,n,r);else try{e.c?e.g.call(e.f):Me(e,n,r)}catch(i){Le.call(null,i)}M(Ee,e)}function Me(t,e,n){e==be?t.g.call(t.f,n):t.b&&t.b.call(t.f,n)}ve.prototype.then=function(t,e,n){return Ne(this,f(t)?t:null,f(e)?e:null,n)},ve.prototype.$goog_Thenable=!0,(t=ve.prototype).ma=function(t,e){return(t=Ie(t,t,e)).c=!0,Oe(this,t),this},t.o=function(t,e){return Ne(this,null,t,e)},t.cancel=function(t){if(this.a==ye){var e=new je(t);de((function(){!function t(e,n){if(e.a==ye)if(e.c){var r=e.c;if(r.b){for(var i=0,o=null,s=null,a=r.b;a&&(a.c||(i++,a.a==e&&(o=a),!(o&&1<i)));a=a.next)o||(s=a);o&&(r.a==ye&&1==i?t(r,n):(s?((i=s).next==r.f&&(r.f=i),i.next=i.next.next):Re(r),De(r,o,we,n)))}e.c=null}else ke(e,we,n)}(this,e)}),this)}},t.Yc=function(t){this.a=ye,ke(this,be,t)},t.Zc=function(t){this.a=ye,ke(this,we,t)},t.ec=function(){for(var t;t=Re(this);)De(this,t,this.a,this.i);this.h=!1};var Le=fe;function je(t){x.call(this,t)}function Ue(){0!=Ve&&(Fe[p(this)]=this),this.wa=this.wa,this.na=this.na}E(je,x),je.prototype.name="cancel";var Ve=0,Fe={};function qe(t){if(!t.wa&&(t.wa=!0,t.Ba(),0!=Ve)){var e=p(t);if(0!=Ve&&t.na&&0<t.na.length)throw Error(t+" did not empty its onDisposeCallbacks queue. This probably means it overrode dispose() or disposeInternal() without calling the superclass' method.");delete Fe[e]}}Ue.prototype.wa=!1,Ue.prototype.Ba=function(){if(this.na)for(;this.na.length;)this.na.shift()()};var He=Object.freeze||function(t){return t},Ge=!zt||9<=Number(te),Be=zt&&!ne("9"),ze=function(){if(!s.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{s.addEventListener("test",c,e),s.removeEventListener("test",c,e)}catch(n){}return t}();function We(t,e){this.type=t,this.b=this.target=e,this.defaultPrevented=!1}function Ke(t,e){if(We.call(this,t?t.type:""),this.relatedTarget=this.b=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.a=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.b=e,e=t.relatedTarget){if($t){t:{try{qt(e.nodeName);var i=!0;break t}catch(o){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:$e[t.pointerType]||"",this.a=t,t.defaultPrevented&&this.preventDefault()}}We.prototype.preventDefault=function(){this.defaultPrevented=!0},E(Ke,We);var $e=He({2:"touch",3:"pen",4:"mouse"});Ke.prototype.preventDefault=function(){Ke.Za.preventDefault.call(this);var t=this.a;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,Be)try{(t.ctrlKey||112<=t.keyCode&&123>=t.keyCode)&&(t.keyCode=-1)}catch(e){}},Ke.prototype.f=function(){return this.a};var Ye="closure_listenable_"+(1e6*Math.random()|0),Qe=0;function Je(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.Ta=i,this.key=++Qe,this.ua=this.Na=!1}function Xe(t){t.ua=!0,t.listener=null,t.proxy=null,t.src=null,t.Ta=null}function Ze(t){this.src=t,this.a={},this.b=0}function tn(t,e){var n=e.type;n in t.a&&W(t.a[n],e)&&(Xe(e),0==t.a[n].length&&(delete t.a[n],t.b--))}function en(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.ua&&o.listener==e&&o.capture==!!n&&o.Ta==r)return i}return-1}Ze.prototype.add=function(t,e,n,r,i){var o=t.toString();(t=this.a[o])||(t=this.a[o]=[],this.b++);var s=en(t,e,r,i);return-1<s?(e=t[s],n||(e.Na=!1)):((e=new Je(e,this.src,o,!!r,i)).Na=n,t.push(e)),e};var nn="closure_lm_"+(1e6*Math.random()|0),rn={};function on(t,e,n,r,i){if(r&&r.once)an(t,e,n,r,i);else if(Array.isArray(e))for(var o=0;o<e.length;o++)on(t,e[o],n,r,i);else n=mn(n),t&&t[Ye]?yn(t,e,n,d(r)?!!r.capture:!!r,i):sn(t,e,n,!1,r,i)}function sn(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var s=d(i)?!!i.capture:!!i,a=pn(t);if(a||(t[nn]=a=new Ze(t)),!(n=a.add(e,n,r,s,o)).proxy)if(r=function(){var t=dn,e=Ge?function(n){return t.call(e.src,e.listener,n)}:function(n){if(!(n=t.call(e.src,e.listener,n)))return n};return e}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)ze||(i=s),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(hn(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}}function an(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)an(t,e[o],n,r,i);else n=mn(n),t&&t[Ye]?bn(t,e,n,d(r)?!!r.capture:!!r,i):sn(t,e,n,!0,r,i)}function un(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)un(t,e[o],n,r,i);else r=d(r)?!!r.capture:!!r,n=mn(n),t&&t[Ye]?(t=t.u,(e=String(e).toString())in t.a&&-1<(n=en(o=t.a[e],n,r,i))&&(Xe(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete t.a[e],t.b--))):t&&(t=pn(t))&&(e=t.a[e.toString()],t=-1,e&&(t=en(e,n,r,i)),(n=-1<t?e[t]:null)&&cn(n))}function cn(t){if("number"!=typeof t&&t&&!t.ua){var e=t.src;if(e&&e[Ye])tn(e.u,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(hn(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=pn(e))?(tn(n,t),0==n.b&&(n.src=null,e[nn]=null)):Xe(t)}}}function hn(t){return t in rn?rn[t]:rn[t]="on"+t}function ln(t,e,n,r){var i=!0;if((t=pn(t))&&(e=t.a[e.toString()]))for(e=e.concat(),t=0;t<e.length;t++){var o=e[t];o&&o.capture==n&&!o.ua&&(o=fn(o,r),i=i&&!1!==o)}return i}function fn(t,e){var n=t.listener,r=t.Ta||t.src;return t.Na&&cn(t),n.call(r,e)}function dn(t,e){if(t.ua)return!0;if(!Ge){if(!e)t:{e=["window","event"];for(var n=s,r=0;r<e.length;r++)if(null==(n=n[e[r]])){e=null;break t}e=n}if(e=new Ke(r=e,this),n=!0,!(0>r.keyCode||null!=r.returnValue)){t:{var i=!1;if(0==r.keyCode)try{r.keyCode=-1;break t}catch(a){i=!0}(i||null==r.returnValue)&&(r.returnValue=!0)}for(r=[],i=e.b;i;i=i.parentNode)r.push(i);for(t=t.type,i=r.length-1;0<=i;i--){e.b=r[i];var o=ln(r[i],t,!0,e);n=n&&o}for(i=0;i<r.length;i++)e.b=r[i],o=ln(r[i],t,!1,e),n=n&&o}return n}return fn(t,new Ke(e,this))}function pn(t){return(t=t[nn])instanceof Ze?t:null}var gn="__closure_events_fn_"+(1e9*Math.random()>>>0);function mn(t){return f(t)?t:(t[gn]||(t[gn]=function(e){return t.handleEvent(e)}),t[gn])}function vn(){Ue.call(this),this.u=new Ze(this),this.Yb=this,this.eb=null}function yn(t,e,n,r,i){t.u.add(String(e),n,!1,r,i)}function bn(t,e,n,r,i){t.u.add(String(e),n,!0,r,i)}function wn(t,e,n,r){if(!(e=t.u.a[String(e)]))return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var s=e[o];if(s&&!s.ua&&s.capture==n){var a=s.listener,u=s.Ta||s.src;s.Na&&tn(t.u,s),i=!1!==a.call(u,r)&&i}}return i&&!r.defaultPrevented}function _n(t,e,n){if(f(t))n&&(t=b(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=b(t.handleEvent,t)}return 2147483647<Number(e)?-1:s.setTimeout(t,e||0)}function En(t){var e=null;return new ve((function(n,r){-1==(e=_n((function(){n(void 0)}),t))&&r(Error("Failed to schedule timer."))})).o((function(t){throw s.clearTimeout(e),t}))}function In(t){if(t.V&&"function"==typeof t.V)return t.V();if("string"==typeof t)return t.split("");if(l(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}function Cn(t){if(t.X&&"function"==typeof t.X)return t.X();if(!t.V||"function"!=typeof t.V){if(l(t)||"string"==typeof t){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}for(var r in e=[],n=0,t)e[n++]=r;return e}}function Tn(t,e){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof Tn)for(n=t.X(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function Sn(t){if(t.c!=t.a.length){for(var e=0,n=0;e<t.a.length;){var r=t.a[e];An(t.b,r)&&(t.a[n++]=r),e++}t.a.length=n}if(t.c!=t.a.length){var i={};for(n=e=0;e<t.a.length;)An(i,r=t.a[e])||(t.a[n++]=r,i[r]=1),e++;t.a.length=n}}function An(t,e){return Object.prototype.hasOwnProperty.call(t,e)}E(vn,Ue),vn.prototype[Ye]=!0,vn.prototype.addEventListener=function(t,e,n,r){on(this,t,e,n,r)},vn.prototype.removeEventListener=function(t,e,n,r){un(this,t,e,n,r)},vn.prototype.dispatchEvent=function(t){var e,n=this.eb;if(n)for(e=[];n;n=n.eb)e.push(n);n=this.Yb;var r=t.type||t;if("string"==typeof t)t=new We(t,n);else if(t instanceof We)t.target=t.target||n;else{var i=t;pt(t=new We(r,n),i)}if(i=!0,e)for(var o=e.length-1;0<=o;o--){var s=t.b=e[o];i=wn(s,r,!0,t)&&i}if(i=wn(s=t.b=n,r,!0,t)&&i,i=wn(s,r,!1,t)&&i,e)for(o=0;o<e.length;o++)i=wn(s=t.b=e[o],r,!1,t)&&i;return i},vn.prototype.Ba=function(){if(vn.Za.Ba.call(this),this.u){var t,e=this.u;for(t in e.a){for(var n=e.a[t],r=0;r<n.length;r++)Xe(n[r]);delete e.a[t],e.b--}}this.eb=null},(t=Tn.prototype).V=function(){Sn(this);for(var t=[],e=0;e<this.a.length;e++)t.push(this.b[this.a[e]]);return t},t.X=function(){return Sn(this),this.a.concat()},t.clear=function(){this.b={},this.c=this.a.length=0},t.get=function(t,e){return An(this.b,t)?this.b[t]:e},t.set=function(t,e){An(this.b,t)||(this.c++,this.a.push(t)),this.b[t]=e},t.forEach=function(t,e){for(var n=this.X(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);t.call(e,o,i,this)}};var On=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^/?#]*)@)?([^/#?]*?)(?::([0-9]+))?(?=[/\\#?]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Nn(t,e){var n;this.b=this.i=this.f="",this.l=null,this.g=this.c="",this.h=!1,t instanceof Nn?(this.h=void 0!==e?e:t.h,kn(this,t.f),this.i=t.i,this.b=t.b,xn(this,t.l),this.c=t.c,Rn(this,Xn(t.a)),this.g=t.g):t&&(n=String(t).match(On))?(this.h=!!e,kn(this,n[1]||"",!0),this.i=Un(n[2]||""),this.b=Un(n[3]||"",!0),xn(this,n[4]),this.c=Un(n[5]||"",!0),Rn(this,n[6]||"",!0),this.g=Un(n[7]||"")):(this.h=!!e,this.a=new Wn(null,this.h))}function kn(t,e,n){t.f=n?Un(e,!0):e,t.f&&(t.f=t.f.replace(/:$/,""))}function xn(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.l=e}else t.l=null}function Rn(t,e,n){e instanceof Wn?(t.a=e,function(t,e){e&&!t.f&&(Kn(t),t.c=null,t.a.forEach((function(t,e){var n=e.toLowerCase();e!=n&&(Yn(this,e),Jn(this,n,t))}),t)),t.f=e}(t.a,t.h)):(n||(e=Vn(e,Bn)),t.a=new Wn(e,t.h))}function Dn(t,e,n){t.a.set(e,n)}function Mn(t,e){return t.a.get(e)}function Ln(t){return t instanceof Nn?new Nn(t):new Nn(t,void 0)}function jn(t,e){var n=new Nn(null,void 0);return kn(n,"https"),t&&(n.b=t),e&&(n.c=e),n}function Un(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Vn(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,Fn),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function Fn(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}Nn.prototype.toString=function(){var t=[],e=this.f;e&&t.push(Vn(e,qn,!0),":");var n=this.b;return(n||"file"==e)&&(t.push("//"),(e=this.i)&&t.push(Vn(e,qn,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.l)&&t.push(":",String(n))),(n=this.c)&&(this.b&&"/"!=n.charAt(0)&&t.push("/"),t.push(Vn(n,"/"==n.charAt(0)?Gn:Hn,!0))),(n=this.a.toString())&&t.push("?",n),(n=this.g)&&t.push("#",Vn(n,zn)),t.join("")},Nn.prototype.resolve=function(t){var e=new Nn(this),n=!!t.f;n?kn(e,t.f):n=!!t.i,n?e.i=t.i:n=!!t.b,n?e.b=t.b:n=null!=t.l;var r=t.c;if(n)xn(e,t.l);else if(n=!!t.c){if("/"!=r.charAt(0))if(this.b&&!this.c)r="/"+r;else{var i=e.c.lastIndexOf("/");-1!=i&&(r=e.c.substr(0,i+1)+r)}if(".."==(i=r)||"."==i)r="";else if(ot(i,"./")||ot(i,"/.")){r=0==i.lastIndexOf("/",0),i=i.split("/");for(var o=[],s=0;s<i.length;){var a=i[s++];"."==a?r&&s==i.length&&o.push(""):".."==a?((1<o.length||1==o.length&&""!=o[0])&&o.pop(),r&&s==i.length&&o.push("")):(o.push(a),r=!0)}r=o.join("/")}else r=i}return n?e.c=r:n=""!==t.a.toString(),n?Rn(e,Xn(t.a)):n=!!t.g,n&&(e.g=t.g),e};var qn=/[#\/\?@]/g,Hn=/[#\?:]/g,Gn=/[#\?]/g,Bn=/[#\?@]/g,zn=/#/g;function Wn(t,e){this.b=this.a=null,this.c=t||null,this.f=!!e}function Kn(t){t.a||(t.a=new Tn,t.b=0,t.c&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.c,(function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)})))}function $n(t){var e=Cn(t);if(void 0===e)throw Error("Keys are undefined");var n=new Wn(null,void 0);t=In(t);for(var r=0;r<e.length;r++){var i=e[r],o=t[r];Array.isArray(o)?Jn(n,i,o):n.add(i,o)}return n}function Yn(t,e){Kn(t),e=Zn(t,e),An(t.a.b,e)&&(t.c=null,t.b-=t.a.get(e).length,An((t=t.a).b,e)&&(delete t.b[e],t.c--,t.a.length>2*t.c&&Sn(t)))}function Qn(t,e){return Kn(t),e=Zn(t,e),An(t.a.b,e)}function Jn(t,e,n){Yn(t,e),0<n.length&&(t.c=null,t.a.set(Zn(t,e),Y(n)),t.b+=n.length)}function Xn(t){var e=new Wn;return e.c=t.c,t.a&&(e.a=new Tn(t.a),e.b=t.b),e}function Zn(t,e){return e=String(e),t.f&&(e=e.toLowerCase()),e}function tr(t){var e=[];return function t(e,n,r){if(null==n)r.push("null");else{if("object"==typeof n){if(Array.isArray(n)){var i=n;n=i.length,r.push("[");for(var o="",s=0;s<n;s++)r.push(o),t(e,i[s],r),o=",";return void r.push("]")}if(!(n instanceof String||n instanceof Number||n instanceof Boolean)){for(i in r.push("{"),o="",n)Object.prototype.hasOwnProperty.call(n,i)&&"function"!=typeof(s=n[i])&&(r.push(o),ir(i,r),r.push(":"),t(e,s,r),o=",");return void r.push("}")}n=n.valueOf()}switch(typeof n){case"string":ir(n,r);break;case"number":r.push(isFinite(n)&&!isNaN(n)?String(n):"null");break;case"boolean":r.push(String(n));break;case"function":r.push("null");break;default:throw Error("Unknown type: "+typeof n)}}}(new er,t,e),e.join("")}function er(){}(t=Wn.prototype).add=function(t,e){Kn(this),this.c=null,t=Zn(this,t);var n=this.a.get(t);return n||this.a.set(t,n=[]),n.push(e),this.b+=1,this},t.clear=function(){this.a=this.c=null,this.b=0},t.forEach=function(t,e){Kn(this),this.a.forEach((function(n,r){q(n,(function(n){t.call(e,n,r,this)}),this)}),this)},t.X=function(){Kn(this);for(var t=this.a.V(),e=this.a.X(),n=[],r=0;r<e.length;r++)for(var i=t[r],o=0;o<i.length;o++)n.push(e[r]);return n},t.V=function(t){Kn(this);var e=[];if("string"==typeof t)Qn(this,t)&&(e=$(e,this.a.get(Zn(this,t))));else{t=this.a.V();for(var n=0;n<t.length;n++)e=$(e,t[n])}return e},t.set=function(t,e){return Kn(this),this.c=null,Qn(this,t=Zn(this,t))&&(this.b-=this.a.get(t).length),this.a.set(t,[e]),this.b+=1,this},t.get=function(t,e){return t&&0<(t=this.V(t)).length?String(t[0]):e},t.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var t=[],e=this.a.X(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.V(r);for(var o=0;o<r.length;o++){var s=i;""!==r[o]&&(s+="="+encodeURIComponent(String(r[o]))),t.push(s)}}return this.c=t.join("&")};var nr={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\v":"\\u000b"},rr=/\uffff/.test("\uffff")?/[\\"\x00-\x1f\x7f-\uffff]/g:/[\\"\x00-\x1f\x7f-\xff]/g;function ir(t,e){e.push('"',t.replace(rr,(function(t){var e=nr[t];return e||(e="\\u"+(65536|t.charCodeAt(0)).toString(16).substr(1),nr[t]=e),e})),'"')}function or(){var t=Ir();return zt&&!!te&&11==te||/Edge\/\d+/.test(t)}function sr(){return s.window&&s.window.location.href||self&&self.location&&self.location.href||""}function ar(t,e){e=e||s.window;var n="about:blank";t&&(n=Nt(xt(t))),e.location.href=n}function ur(t){return!!((t=(t||Ir()).toLowerCase()).match(/android/)||t.match(/webos/)||t.match(/iphone|ipad|ipod/)||t.match(/blackberry/)||t.match(/windows phone/)||t.match(/iemobile/))}function cr(t){t=t||s.window;try{t.close()}catch(e){}}function hr(t,e,n){var r=Math.floor(1e9*Math.random()).toString();e=e||500,n=n||600;var i=(window.screen.availHeight-n)/2,o=(window.screen.availWidth-e)/2;for(s in e={width:e,height:n,top:0<i?i:0,left:0<o?o:0,location:!0,resizable:!0,statusbar:!0,toolbar:!1},n=Ir().toLowerCase(),r&&(e.target=r,ot(n,"crios/")&&(e.target="_blank")),wr(Ir())==br&&(t=t||"http://localhost",e.scrollbars=!0),n=t||"",(t=e)||(t={}),r=window,e=n instanceof Ot?n:xt(void 0!==n.href?n.href:String(n)),n=t.target||n.target,i=[],t)switch(s){case"width":case"height":case"top":case"left":i.push(s+"="+t[s]);break;case"target":case"noopener":case"noreferrer":break;default:i.push(s+"="+(t[s]?1:0))}var s=i.join(",");if((ct("iPhone")&&!ct("iPod")&&!ct("iPad")||ct("iPad")||ct("iPod"))&&r.navigator&&r.navigator.standalone&&n&&"_self"!=n?(gt(s=he(document,"A"),"HTMLAnchorElement"),e instanceof Ot||e instanceof Ot||(e="object"==typeof e&&e.ra?e.qa():String(e),kt.test(e)||(e="about:invalid#zClosurez"),e=new Ot(Rt,e)),s.href=Nt(e),s.setAttribute("target",n),t.noreferrer&&s.setAttribute("rel","noreferrer"),(t=document.createEvent("MouseEvent")).initMouseEvent("click",!0,!0,r,1),s.dispatchEvent(t),s={}):t.noreferrer?(s=r.open("",n,s),t=Nt(e),s&&(Kt&&ot(t,";")&&(t="'"+t.replace(/'/g,"%27")+"'"),s.opener=null,t=jt('<meta name="referrer" content="no-referrer"><meta http-equiv="refresh" content="0; url='+Ft(t)+'">'),r=s.document)&&(r.write(Mt(t)),r.close())):(s=r.open(Nt(e),n,s))&&t.noopener&&(s.opener=null),s)try{s.focus()}catch(a){}return s}var lr=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,fr=/^[^@]+@[^@]+$/;function dr(){var t=null;return new ve((function(e){"complete"==s.document.readyState?e():(t=function(){e()},an(window,"load",t))})).o((function(e){throw un(window,"load",t),e}))}function pr(t){return t=t||Ir(),!("file:"!==Or()&&"ionic:"!==Or()||!t.toLowerCase().match(/iphone|ipad|ipod|android/))}function gr(){var t=s.window;try{return!(!t||t==t.top)}catch(e){return!1}}function mr(){return void 0!==s.WorkerGlobalScope&&"function"==typeof s.importScripts}function vr(){return Pn.a.INTERNAL.hasOwnProperty("reactNative")?"ReactNative":Pn.a.INTERNAL.hasOwnProperty("node")?"Node":mr()?"Worker":"Browser"}function yr(){var t=vr();return"ReactNative"===t||"Node"===t}var br="Firefox";function wr(t){var e=t.toLowerCase();return ot(e,"opera/")||ot(e,"opr/")||ot(e,"opios/")?"Opera":ot(e,"iemobile")?"IEMobile":ot(e,"msie")||ot(e,"trident/")?"IE":ot(e,"edge/")?"Edge":ot(e,"firefox/")?br:ot(e,"silk/")?"Silk":ot(e,"blackberry")?"Blackberry":ot(e,"webos")?"Webos":!ot(e,"safari/")||ot(e,"chrome/")||ot(e,"crios/")||ot(e,"android")?!ot(e,"chrome/")&&!ot(e,"crios/")||ot(e,"edge/")?ot(e,"android")?"Android":(t=t.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/))&&2==t.length?t[1]:"Other":"Chrome":"Safari"}var _r={jd:"FirebaseCore-web",ld:"FirebaseUI-web"};function Er(t,e){e=e||[];var n,r=[],i={};for(n in _r)i[_r[n]]=!0;for(n=0;n<e.length;n++)void 0!==i[e[n]]&&(delete i[e[n]],r.push(e[n]));return r.sort(),(e=r).length||(e=["FirebaseCore-web"]),"Browser"===(r=vr())?r=wr(i=Ir()):"Worker"===r&&(r=wr(i=Ir())+"-"+r),r+"/JsCore/"+t+"/"+e.join(",")}function Ir(){return s.navigator&&s.navigator.userAgent||""}function Cr(t,e){t=t.split("."),e=e||s;for(var n=0;n<t.length&&"object"==typeof e&&null!=e;n++)e=e[t[n]];return n!=t.length&&(e=void 0),e}function Tr(){try{var t=s.localStorage,e=Rr();if(t)return t.setItem(e,"1"),t.removeItem(e),!or()||!!s.indexedDB}catch(n){return mr()&&!!s.indexedDB}return!1}function Sr(){return(Ar()||"chrome-extension:"===Or()||pr())&&!yr()&&Tr()&&!mr()}function Ar(){return"http:"===Or()||"https:"===Or()}function Or(){return s.location&&s.location.protocol||null}function Nr(t){return!ur(t=t||Ir())&&wr(t)!=br}function kr(t){return void 0===t?null:tr(t)}function xr(t){var e,n={};for(e in t)t.hasOwnProperty(e)&&null!=t[e]&&(n[e]=t[e]);return n}function Pr(t){if(null!==t)return JSON.parse(t)}function Rr(t){return t||Math.floor(1e9*Math.random()).toString()}function Dr(t){return"Safari"!=wr(t=t||Ir())&&!t.toLowerCase().match(/iphone|ipad|ipod/)}function Mr(){var t=s.___jsl;if(t&&t.H)for(var e in t.H)if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=t.H[e].L.concat(),t.CP)for(var n=0;n<t.CP.length;n++)t.CP[n]=null}function Lr(t,e){if(t>e)throw Error("Short delay should be less than long delay!");this.a=t,this.c=e,t=Ir(),e=vr(),this.b=ur(t)||"ReactNative"===e}function jr(){var t=s.document;return!t||void 0===t.visibilityState||"visible"==t.visibilityState}function Ur(t){try{var e=new Date(parseInt(t,10));if(!isNaN(e.getTime())&&!/[^0-9]/.test(t))return e.toUTCString()}catch(n){}return null}function Vr(){return!(!Cr("fireauth.oauthhelper",s)&&!Cr("fireauth.iframe",s))}Lr.prototype.get=function(){var t=s.navigator;return!t||"boolean"!=typeof t.onLine||!Ar()&&"chrome-extension:"!==Or()&&void 0===t.connection||t.onLine?this.b?this.c:this.a:Math.min(5e3,this.a)};var Fr,qr={};function Hr(t){qr[t]||(qr[t]=!0,"undefined"!=typeof console&&"function"==typeof console.warn&&console.warn(t))}try{var Gr={};Object.defineProperty(Gr,"abcd",{configurable:!0,enumerable:!0,value:1}),Object.defineProperty(Gr,"abcd",{configurable:!0,enumerable:!0,value:2}),Fr=2==Gr.abcd}catch(Gt){Fr=!1}function Br(t,e,n){Fr?Object.defineProperty(t,e,{configurable:!0,enumerable:!0,value:n}):t[e]=n}function zr(t,e){if(e)for(var n in e)e.hasOwnProperty(n)&&Br(t,n,e[n])}function Wr(t){var e={};return zr(e,t),e}function Kr(t){var e=t;if("object"==typeof t&&null!=t)for(var n in e="length"in t?[]:{},t)Br(e,n,Kr(t[n]));return e}function $r(t){var e=t&&(t[Zr]?"phone":null);if(!(e&&t&&t[Xr]))throw new I("internal-error","Internal assert: invalid MultiFactorInfo object");Br(this,"uid",t[Xr]),Br(this,"displayName",t[Qr]||null);var n=null;t[Jr]&&(n=new Date(t[Jr]).toUTCString()),Br(this,"enrollmentTime",n),Br(this,"factorId",e)}function Yr(t){try{var e=new ti(t)}catch(n){e=null}return e}$r.prototype.v=function(){return{uid:this.uid,displayName:this.displayName,factorId:this.factorId,enrollmentTime:this.enrollmentTime}};var Qr="displayName",Jr="enrolledAt",Xr="mfaEnrollmentId",Zr="phoneInfo";function ti(t){$r.call(this,t),Br(this,"phoneNumber",t[Zr])}function ei(t){var e={},n=t[oi],r=t[ai],i=t[ui];if(t=Yr(t[si]),!i||i!=ri&&i!=ii&&!n||i==ii&&!r||i==ni&&!t)throw Error("Invalid checkActionCode response!");i==ii?(e[hi]=n||null,e[fi]=n||null,e[ci]=r):(e[hi]=r||null,e[fi]=r||null,e[ci]=n||null),e[li]=t||null,Br(this,pi,i),Br(this,di,Kr(e))}E(ti,$r),ti.prototype.v=function(){var t=ti.Za.v.call(this);return t.phoneNumber=this.phoneNumber,t};var ni="REVERT_SECOND_FACTOR_ADDITION",ri="EMAIL_SIGNIN",ii="VERIFY_AND_CHANGE_EMAIL",oi="email",si="mfaInfo",ai="newEmail",ui="requestType",ci="email",hi="fromEmail",li="multiFactorInfo",fi="previousEmail",di="data",pi="operation";function gi(t){var e=Mn(t=Ln(t),mi)||null,n=Mn(t,vi)||null,r=Mn(t,wi)||null;if(r=r&&Ei[r]||null,!e||!n||!r)throw new I("argument-error",mi+", "+vi+"and "+wi+" are required in a valid action code URL.");zr(this,{apiKey:e,operation:r,code:n,continueUrl:Mn(t,yi)||null,languageCode:Mn(t,bi)||null,tenantId:Mn(t,_i)||null})}var mi="apiKey",vi="oobCode",yi="continueUrl",bi="languageCode",wi="mode",_i="tenantId",Ei={recoverEmail:"RECOVER_EMAIL",resetPassword:"PASSWORD_RESET",revertSecondFactorAddition:ni,signIn:ri,verifyAndChangeEmail:ii,verifyEmail:"VERIFY_EMAIL"};function Ii(t){try{return new gi(t)}catch(e){return null}}function Ci(t){var e=t[Ni];if(void 0===e)throw new I("missing-continue-uri");if("string"!=typeof e||"string"==typeof e&&!e.length)throw new I("invalid-continue-uri");this.h=e,this.b=this.a=null,this.g=!1;var n=t[Ti];if(n&&"object"==typeof n){e=n[Pi];var r=n[ki];if(n=n[xi],"string"==typeof e&&e.length){if(this.a=e,void 0!==r&&"boolean"!=typeof r)throw new I("argument-error",ki+" property must be a boolean when specified.");if(this.g=!!r,void 0!==n&&("string"!=typeof n||"string"==typeof n&&!n.length))throw new I("argument-error",xi+" property must be a non empty string when specified.");this.b=n||null}else{if(void 0!==e)throw new I("argument-error",Pi+" property must be a non empty string when specified.");if(void 0!==r||void 0!==n)throw new I("missing-android-pkg-name")}}else if(void 0!==n)throw new I("argument-error",Ti+" property must be a non null object when specified.");if(this.f=null,(e=t[Oi])&&"object"==typeof e){if("string"==typeof(e=e[Ri])&&e.length)this.f=e;else if(void 0!==e)throw new I("argument-error",Ri+" property must be a non empty string when specified.")}else if(void 0!==e)throw new I("argument-error",Oi+" property must be a non null object when specified.");if(void 0!==(e=t[Ai])&&"boolean"!=typeof e)throw new I("argument-error",Ai+" property must be a boolean when specified.");if(this.c=!!e,void 0!==(t=t[Si])&&("string"!=typeof t||"string"==typeof t&&!t.length))throw new I("argument-error",Si+" property must be a non empty string when specified.");this.i=t||null}var Ti="android",Si="dynamicLinkDomain",Ai="handleCodeInApp",Oi="iOS",Ni="url",ki="installApp",xi="minimumVersion",Pi="packageName",Ri="bundleId";function Di(t){var e={};for(var n in e.continueUrl=t.h,e.canHandleCodeInApp=t.c,(e.androidPackageName=t.a)&&(e.androidMinimumVersion=t.b,e.androidInstallApp=t.g),e.iOSBundleId=t.f,e.dynamicLinkDomain=t.i,e)null===e[n]&&delete e[n];return e}var Mi=null;function Li(t){var e=Ui(t);if(!(e&&e.sub&&e.iss&&e.aud&&e.exp))throw Error("Invalid JWT");this.g=t,this.c=e.exp,this.h=e.sub,_(),this.a=e.provider_id||e.firebase&&e.firebase.sign_in_provider||null,this.f=e.firebase&&e.firebase.tenant||null,this.b=!!e.is_anonymous||"anonymous"==this.a}function ji(t){try{return new Li(t)}catch(e){return null}}function Ui(t){if(!t)return null;if(3!=(t=t.split(".")).length)return null;for(var e=(4-(t=t[1]).length%4)%4,n=0;n<e;n++)t+=".";try{return JSON.parse(function(t){var e="";return function(t,e){function n(e){for(;r<t.length;){var n=t.charAt(r++),i=Mi[n];if(null!=i)return i;if(!/^[\s\xa0]*$/.test(n))throw Error("Unknown base64 encoding at char: "+n)}return e}!function(){if(!Mi){Mi={};for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),e=["+/=","+/","-_=","-_.","-_"],n=0;5>n;n++)for(var r=t.concat(e[n].split("")),i=0;i<r.length;i++){var o=r[i];void 0===Mi[o]&&(Mi[o]=i)}}}();for(var r=0;;){var i=n(-1),o=n(0),s=n(64),a=n(64);if(64===a&&-1===i)break;e(i<<2|o>>4),64!=s&&(e(o<<4&240|s>>2),64!=a&&e(s<<6&192|a))}}(t,(function(t){e+=String.fromCharCode(t)})),e}(t))}catch(r){}return null}Li.prototype.S=function(){return this.f},Li.prototype.i=function(){return this.b},Li.prototype.toString=function(){return this.g};var Vi="oauth_consumer_key oauth_nonce oauth_signature oauth_signature_method oauth_timestamp oauth_token oauth_version".split(" "),Fi=["client_id","response_type","scope","redirect_uri","state"],qi={kd:{Ha:"locale",ta:700,sa:600,ea:"facebook.com",Va:Fi},md:{Ha:null,ta:500,sa:750,ea:"github.com",Va:Fi},nd:{Ha:"hl",ta:515,sa:680,ea:"google.com",Va:Fi},td:{Ha:"lang",ta:485,sa:705,ea:"twitter.com",Va:Vi},gd:{Ha:"locale",ta:600,sa:600,ea:"apple.com",Va:[]}};function Hi(t){for(var e in qi)if(qi[e].ea==t)return qi[e];return null}function Gi(t){var e={};e["facebook.com"]=$i,e["google.com"]=Qi,e["github.com"]=Yi,e["twitter.com"]=Ji;var n=t&&t[zi];try{if(n)return e[n]?new e[n](t):new Ki(t);if(void 0!==t[Bi])return new Wi(t)}catch(r){}return null}var Bi="idToken",zi="providerId";function Wi(t){var e=t[zi];if(!e&&t[Bi]){var n=ji(t[Bi]);n&&n.a&&(e=n.a)}if(!e)throw Error("Invalid additional user info!");"anonymous"!=e&&"custom"!=e||(e=null),n=!1,void 0!==t.isNewUser?n=!!t.isNewUser:"identitytoolkit#SignupNewUserResponse"===t.kind&&(n=!0),Br(this,"providerId",e),Br(this,"isNewUser",n)}function Ki(t){Wi.call(this,t),Br(this,"profile",Kr((t=Pr(t.rawUserInfo||"{}"))||{}))}function $i(t){if(Ki.call(this,t),"facebook.com"!=this.providerId)throw Error("Invalid provider ID!")}function Yi(t){if(Ki.call(this,t),"github.com"!=this.providerId)throw Error("Invalid provider ID!");Br(this,"username",this.profile&&this.profile.login||null)}function Qi(t){if(Ki.call(this,t),"google.com"!=this.providerId)throw Error("Invalid provider ID!")}function Ji(t){if(Ki.call(this,t),"twitter.com"!=this.providerId)throw Error("Invalid provider ID!");Br(this,"username",t.screenName||null)}function Xi(t){var e=Ln(t),n=Mn(e,"link"),r=Mn(Ln(n),"link");return e=Mn(e,"deep_link_id"),Mn(Ln(e),"link")||e||r||n||t}function Zi(t,e){if(!t&&!e)throw new I("internal-error","Internal assert: no raw session string available");if(t&&e)throw new I("internal-error","Internal assert: unable to determine the session type");this.a=t||null,this.b=e||null,this.type=this.a?to:eo}E(Ki,Wi),E($i,Ki),E(Yi,Ki),E(Qi,Ki),E(Ji,Ki);var to="enroll",eo="signin";function no(){}function ro(t,e){return t.then((function(t){if(t[Gs]){var n=ji(t[Gs]);if(!n||e!=n.h)throw new I("user-mismatch");return t}throw new I("user-mismatch")})).o((function(t){throw t&&t.code&&t.code==S+"user-not-found"?new I("user-mismatch"):t}))}function io(t,e){if(!e)throw new I("internal-error","failed to construct a credential");this.a=e,Br(this,"providerId",t),Br(this,"signInMethod",t)}function oo(t){return{pendingToken:t.a,requestUri:"http://localhost"}}function so(t){if(t&&t.providerId&&t.signInMethod&&0==t.providerId.indexOf("saml.")&&t.pendingToken)try{return new io(t.providerId,t.pendingToken)}catch(e){}return null}function ao(t,e,n){if(this.a=null,e.idToken||e.accessToken)e.idToken&&Br(this,"idToken",e.idToken),e.accessToken&&Br(this,"accessToken",e.accessToken),e.nonce&&!e.pendingToken&&Br(this,"nonce",e.nonce),e.pendingToken&&(this.a=e.pendingToken);else{if(!e.oauthToken||!e.oauthTokenSecret)throw new I("internal-error","failed to construct a credential");Br(this,"accessToken",e.oauthToken),Br(this,"secret",e.oauthTokenSecret)}Br(this,"providerId",t),Br(this,"signInMethod",n)}function uo(t){var e={};return t.idToken&&(e.id_token=t.idToken),t.accessToken&&(e.access_token=t.accessToken),t.secret&&(e.oauth_token_secret=t.secret),e.providerId=t.providerId,t.nonce&&!t.a&&(e.nonce=t.nonce),e={postBody:$n(e).toString(),requestUri:"http://localhost"},t.a&&(delete e.postBody,e.pendingToken=t.a),e}function co(t){if(t&&t.providerId&&t.signInMethod){var e={idToken:t.oauthIdToken,accessToken:t.oauthTokenSecret?null:t.oauthAccessToken,oauthTokenSecret:t.oauthTokenSecret,oauthToken:t.oauthTokenSecret&&t.oauthAccessToken,nonce:t.nonce,pendingToken:t.pendingToken};try{return new ao(t.providerId,e,t.signInMethod)}catch(n){}}return null}function ho(t,e){this.Oc=e||[],zr(this,{providerId:t,isOAuthProvider:!0}),this.Fb={},this.lb=(Hi(t)||{}).Ha||null,this.kb=null}function lo(t){if("string"!=typeof t||0!=t.indexOf("saml."))throw new I("argument-error",'SAML provider IDs must be prefixed with "saml."');ho.call(this,t,[])}function fo(t){ho.call(this,t,Fi),this.a=[]}function po(){fo.call(this,"facebook.com")}function go(t){if(!t)throw new I("argument-error","credential failed: expected 1 argument (the OAuth access token).");var e=t;return d(t)&&(e=t.accessToken),(new po).credential({accessToken:e})}function mo(){fo.call(this,"github.com")}function vo(t){if(!t)throw new I("argument-error","credential failed: expected 1 argument (the OAuth access token).");var e=t;return d(t)&&(e=t.accessToken),(new mo).credential({accessToken:e})}function yo(){fo.call(this,"google.com"),this.Aa("profile")}function bo(t,e){var n=t;return d(t)&&(n=t.idToken,e=t.accessToken),(new yo).credential({idToken:n,accessToken:e})}function wo(){ho.call(this,"twitter.com",Vi)}function _o(t,e){var n=t;if(d(n)||(n={oauthToken:t,oauthTokenSecret:e}),!n.oauthToken||!n.oauthTokenSecret)throw new I("argument-error","credential failed: expected 2 arguments (the OAuth access token and secret).");return new ao("twitter.com",n,"twitter.com")}function Eo(t,e,n){this.a=t,this.f=e,Br(this,"providerId","password"),Br(this,"signInMethod",n===Co.EMAIL_LINK_SIGN_IN_METHOD?Co.EMAIL_LINK_SIGN_IN_METHOD:Co.EMAIL_PASSWORD_SIGN_IN_METHOD)}function Io(t){return t&&t.email&&t.password?new Eo(t.email,t.password,t.signInMethod):null}function Co(){zr(this,{providerId:"password",isOAuthProvider:!1})}function To(t,e){if(!(e=So(e)))throw new I("argument-error","Invalid email link!");return new Eo(t,e.code,Co.EMAIL_LINK_SIGN_IN_METHOD)}function So(t){return(t=Ii(t=Xi(t)))&&t.operation===ri?t:null}function Ao(t){if(!(t.bb&&t.ab||t.Ja&&t.da))throw new I("internal-error");this.a=t,Br(this,"providerId","phone"),this.ea="phone",Br(this,"signInMethod","phone")}function Oo(t){if(t&&"phone"===t.providerId&&(t.verificationId&&t.verificationCode||t.temporaryProof&&t.phoneNumber)){var e={};return q(["verificationId","verificationCode","temporaryProof","phoneNumber"],(function(n){t[n]&&(e[n]=t[n])})),new Ao(e)}return null}function No(t){return t.a.Ja&&t.a.da?{temporaryProof:t.a.Ja,phoneNumber:t.a.da}:{sessionInfo:t.a.bb,code:t.a.ab}}function ko(t){try{this.a=t||Pn.a.auth()}catch(e){throw new I("argument-error","Either an instance of firebase.auth.Auth must be passed as an argument to the firebase.auth.PhoneAuthProvider constructor, or the default firebase App instance must be initialized via firebase.initializeApp().")}zr(this,{providerId:"phone",isOAuthProvider:!1})}function xo(t,e){if(!t)throw new I("missing-verification-id");if(!e)throw new I("missing-verification-code");return new Ao({bb:t,ab:e})}function Po(t){if(t.temporaryProof&&t.phoneNumber)return new Ao({Ja:t.temporaryProof,da:t.phoneNumber});var e=t&&t.providerId;if(!e||"password"===e)return null;var n=t&&t.oauthAccessToken,r=t&&t.oauthTokenSecret,i=t&&t.nonce,o=t&&t.oauthIdToken,s=t&&t.pendingToken;try{switch(e){case"google.com":return bo(o,n);case"facebook.com":return go(n);case"github.com":return vo(n);case"twitter.com":return _o(n,r);default:return n||r||o||s?s?0==e.indexOf("saml.")?new io(e,s):new ao(e,{pendingToken:s,idToken:t.oauthIdToken,accessToken:t.oauthAccessToken},e):new fo(e).credential({idToken:o,accessToken:n,rawNonce:i}):null}}catch(a){return null}}function Ro(t){if(!t.isOAuthProvider)throw new I("invalid-oauth-provider")}function Do(t,e,n,r,i,o,s){if(this.c=t,this.b=e||null,this.g=n||null,this.f=r||null,this.i=o||null,this.h=s||null,this.a=i||null,!this.g&&!this.a)throw new I("invalid-auth-event");if(this.g&&this.a)throw new I("invalid-auth-event");if(this.g&&!this.f)throw new I("invalid-auth-event")}function Mo(t){return(t=t||{}).type?new Do(t.type,t.eventId,t.urlResponse,t.sessionId,t.error&&C(t.error),t.postBody,t.tenantId):null}function Lo(){this.b=null,this.a=[]}Zi.prototype.Fa=function(){return Ce(this.a?this.a:this.b)},Zi.prototype.v=function(){return this.type==to?{multiFactorSession:{idToken:this.a}}:{multiFactorSession:{pendingCredential:this.b}}},no.prototype.ia=function(){},no.prototype.b=function(){},no.prototype.c=function(){},no.prototype.v=function(){},io.prototype.ia=function(t){return ua(t,oo(this))},io.prototype.b=function(t,e){var n=oo(this);return n.idToken=e,ca(t,n)},io.prototype.c=function(t,e){return ro(ha(t,oo(this)),e)},io.prototype.v=function(){return{providerId:this.providerId,signInMethod:this.signInMethod,pendingToken:this.a}},ao.prototype.ia=function(t){return ua(t,uo(this))},ao.prototype.b=function(t,e){var n=uo(this);return n.idToken=e,ca(t,n)},ao.prototype.c=function(t,e){return ro(ha(t,uo(this)),e)},ao.prototype.v=function(){var t={providerId:this.providerId,signInMethod:this.signInMethod};return this.idToken&&(t.oauthIdToken=this.idToken),this.accessToken&&(t.oauthAccessToken=this.accessToken),this.secret&&(t.oauthTokenSecret=this.secret),this.nonce&&(t.nonce=this.nonce),this.a&&(t.pendingToken=this.a),t},ho.prototype.Ia=function(t){return this.Fb=ft(t),this},E(lo,ho),E(fo,ho),fo.prototype.Aa=function(t){return z(this.a,t)||this.a.push(t),this},fo.prototype.Nb=function(){return Y(this.a)},fo.prototype.credential=function(t,e){var n;if(!(n=d(t)?{idToken:t.idToken||null,accessToken:t.accessToken||null,nonce:t.rawNonce||null}:{idToken:t||null,accessToken:e||null}).idToken&&!n.accessToken)throw new I("argument-error","credential failed: must provide the ID token and/or the access token.");return new ao(this.providerId,n,this.providerId)},E(po,fo),Br(po,"PROVIDER_ID","facebook.com"),Br(po,"FACEBOOK_SIGN_IN_METHOD","facebook.com"),E(mo,fo),Br(mo,"PROVIDER_ID","github.com"),Br(mo,"GITHUB_SIGN_IN_METHOD","github.com"),E(yo,fo),Br(yo,"PROVIDER_ID","google.com"),Br(yo,"GOOGLE_SIGN_IN_METHOD","google.com"),E(wo,ho),Br(wo,"PROVIDER_ID","twitter.com"),Br(wo,"TWITTER_SIGN_IN_METHOD","twitter.com"),Eo.prototype.ia=function(t){return this.signInMethod==Co.EMAIL_LINK_SIGN_IN_METHOD?za(t,ya,{email:this.a,oobCode:this.f}):za(t,Fa,{email:this.a,password:this.f})},Eo.prototype.b=function(t,e){return this.signInMethod==Co.EMAIL_LINK_SIGN_IN_METHOD?za(t,ba,{idToken:e,email:this.a,oobCode:this.f}):za(t,Pa,{idToken:e,email:this.a,password:this.f})},Eo.prototype.c=function(t,e){return ro(this.ia(t),e)},Eo.prototype.v=function(){return{email:this.a,password:this.f,signInMethod:this.signInMethod}},zr(Co,{PROVIDER_ID:"password"}),zr(Co,{EMAIL_LINK_SIGN_IN_METHOD:"emailLink"}),zr(Co,{EMAIL_PASSWORD_SIGN_IN_METHOD:"password"}),Ao.prototype.ia=function(t){return t.cb(No(this))},Ao.prototype.b=function(t,e){var n=No(this);return n.idToken=e,za(t,Ha,n)},Ao.prototype.c=function(t,e){var n=No(this);return n.operation="REAUTH",ro(t=za(t,Ga,n),e)},Ao.prototype.v=function(){var t={providerId:"phone"};return this.a.bb&&(t.verificationId=this.a.bb),this.a.ab&&(t.verificationCode=this.a.ab),this.a.Ja&&(t.temporaryProof=this.a.Ja),this.a.da&&(t.phoneNumber=this.a.da),t},ko.prototype.cb=function(t,e){var n=this.a.b;return Ce(e.verify()).then((function(r){if("string"!=typeof r)throw new I("argument-error","An implementation of firebase.auth.ApplicationVerifier.prototype.verify() must return a firebase.Promise that resolves with a string.");switch(e.type){case"recaptcha":var i=d(t)?t.session:null,o=d(t)?t.phoneNumber:t;return(i&&i.type==to?i.Fa().then((function(t){return function(t,e){return za(t,Da,e).then((function(t){return t.phoneSessionInfo.sessionInfo}))}(n,{idToken:t,phoneEnrollmentInfo:{phoneNumber:o,recaptchaToken:r}})})):i&&i.type==eo?i.Fa().then((function(e){return function(t,e){return za(t,Ma,e).then((function(t){return t.phoneResponseInfo.sessionInfo}))}(n,{mfaPendingCredential:e,mfaEnrollmentId:t.multiFactorHint&&t.multiFactorHint.uid||t.multiFactorUid,phoneSignInInfo:{recaptchaToken:r}})})):function(t,e){return za(t,ka,e)}(n,{phoneNumber:o,recaptchaToken:r})).then((function(t){return"function"==typeof e.reset&&e.reset(),t}),(function(t){throw"function"==typeof e.reset&&e.reset(),t}));default:throw new I("argument-error",'Only firebase.auth.ApplicationVerifiers with type="recaptcha" are currently supported.')}}))},zr(ko,{PROVIDER_ID:"phone"}),zr(ko,{PHONE_SIGN_IN_METHOD:"phone"}),Do.prototype.getUid=function(){var t=[];return t.push(this.c),this.b&&t.push(this.b),this.f&&t.push(this.f),this.h&&t.push(this.h),t.join("-")},Do.prototype.S=function(){return this.h},Do.prototype.v=function(){return{type:this.c,eventId:this.b,urlResponse:this.g,sessionId:this.f,postBody:this.i,tenantId:this.h,error:this.a&&this.a.v()}};var jo,Uo=null;function Vo(t){var e="unauthorized-domain",n=void 0,r=Ln(t);t=r.b,"chrome-extension"==(r=r.f)?n=Vt("This chrome extension ID (chrome-extension://%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",t):"http"==r||"https"==r?n=Vt("This domain (%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",t):e="operation-not-supported-in-this-environment",I.call(this,e,n)}function Fo(t,e,n){I.call(this,t,n),(t=e||{}).Gb&&Br(this,"email",t.Gb),t.da&&Br(this,"phoneNumber",t.da),t.credential&&Br(this,"credential",t.credential),t.Wb&&Br(this,"tenantId",t.Wb)}function qo(t){if(t.code){var e=t.code||"";0==e.indexOf(S)&&(e=e.substring(S.length));var n={credential:Po(t),Wb:t.tenantId};if(t.email)n.Gb=t.email;else if(t.phoneNumber)n.da=t.phoneNumber;else if(!n.credential)return new I(e,t.message||void 0);return new Fo(e,n,t.message)}return null}function Ho(){}function Go(){}function Bo(t){if(!t.f&&"undefined"==typeof XMLHttpRequest&&"undefined"!=typeof ActiveXObject){for(var e=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],n=0;n<e.length;n++){var r=e[n];try{return new ActiveXObject(r),t.f=r}catch(i){}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed")}return t.f}function zo(){}function Wo(){this.a=new XDomainRequest,this.readyState=0,this.onreadystatechange=null,this.responseType=this.responseText=this.response="",this.status=-1,this.statusText="",this.a.onload=b(this.oc,this),this.a.onerror=b(this.Pb,this),this.a.onprogress=b(this.pc,this),this.a.ontimeout=b(this.tc,this)}function Ko(t,e){t.readyState=e,t.onreadystatechange&&t.onreadystatechange()}function $o(t,e,n){this.reset(t,e,n,void 0,void 0)}function Yo(t){this.f=t,this.b=this.c=this.a=null}function Qo(t,e){this.name=t,this.value=e}E(Vo,I),E(Fo,I),Fo.prototype.v=function(){var t={code:this.code,message:this.message};this.email&&(t.email=this.email),this.phoneNumber&&(t.phoneNumber=this.phoneNumber),this.tenantId&&(t.tenantId=this.tenantId);var e=this.credential&&this.credential.v();return e&&pt(t,e),t},Fo.prototype.toJSON=function(){return this.v()},Ho.prototype.c=null,E(Go,Ho),Go.prototype.a=function(){var t=Bo(this);return t?new ActiveXObject(t):new XMLHttpRequest},Go.prototype.b=function(){var t={};return Bo(this)&&(t[0]=!0,t[1]=!0),t},jo=new Go,E(zo,Ho),zo.prototype.a=function(){var t=new XMLHttpRequest;if("withCredentials"in t)return t;if("undefined"!=typeof XDomainRequest)return new Wo;throw Error("Unsupported browser")},zo.prototype.b=function(){return{}},(t=Wo.prototype).open=function(t,e,n){if(null!=n&&!n)throw Error("Only async requests are supported.");this.a.open(t,e)},t.send=function(t){if(t){if("string"!=typeof t)throw Error("Only string data is supported");this.a.send(t)}else this.a.send()},t.abort=function(){this.a.abort()},t.setRequestHeader=function(){},t.getResponseHeader=function(t){return"content-type"==t.toLowerCase()?this.a.contentType:""},t.oc=function(){this.status=200,this.response=this.responseText=this.a.responseText,Ko(this,4)},t.Pb=function(){this.status=500,this.response=this.responseText="",Ko(this,4)},t.tc=function(){this.Pb()},t.pc=function(){this.status=200,Ko(this,1)},t.getAllResponseHeaders=function(){return"content-type: "+this.a.contentType},$o.prototype.a=null,$o.prototype.reset=function(t,e,n,r,i){r||_(),delete this.a},Qo.prototype.toString=function(){return this.name};var Jo=new Qo("SEVERE",1e3),Xo=new Qo("WARNING",900),Zo=new Qo("CONFIG",700),ts=new Qo("FINE",500);Yo.prototype.log=function(t,e,n){if(t.value>=function t(e){return e.c?e.c:e.a?t(e.a):(R("Root logger has no level set."),null)}(this).value)for(f(e)&&(e=e()),t=new $o(t,String(e),this.f),n&&(t.a=n),n=this;n;)n=n.a};var es={},ns=null;function rs(t){var e;if(ns||(ns=new Yo(""),es[""]=ns,ns.c=Zo),!(e=es[t])){e=new Yo(t);var n=t.lastIndexOf("."),r=t.substr(n+1);(n=rs(t.substr(0,n))).b||(n.b={}),n.b[r]=e,e.a=n,es[t]=e}return e}function is(t,e){t&&t.log(ts,e,void 0)}function os(t){this.f=t}function ss(t){vn.call(this),this.s=t,this.readyState=as,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.i=new Headers,this.b=null,this.m="GET",this.g="",this.a=!1,this.h=rs("goog.net.FetchXmlHttp"),this.l=this.c=this.f=null}E(os,Ho),os.prototype.a=function(){return new ss(this.f)},os.prototype.b=function(t){return function(){return t}}({}),E(ss,vn);var as=0;function us(t){t.c.read().then(t.nc.bind(t)).catch(t.Sa.bind(t))}function cs(t,e){e&&t.f&&(t.status=t.f.status,t.statusText=t.f.statusText),t.readyState=4,t.f=null,t.c=null,t.l=null,hs(t)}function hs(t){t.onreadystatechange&&t.onreadystatechange.call(t)}function ls(t){vn.call(this),this.headers=new Tn,this.D=t||null,this.c=!1,this.B=this.a=null,this.h=this.P=this.l="",this.f=this.O=this.i=this.N=!1,this.g=0,this.s=null,this.m=fs,this.w=this.R=!1}(t=ss.prototype).open=function(t,e){if(this.readyState!=as)throw this.abort(),Error("Error reopening a connection");this.m=t,this.g=e,this.readyState=1,hs(this)},t.send=function(t){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.a=!0;var e={headers:this.i,method:this.m,credentials:void 0,cache:void 0};t&&(e.body=t),this.s.fetch(new Request(this.g,e)).then(this.sc.bind(this),this.Sa.bind(this))},t.abort=function(){this.response=this.responseText="",this.i=new Headers,this.status=0,this.c&&this.c.cancel("Request was aborted."),1<=this.readyState&&this.a&&4!=this.readyState&&(this.a=!1,cs(this,!1)),this.readyState=as},t.sc=function(t){this.a&&(this.f=t,this.b||(this.b=t.headers,this.readyState=2,hs(this)),this.a&&(this.readyState=3,hs(this),this.a&&("arraybuffer"===this.responseType?t.arrayBuffer().then(this.qc.bind(this),this.Sa.bind(this)):void 0!==s.ReadableStream&&"body"in t?(this.response=this.responseText="",this.c=t.body.getReader(),this.l=new TextDecoder,us(this)):t.text().then(this.rc.bind(this),this.Sa.bind(this)))))},t.nc=function(t){if(this.a){var e=this.l.decode(t.value?t.value:new Uint8Array(0),{stream:!t.done});e&&(this.response=this.responseText+=e),t.done?cs(this,!0):hs(this),3==this.readyState&&us(this)}},t.rc=function(t){this.a&&(this.response=this.responseText=t,cs(this,!0))},t.qc=function(t){this.a&&(this.response=t,cs(this,!0))},t.Sa=function(t){var e=this.h;e&&e.log(Xo,"Failed to fetch url "+this.g,t instanceof Error?t:Error(t)),this.a&&cs(this,!0)},t.setRequestHeader=function(t,e){this.i.append(t,e)},t.getResponseHeader=function(t){return this.b?this.b.get(t.toLowerCase())||"":((t=this.h)&&t.log(Xo,"Attempting to get response header but no headers have been received for url: "+this.g,void 0),"")},t.getAllResponseHeaders=function(){if(!this.b){var t=this.h;return t&&t.log(Xo,"Attempting to get all response headers but no headers have been received for url: "+this.g,void 0),""}t=[];for(var e=this.b.entries(),n=e.next();!n.done;)t.push((n=n.value)[0]+": "+n[1]),n=e.next();return t.join("\r\n")},E(ls,vn);var fs="";ls.prototype.b=rs("goog.net.XhrIo");var ds=/^https?$/i,ps=["POST","PUT"];function gs(t){return"content-type"==t.toLowerCase()}function ms(t,e){t.c=!1,t.a&&(t.f=!0,t.a.abort(),t.f=!1),t.h=e,vs(t),bs(t)}function vs(t){t.N||(t.N=!0,t.dispatchEvent("complete"),t.dispatchEvent("error"))}function ys(t){if(t.c&&void 0!==o)if(t.B[1]&&4==_s(t)&&2==Es(t))is(t.b,Is(t,"Local request error detected and ignored"));else if(t.i&&4==_s(t))_n(t.Sb,0,t);else if(t.dispatchEvent("readystatechange"),4==_s(t)){is(t.b,Is(t,"Request complete")),t.c=!1;try{var e,n=Es(t);t:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break t;default:r=!1}if(!(e=r)){var i;if(i=0===n){var a=String(t.l).match(On)[1]||null;if(!a&&s.self&&s.self.location){var u=s.self.location.protocol;a=u.substr(0,u.length-1)}i=!ds.test(a?a.toLowerCase():"")}e=i}if(e)t.dispatchEvent("complete"),t.dispatchEvent("success");else{try{var c=2<_s(t)?t.a.statusText:""}catch(h){is(t.b,"Can not get status: "+h.message),c=""}t.h=c+" ["+Es(t)+"]",vs(t)}}finally{bs(t)}}}function bs(t,e){if(t.a){ws(t);var n=t.a,r=t.B[0]?c:null;t.a=null,t.B=null,e||t.dispatchEvent("ready");try{n.onreadystatechange=r}catch(i){(t=t.b)&&t.log(Jo,"Problem encountered resetting onreadystatechange: "+i.message,void 0)}}}function ws(t){t.a&&t.w&&(t.a.ontimeout=null),t.s&&(s.clearTimeout(t.s),t.s=null)}function _s(t){return t.a?t.a.readyState:0}function Es(t){try{return 2<_s(t)?t.a.status:-1}catch(e){return-1}}function Is(t,e){return e+" ["+t.P+" "+t.l+" "+Es(t)+"]"}function Cs(t){var e=Ms;this.g=[],this.w=e,this.s=t||null,this.f=this.a=!1,this.c=void 0,this.u=this.B=this.i=!1,this.h=0,this.b=null,this.l=0}function Ts(t,e,n){t.a=!0,t.c=n,t.f=!e,Ns(t)}function Ss(t){if(t.a){if(!t.u)throw new ks(t);t.u=!1}}function As(t,e,n,r){t.g.push([e,n,r]),t.a&&Ns(t)}function Os(t){return B(t.g,(function(t){return f(t[1])}))}function Ns(t){if(t.h&&t.a&&Os(t)){var e=t.h,n=Rs[e];n&&(s.clearTimeout(n.a),delete Rs[e]),t.h=0}t.b&&(t.b.l--,delete t.b),e=t.c;for(var r=n=!1;t.g.length&&!t.i;){var i=t.g.shift(),o=i[0],a=i[1];if(i=i[2],o=t.f?a:o)try{var u=o.call(i||t.s,e);void 0!==u&&(t.f=t.f&&(u==e||u instanceof Error),t.c=e=u),(k(e)||"function"==typeof s.Promise&&e instanceof s.Promise)&&(r=!0,t.i=!0)}catch(c){e=c,t.f=!0,Os(t)||(n=!0)}}t.c=e,r&&(u=b(t.m,t,!0),r=b(t.m,t,!1),e instanceof Cs?(As(e,u,r),e.B=!0):e.then(u,r)),n&&(e=new Ps(e),Rs[e.a]=e,t.h=e.a)}function ks(){x.call(this)}function xs(){x.call(this)}function Ps(t){this.a=s.setTimeout(b(this.c,this),0),this.b=t}(t=ls.prototype).Ka=function(){void 0!==o&&this.a&&(this.h="Timed out after "+this.g+"ms, aborting",is(this.b,Is(this,this.h)),this.dispatchEvent("timeout"),this.abort(8))},t.abort=function(){this.a&&this.c&&(is(this.b,Is(this,"Aborting")),this.c=!1,this.f=!0,this.a.abort(),this.f=!1,this.dispatchEvent("complete"),this.dispatchEvent("abort"),bs(this))},t.Ba=function(){this.a&&(this.c&&(this.c=!1,this.f=!0,this.a.abort(),this.f=!1),bs(this,!0)),ls.Za.Ba.call(this)},t.Sb=function(){this.wa||(this.O||this.i||this.f?ys(this):this.Hc())},t.Hc=function(){ys(this)},t.getResponse=function(){try{if(!this.a)return null;if("response"in this.a)return this.a.response;switch(this.m){case fs:case"text":return this.a.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in this.a)return this.a.mozResponseArrayBuffer}var t=this.b;return t&&t.log(Jo,"Response type "+this.m+" is not supported on this browser",void 0),null}catch(e){return is(this.b,"Can not get response: "+e.message),null}},Cs.prototype.cancel=function(t){if(this.a)this.c instanceof Cs&&this.c.cancel();else{if(this.b){var e=this.b;delete this.b,t?e.cancel(t):(e.l--,0>=e.l&&e.cancel())}this.w?this.w.call(this.s,this):this.u=!0,this.a||(t=new xs(this),Ss(this),Ts(this,!1,t))}},Cs.prototype.m=function(t,e){this.i=!1,Ts(this,t,e)},Cs.prototype.then=function(t,e,n){var r,i,o=new ve((function(t,e){r=t,i=e}));return As(this,r,(function(t){t instanceof xs?o.cancel():i(t)})),o.then(t,e,n)},Cs.prototype.$goog_Thenable=!0,E(ks,x),ks.prototype.message="Deferred has already fired",ks.prototype.name="AlreadyCalledError",E(xs,x),xs.prototype.message="Deferred was canceled",xs.prototype.name="CanceledError",Ps.prototype.c=function(){throw delete Rs[this.a],this.b};var Rs={};function Ds(t){var e={},n=e.document||document,r=Et(t).toString(),i=he(document,"SCRIPT"),o={Tb:i,Ka:void 0},c=new Cs(o),h=null,l=null!=e.timeout?e.timeout:5e3;return 0<l&&(h=window.setTimeout((function(){Ls(i,!0);var t=new Vs(Us,"Timeout reached for loading script "+r);Ss(c),Ts(c,!1,t)}),l),o.Ka=h),i.onload=i.onreadystatechange=function(){i.readyState&&"loaded"!=i.readyState&&"complete"!=i.readyState||(Ls(i,e.ud||!1,h),Ss(c),Ts(c,!0,null))},i.onerror=function(){Ls(i,!0,h);var t=new Vs(js,"Error while loading script "+r);Ss(c),Ts(c,!1,t)},pt(o=e.attributes||{},{type:"text/javascript",charset:"UTF-8"}),oe(i,o),function(t,e){gt(t,"HTMLScriptElement"),t.src=Et(e),null===u&&(u=(e=(e=s.document).querySelector&&e.querySelector("script[nonce]"))&&(e=e.nonce||e.getAttribute("nonce"))&&a.test(e)?e:""),(e=u)&&t.setAttribute("nonce",e)}(i,t),function(t){var e;return(e=(t||document).getElementsByTagName("HEAD"))&&0!=e.length?e[0]:t.documentElement}(n).appendChild(i),c}function Ms(){if(this&&this.Tb){var t=this.Tb;t&&"SCRIPT"==t.tagName&&Ls(t,!0,this.Ka)}}function Ls(t,e,n){null!=n&&s.clearTimeout(n),t.onload=c,t.onerror=c,t.onreadystatechange=c,e&&window.setTimeout((function(){t&&t.parentNode&&t.parentNode.removeChild(t)}),0)}var js=0,Us=1;function Vs(t,e){var n="Jsloader error (code #"+t+")";e&&(n+=": "+e),x.call(this,n),this.code=t}function Fs(t){this.f=t}function qs(t,e,n){if(this.c=t,this.u=(t=e||{}).secureTokenEndpoint||"https://securetoken.googleapis.com/v1/token",this.m=t.secureTokenTimeout||Bs,this.g=ft(t.secureTokenHeaders||zs),this.h=t.firebaseEndpoint||"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",this.l=t.identityPlatformEndpoint||"https://identitytoolkit.googleapis.com/v2/",this.i=t.firebaseTimeout||Ws,this.a=ft(t.firebaseHeaders||Ks),n&&(this.a["X-Client-Version"]=n,this.g["X-Client-Version"]=n),n="Node"==vr(),!(n=s.XMLHttpRequest||n&&Pn.a.INTERNAL.node&&Pn.a.INTERNAL.node.XMLHttpRequest)&&!mr())throw new I("internal-error","The XMLHttpRequest compatibility library was not found.");this.f=void 0,this.f=mr()?new os(self):yr()?new Fs(n):new zo,this.b=null}E(Vs,x),E(Fs,Ho),Fs.prototype.a=function(){return new this.f},Fs.prototype.b=function(){return{}};var Hs,Gs="idToken",Bs=new Lr(3e4,6e4),zs={"Content-Type":"application/x-www-form-urlencoded"},Ws=new Lr(3e4,6e4),Ks={"Content-Type":"application/json"};function $s(t,e){e?t.a["X-Firebase-Locale"]=e:delete t.a["X-Firebase-Locale"]}function Ys(t,e){e?(t.a["X-Client-Version"]=e,t.g["X-Client-Version"]=e):(delete t.a["X-Client-Version"],delete t.g["X-Client-Version"])}function Qs(t,e,n,r,i,o,a){(function(){var t=Ir();return!((t="Chrome"!=wr(t)?null:(t=t.match(/\sChrome\/(\d+)/i))&&2==t.length?parseInt(t[1],10):null)&&30>t||zt&&te&&!(9<te))})()||mr()?t=b(t.w,t):(Hs||(Hs=new ve((function(t,e){!function(t,e){((window.gapi||{}).client||{}).request?t():(s[Xs]=function(){((window.gapi||{}).client||{}).request?t():e(Error("CORS_UNSUPPORTED"))},function(t,e){As(t,null,e,void 0)}(Ds(It(Js,{onload:Xs})),(function(){e(Error("CORS_UNSUPPORTED"))})))}(t,e)}))),t=b(t.s,t)),t(e,n,r,i,o,a)}qs.prototype.S=function(){return this.b},qs.prototype.w=function(t,e,n,r,i,o){if(mr()&&(void 0===s.fetch||void 0===s.Headers||void 0===s.Request))throw new I("operation-not-supported-in-this-environment","fetch, Headers and Request native APIs or equivalent Polyfills must be available to support HTTP requests from a Worker environment.");var a=new ls(this.f);if(o){a.g=Math.max(0,o);var u=setTimeout((function(){a.dispatchEvent("timeout")}),o)}yn(a,"complete",(function(){u&&clearTimeout(u);var t=null;try{t=JSON.parse(function(t){try{return t.a?t.a.responseText:""}catch(e){return is(t.b,"Can not get responseText: "+e.message),""}}(this))||null}catch(n){t=null}e&&e(t)})),bn(a,"ready",(function(){u&&clearTimeout(u),qe(this)})),bn(a,"timeout",(function(){u&&clearTimeout(u),qe(this),e&&e(null)})),function(t,e,n,r,i){if(t.a)throw Error("[goog.net.XhrIo] Object is active with another request="+t.l+"; newUri="+e);n=n?n.toUpperCase():"GET",t.l=e,t.h="",t.P=n,t.N=!1,t.c=!0,t.a=t.D?t.D.a():jo.a(),t.B=function(t){return t.c||(t.c=t.b())}(t.D?t.D:jo),t.a.onreadystatechange=b(t.Sb,t);try{is(t.b,Is(t,"Opening Xhr")),t.O=!0,t.a.open(n,String(e),!0),t.O=!1}catch(a){return is(t.b,Is(t,"Error opening Xhr: "+a.message)),void ms(t,a)}e=r||"";var o=new Tn(t.headers);i&&function(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(l(t)||"string"==typeof t)q(t,e,void 0);else for(var n=Cn(t),r=In(t),i=r.length,o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}(i,(function(t,e){o.set(e,t)})),i=function(t){t:{for(var e=gs,n=t.length,r="string"==typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break t}e=-1}return 0>e?null:"string"==typeof t?t.charAt(e):t[e]}(o.X()),r=s.FormData&&e instanceof s.FormData,!z(ps,n)||i||r||o.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),o.forEach((function(t,e){this.a.setRequestHeader(e,t)}),t),t.m&&(t.a.responseType=t.m),"withCredentials"in t.a&&t.a.withCredentials!==t.R&&(t.a.withCredentials=t.R);try{ws(t),0<t.g&&(t.w=function(t){return zt&&ne(9)&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(t.a),is(t.b,Is(t,"Will abort after "+t.g+"ms if incomplete, xhr2 "+t.w)),t.w?(t.a.timeout=t.g,t.a.ontimeout=b(t.Ka,t)):t.s=_n(t.Ka,t.g,t)),is(t.b,Is(t,"Sending request")),t.i=!0,t.a.send(e),t.i=!1}catch(a){is(t.b,Is(t,"Send error: "+a.message)),ms(t,a)}}(a,t,n,r,i)};var Js=new mt(bt,"https://apis.google.com/js/client.js?onload=%{onload}"),Xs="__fcb"+Math.floor(1e6*Math.random()).toString();function Zs(t){if("string"!=typeof(t=t.email)||!fr.test(t))throw new I("invalid-email")}function ta(t){"email"in t&&Zs(t)}function ea(t){if(!t[Gs]){if(t.mfaPendingCredential)throw new I("multi-factor-auth-required",null,ft(t));throw new I("internal-error")}}function na(t){if(t.phoneNumber||t.temporaryProof){if(!t.phoneNumber||!t.temporaryProof)throw new I("internal-error")}else{if(!t.sessionInfo)throw new I("missing-verification-id");if(!t.code)throw new I("missing-verification-code")}}qs.prototype.s=function(t,e,n,r,i){var o=this;Hs.then((function(){window.gapi.client.setApiKey(o.c);var s=window.gapi.auth.getToken();window.gapi.auth.setToken(null),window.gapi.client.request({path:t,method:n,body:r,headers:i,authType:"none",callback:function(t){window.gapi.auth.setToken(s),e&&e(t)}})})).o((function(t){e&&e({error:{message:t&&t.message||"CORS_UNSUPPORTED"}})}))},qs.prototype.vb=function(){return za(this,Ra,{})},qs.prototype.xb=function(t,e){return za(this,xa,{idToken:t,email:e})},qs.prototype.yb=function(t,e){return za(this,Pa,{idToken:t,password:e})};var ra={displayName:"DISPLAY_NAME",photoUrl:"PHOTO_URL"};function ia(t){if(!t.phoneVerificationInfo)throw new I("internal-error");if(!t.phoneVerificationInfo.sessionInfo)throw new I("missing-verification-id");if(!t.phoneVerificationInfo.code)throw new I("missing-verification-code")}function oa(t){if(!t.requestUri||!t.sessionId&&!t.postBody&&!t.pendingToken)throw new I("internal-error")}function sa(t,e){return e.oauthIdToken&&e.providerId&&0==e.providerId.indexOf("oidc.")&&!e.pendingToken&&(t.sessionId?e.nonce=t.sessionId:t.postBody&&Qn(t=new Wn(t.postBody),"nonce")&&(e.nonce=t.get("nonce"))),e}function aa(t){var e=null;if(t.needConfirmation?(t.code="account-exists-with-different-credential",e=qo(t)):"FEDERATED_USER_ID_ALREADY_LINKED"==t.errorMessage?(t.code="credential-already-in-use",e=qo(t)):"EMAIL_EXISTS"==t.errorMessage?(t.code="email-already-in-use",e=qo(t)):t.errorMessage&&(e=Wa(t.errorMessage)),e)throw e;ea(t)}function ua(t,e){return e.returnIdpCredential=!0,za(t,La,e)}function ca(t,e){return e.returnIdpCredential=!0,za(t,Ua,e)}function ha(t,e){return e.returnIdpCredential=!0,e.autoCreate=!1,za(t,ja,e)}function la(t){if(!t.oobCode)throw new I("invalid-action-code")}(t=qs.prototype).zb=function(t,e){var n={idToken:t},r=[];return ht(ra,(function(t,i){var o=e[i];null===o?r.push(t):i in e&&(n[i]=o)})),r.length&&(n.deleteAttribute=r),za(this,xa,n)},t.rb=function(t,e){return pt(t={requestType:"PASSWORD_RESET",email:t},e),za(this,Sa,t)},t.sb=function(t,e){return pt(t={requestType:"EMAIL_SIGNIN",email:t},e),za(this,Ia,t)},t.qb=function(t,e){return pt(t={requestType:"VERIFY_EMAIL",idToken:t},e),za(this,Ca,t)},t.Ab=function(t,e,n){return pt(t={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:t,newEmail:e},n),za(this,Ta,t)},t.cb=function(t){return za(this,qa,t)},t.jb=function(t,e){return za(this,Na,{oobCode:t,newPassword:e})},t.Pa=function(t){return za(this,da,{oobCode:t})},t.fb=function(t){return za(this,fa,{oobCode:t})};var fa={endpoint:"setAccountInfo",A:la,Y:"email",C:!0},da={endpoint:"resetPassword",A:la,G:function(t){var e=t.requestType;if(!e||!t.email&&"EMAIL_SIGNIN"!=e&&"VERIFY_AND_CHANGE_EMAIL"!=e)throw new I("internal-error")},C:!0},pa={endpoint:"signupNewUser",A:function(t){if(Zs(t),!t.password)throw new I("weak-password")},G:ea,U:!0,C:!0},ga={endpoint:"createAuthUri",C:!0},ma={endpoint:"deleteAccount",M:["idToken"]},va={endpoint:"setAccountInfo",M:["idToken","deleteProvider"],A:function(t){if("array"!=h(t.deleteProvider))throw new I("internal-error")}},ya={endpoint:"emailLinkSignin",M:["email","oobCode"],A:Zs,G:ea,U:!0,C:!0},ba={endpoint:"emailLinkSignin",M:["idToken","email","oobCode"],A:Zs,G:ea,U:!0},wa={endpoint:"accounts/mfaEnrollment:finalize",M:["idToken","phoneVerificationInfo"],A:ia,G:ea,C:!0,La:!0},_a={endpoint:"accounts/mfaSignIn:finalize",M:["mfaPendingCredential","phoneVerificationInfo"],A:ia,G:ea,C:!0,La:!0},Ea={endpoint:"getAccountInfo"},Ia={endpoint:"getOobConfirmationCode",M:["requestType"],A:function(t){if("EMAIL_SIGNIN"!=t.requestType)throw new I("internal-error");Zs(t)},Y:"email",C:!0},Ca={endpoint:"getOobConfirmationCode",M:["idToken","requestType"],A:function(t){if("VERIFY_EMAIL"!=t.requestType)throw new I("internal-error")},Y:"email",C:!0},Ta={endpoint:"getOobConfirmationCode",M:["idToken","newEmail","requestType"],A:function(t){if("VERIFY_AND_CHANGE_EMAIL"!=t.requestType)throw new I("internal-error")},Y:"email",C:!0},Sa={endpoint:"getOobConfirmationCode",M:["requestType"],A:function(t){if("PASSWORD_RESET"!=t.requestType)throw new I("internal-error");Zs(t)},Y:"email",C:!0},Aa={hb:!0,endpoint:"getProjectConfig",Rb:"GET"},Oa={hb:!0,endpoint:"getRecaptchaParam",Rb:"GET",G:function(t){if(!t.recaptchaSiteKey)throw new I("internal-error")}},Na={endpoint:"resetPassword",A:la,Y:"email",C:!0},ka={endpoint:"sendVerificationCode",M:["phoneNumber","recaptchaToken"],Y:"sessionInfo",C:!0},xa={endpoint:"setAccountInfo",M:["idToken"],A:ta,U:!0},Pa={endpoint:"setAccountInfo",M:["idToken"],A:function(t){if(ta(t),!t.password)throw new I("weak-password")},G:ea,U:!0},Ra={endpoint:"signupNewUser",G:ea,U:!0,C:!0},Da={endpoint:"accounts/mfaEnrollment:start",M:["idToken","phoneEnrollmentInfo"],A:function(t){if(!t.phoneEnrollmentInfo)throw new I("internal-error");if(!t.phoneEnrollmentInfo.phoneNumber)throw new I("missing-phone-number");if(!t.phoneEnrollmentInfo.recaptchaToken)throw new I("missing-app-credential")},G:function(t){if(!t.phoneSessionInfo||!t.phoneSessionInfo.sessionInfo)throw new I("internal-error")},C:!0,La:!0},Ma={endpoint:"accounts/mfaSignIn:start",M:["mfaPendingCredential","mfaEnrollmentId","phoneSignInInfo"],A:function(t){if(!t.phoneSignInInfo||!t.phoneSignInInfo.recaptchaToken)throw new I("missing-app-credential")},G:function(t){if(!t.phoneResponseInfo||!t.phoneResponseInfo.sessionInfo)throw new I("internal-error")},C:!0,La:!0},La={endpoint:"verifyAssertion",A:oa,Wa:sa,G:aa,U:!0,C:!0},ja={endpoint:"verifyAssertion",A:oa,Wa:sa,G:function(t){if(t.errorMessage&&"USER_NOT_FOUND"==t.errorMessage)throw new I("user-not-found");if(t.errorMessage)throw Wa(t.errorMessage);ea(t)},U:!0,C:!0},Ua={endpoint:"verifyAssertion",A:function(t){if(oa(t),!t.idToken)throw new I("internal-error")},Wa:sa,G:aa,U:!0},Va={endpoint:"verifyCustomToken",A:function(t){if(!t.token)throw new I("invalid-custom-token")},G:ea,U:!0,C:!0},Fa={endpoint:"verifyPassword",A:function(t){if(Zs(t),!t.password)throw new I("wrong-password")},G:ea,U:!0,C:!0},qa={endpoint:"verifyPhoneNumber",A:na,G:ea,C:!0},Ha={endpoint:"verifyPhoneNumber",A:function(t){if(!t.idToken)throw new I("internal-error");na(t)},G:function(t){if(t.temporaryProof)throw t.code="credential-already-in-use",qo(t);ea(t)}},Ga={Eb:{USER_NOT_FOUND:"user-not-found"},endpoint:"verifyPhoneNumber",A:na,G:ea,C:!0},Ba={endpoint:"accounts/mfaEnrollment:withdraw",M:["idToken","mfaEnrollmentId"],G:function(t){if(!!t[Gs]^!!t.refreshToken)throw new I("internal-error")},C:!0,La:!0};function za(t,e,n){if(!function(t,e){if(!e||!e.length)return!0;if(!t)return!1;for(var n=0;n<e.length;n++){var r=t[e[n]];if(null==r||""===r)return!1}return!0}(n,e.M))return Te(new I("internal-error"));var r,i=!!e.La,o=e.Rb||"POST";return Ce(n).then(e.A).then((function(){return e.U&&(n.returnSecureToken=!0),e.C&&t.b&&void 0===n.tenantId&&(n.tenantId=t.b),function(t,e,n,r,i,o,s){var a=Ln(e+n);Dn(a,"key",t.c),s&&Dn(a,"cb",_().toString());var u="GET"==r;if(u)for(var c in i)i.hasOwnProperty(c)&&Dn(a,c,i[c]);return new ve((function(e,n){Qs(t,a.toString(),(function(t){t?t.error?n(Ka(t,o||{})):e(t):n(new I("network-request-failed"))}),r,u?void 0:tr(xr(i)),t.a,t.i.get())}))}(t,i?t.l:t.h,e.endpoint,o,n,e.Eb,e.hb||!1)})).then((function(t){return r=t,e.Wa?e.Wa(n,r):r})).then(e.G).then((function(){if(!e.Y)return r;if(!(e.Y in r))throw new I("internal-error");return r[e.Y]}))}function Wa(t){return Ka({error:{errors:[{message:t}],code:400,message:t}})}function Ka(t,e){var n=(t.error&&t.error.errors&&t.error.errors[0]||{}).reason||"",r={keyInvalid:"invalid-api-key",ipRefererBlocked:"app-not-authorized"};if(n=r[n]?new I(r[n]):null)return n;for(var i in n=t.error&&t.error.message||"",pt(r={INVALID_CUSTOM_TOKEN:"invalid-custom-token",CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_EMAIL:"invalid-email",INVALID_PASSWORD:"wrong-password",USER_DISABLED:"user-disabled",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_OR_INVALID_NONCE:"missing-or-invalid-nonce",INVALID_MESSAGE_PAYLOAD:"invalid-message-payload",INVALID_RECIPIENT_EMAIL:"invalid-recipient-email",INVALID_SENDER:"invalid-sender",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",INVALID_PROVIDER_ID:"invalid-provider-id",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",CORS_UNSUPPORTED:"cors-unsupported",DYNAMIC_LINK_NOT_ACTIVATED:"dynamic-link-not-activated",INVALID_APP_ID:"invalid-app-id",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",WEAK_PASSWORD:"weak-password",OPERATION_NOT_ALLOWED:"operation-not-allowed",USER_CANCELLED:"user-cancelled",CAPTCHA_CHECK_FAILED:"captcha-check-failed",INVALID_APP_CREDENTIAL:"invalid-app-credential",INVALID_CODE:"invalid-verification-code",INVALID_PHONE_NUMBER:"invalid-phone-number",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_APP_CREDENTIAL:"missing-app-credential",MISSING_CODE:"missing-verification-code",MISSING_PHONE_NUMBER:"missing-phone-number",MISSING_SESSION_INFO:"missing-verification-id",QUOTA_EXCEEDED:"quota-exceeded",SESSION_EXPIRED:"code-expired",REJECTED_CREDENTIAL:"rejected-credential",INVALID_CONTINUE_URI:"invalid-continue-uri",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",MISSING_IOS_BUNDLE_ID:"missing-ios-bundle-id",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_DYNAMIC_LINK_DOMAIN:"invalid-dynamic-link-domain",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",INVALID_CERT_HASH:"invalid-cert-hash",UNSUPPORTED_TENANT_OPERATION:"unsupported-tenant-operation",INVALID_TENANT_ID:"invalid-tenant-id",TENANT_ID_MISMATCH:"tenant-id-mismatch",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",EMAIL_CHANGE_NEEDS_VERIFICATION:"email-change-needs-verification",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",UNSUPPORTED_FIRST_FACTOR:"unsupported-first-factor",UNVERIFIED_EMAIL:"unverified-email"},e||{}),e=(e=n.match(/^[^\s]+\s*:\s*([\s\S]*)$/))&&1<e.length?e[1]:void 0,r)if(0===n.indexOf(i))return new I(r[i],e);return!e&&t&&(e=kr(t)),new I("internal-error",e)}function $a(t){this.b=t,this.a=null,this.nb=function(t){return(Xa||(Xa=new ve((function(t,e){function n(){Mr(),Cr("gapi.load")("gapi.iframes",{callback:t,ontimeout:function(){Mr(),e(Error("Network Error"))},timeout:Qa.get()})}if(Cr("gapi.iframes.Iframe"))t();else if(Cr("gapi.load"))n();else{var r="__iframefcb"+Math.floor(1e6*Math.random()).toString();s[r]=function(){Cr("gapi.load")?n():e(Error("Network Error"))},Ce(Ds(r=It(Ya,{onload:r}))).o((function(){e(Error("Network Error"))}))}})).o((function(t){throw Xa=null,t})))).then((function(){return new ve((function(e,n){Cr("gapi.iframes.getContext")().open({where:document.body,url:t.b,messageHandlersFilter:Cr("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"),attributes:{style:{position:"absolute",top:"-100px",width:"1px",height:"1px"}},dontclear:!0},(function(r){function i(){clearTimeout(o),e()}t.a=r,t.a.restyle({setHideOnLeave:!1});var o=setTimeout((function(){n(Error("Network Error"))}),Ja.get());r.ping(i).then(i,(function(){n(Error("Network Error"))}))}))}))}))}(this)}var Ya=new mt(bt,"https://apis.google.com/js/api.js?onload=%{onload}"),Qa=new Lr(3e4,6e4),Ja=new Lr(5e3,15e3),Xa=null;function Za(t,e,n){this.i=t,this.g=e,this.h=n,this.f=null,this.a=jn(this.i,"/__/auth/iframe"),Dn(this.a,"apiKey",this.g),Dn(this.a,"appName",this.h),this.b=null,this.c=[]}function tu(t,e,n,r,i){this.s=t,this.m=e,this.c=n,this.u=r,this.i=this.g=this.l=null,this.a=i,this.h=this.f=null}function eu(t){try{return Pn.a.app(t).auth().Ea()}catch(e){return[]}}function nu(t,e,n,r,i){this.u=t,this.f=e,this.b=n,this.c=r||null,this.h=i||null,this.m=this.s=this.w=null,this.g=[],this.l=this.a=null}function ru(t){var e=sr();return function(t){return za(t,Aa,{}).then((function(t){return t.authorizedDomains||[]}))}(t).then((function(t){t:{var n=Ln(e),r=n.f;n=n.b;for(var i=0;i<t.length;i++){var o=t[i],s=n,a=r;if(0==o.indexOf("chrome-extension://")?s=Ln(o).b==s&&"chrome-extension"==a:"http"!=a&&"https"!=a?s=!1:lr.test(o)?s=s==o:(o=o.split(".").join("\\."),s=new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)),s){t=!0;break t}}t=!1}if(!t)throw new Vo(sr())}))}function iu(t){return t.l?t.l:(t.l=dr().then((function(){if(!t.s){var e=t.c,n=t.h,r=eu(t.b),i=new Za(t.u,t.f,t.b);i.f=e,i.b=n,i.c=Y(r||[]),t.s=i.toString()}t.i=new $a(t.s),function(t){if(!t.i)throw Error("IfcHandler must be initialized!");!function(t,e){t.nb.then((function(){t.a.register("authEvent",e,Cr("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))}))}(t.i,(function(e){var n={};if(e&&e.authEvent){var r=!1;for(e=Mo(e.authEvent),n=0;n<t.g.length;n++)r=t.g[n](e)||r;return(n={}).status=r?"ACK":"ERROR",Ce(n)}return n.status="ERROR",Ce(n)}))}(t)})),t.l)}function ou(t){return t.m||(t.w=t.c?Er(t.c,eu(t.b)):null,t.m=new qs(t.f,N(t.h),t.w)),t.m}function su(t,e,n,r,i,o,s,a,u,c,h){return(t=new tu(t,e,n,r,i)).l=o,t.g=s,t.i=a,t.b=ft(u||null),t.f=c,t.ub(h).toString()}function au(t){if(this.a=t||Pn.a.INTERNAL.reactNative&&Pn.a.INTERNAL.reactNative.AsyncStorage,!this.a)throw new I("internal-error","The React Native compatibility library was not found.");this.type="asyncStorage"}function uu(t){this.b=t,this.a={},this.f=b(this.c,this)}Za.prototype.toString=function(){return this.f?Dn(this.a,"v",this.f):Yn(this.a.a,"v"),this.b?Dn(this.a,"eid",this.b):Yn(this.a.a,"eid"),this.c.length?Dn(this.a,"fw",this.c.join(",")):Yn(this.a.a,"fw"),this.a.toString()},tu.prototype.ub=function(t){return this.h=t,this},tu.prototype.toString=function(){var t=jn(this.s,"/__/auth/handler");if(Dn(t,"apiKey",this.m),Dn(t,"appName",this.c),Dn(t,"authType",this.u),this.a.isOAuthProvider){var e=this.a;try{var n=Pn.a.app(this.c).auth().ja()}catch(a){n=null}for(var r in e.kb=n,Dn(t,"providerId",this.a.providerId),n=xr((e=this.a).Fb))n[r]=n[r].toString();r=e.Oc,n=ft(n);for(var i=0;i<r.length;i++){var o=r[i];o in n&&delete n[o]}e.lb&&e.kb&&!n[e.lb]&&(n[e.lb]=e.kb),lt(n)||Dn(t,"customParameters",kr(n))}if("function"==typeof this.a.Nb&&(e=this.a.Nb()).length&&Dn(t,"scopes",e.join(",")),this.l?Dn(t,"redirectUrl",this.l):Yn(t.a,"redirectUrl"),this.g?Dn(t,"eventId",this.g):Yn(t.a,"eventId"),this.i?Dn(t,"v",this.i):Yn(t.a,"v"),this.b)for(var s in this.b)this.b.hasOwnProperty(s)&&!Mn(t,s)&&Dn(t,s,this.b[s]);return this.h?Dn(t,"tid",this.h):Yn(t.a,"tid"),this.f?Dn(t,"eid",this.f):Yn(t.a,"eid"),(s=eu(this.c)).length&&Dn(t,"fw",s.join(",")),t.toString()},(t=nu.prototype).Lb=function(t,e,n){var r=new I("popup-closed-by-user"),i=new I("web-storage-unsupported"),o=this,s=!1;return this.ka().then((function(){(function(t){var e={type:"webStorageSupport"};return iu(t).then((function(){return function(t,e){return t.nb.then((function(){return new ve((function(n){t.a.send(e.type,e,n,Cr("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))}))}))}(t.i,e)})).then((function(t){if(t&&t.length&&void 0!==t[0].webStorageSupport)return t[0].webStorageSupport;throw Error()}))})(o).then((function(n){n||(t&&cr(t),e(i),s=!0)}))})).o((function(){})).then((function(){if(!s)return function(t){return new ve((function(e){return function n(){En(2e3).then((function(){if(t&&!t.closed)return n();e()}))}()}))}(t)})).then((function(){if(!s)return En(n).then((function(){e(r)}))}))},t.Ub=function(){var t=Ir();return!Nr(t)&&!Dr(t)},t.Qb=function(){return!1},t.Jb=function(t,e,n,r,i,o,s,a){if(!t)return Te(new I("popup-blocked"));if(s&&!Nr())return this.ka().o((function(e){cr(t),i(e)})),r(),Ce();this.a||(this.a=ru(ou(this)));var u=this;return this.a.then((function(){var e=u.ka().o((function(e){throw cr(t),i(e),e}));return r(),e})).then((function(){Ro(n),s||ar(su(u.u,u.f,u.b,e,n,null,o,u.c,void 0,u.h,a),t)})).o((function(t){throw"auth/network-request-failed"==t.code&&(u.a=null),t}))},t.Kb=function(t,e,n,r){this.a||(this.a=ru(ou(this)));var i=this;return this.a.then((function(){Ro(e),ar(su(i.u,i.f,i.b,t,e,sr(),n,i.c,void 0,i.h,r))})).o((function(t){throw"auth/network-request-failed"==t.code&&(i.a=null),t}))},t.ka=function(){var t=this;return iu(this).then((function(){return t.i.nb})).o((function(){throw t.a=null,new I("network-request-failed")}))},t.Xb=function(){return!0},t.Ca=function(t){this.g.push(t)},t.Qa=function(t){K(this.g,(function(e){return e==t}))},(t=au.prototype).get=function(t){return Ce(this.a.getItem(t)).then((function(t){return t&&Pr(t)}))},t.set=function(t,e){return Ce(this.a.setItem(t,kr(e)))},t.T=function(t){return Ce(this.a.removeItem(t))},t.ba=function(){},t.ha=function(){};var cu,hu=[];function lu(t,e,n){lt(t.a)&&t.b.addEventListener("message",t.f),void 0===t.a[e]&&(t.a[e]=[]),t.a[e].push(n)}function fu(t){this.a=t}function du(t){this.c=t,this.b=!1,this.a=[]}function pu(t,e,n,r){var i,o,s,a,u=n||{},c=null;if(t.b)return Te(Error("connection_unavailable"));var h=r?800:50,l="undefined"!=typeof MessageChannel?new MessageChannel:null;return new ve((function(n,r){l?(i=Math.floor(Math.random()*Math.pow(10,20)).toString(),l.port1.start(),s=setTimeout((function(){r(Error("unsupported_event"))}),h),t.a.push(c={messageChannel:l,onMessage:o=function(t){t.data.eventId===i&&("ack"===t.data.status?(clearTimeout(s),a=setTimeout((function(){r(Error("timeout"))}),3e3)):"done"===t.data.status?(clearTimeout(a),void 0!==t.data.response?n(t.data.response):r(Error("unknown_error"))):(clearTimeout(s),clearTimeout(a),r(Error("invalid_response"))))}}),l.port1.addEventListener("message",o),t.c.postMessage({eventType:e,eventId:i,data:u},[l.port2])):r(Error("connection_unavailable"))})).then((function(e){return gu(t,c),e})).o((function(e){throw gu(t,c),e}))}function gu(t,e){if(e){var n=e.messageChannel;n&&(n.port1.removeEventListener("message",e.onMessage),n.port1.close()),K(t.a,(function(t){return t==e}))}}function mu(){if(!yu())throw new I("web-storage-unsupported");this.c={},this.a=[],this.b=0,this.u=s.indexedDB,this.type="indexedDB",this.g=this.l=this.f=this.i=null,this.s=!1,this.h=null;var t=this;mr()&&self?(this.l=function(){var t=mr()?self:null;if(q(hu,(function(n){n.b==t&&(e=n)})),!e){var e=new uu(t);hu.push(e)}return e}(),lu(this.l,"keyChanged",(function(e,n){return Iu(t).then((function(e){return 0<e.length&&q(t.a,(function(t){t(e)})),{keyProcessed:z(e,n.key)}}))})),lu(this.l,"ping",(function(){return Ce(["keyChanged"])}))):function(){var t=s.navigator;return t&&t.serviceWorker?Ce().then((function(){return t.serviceWorker.ready})).then((function(t){return t.active||null})).o((function(){return null})):Ce(null)}().then((function(e){(t.h=e)&&(t.g=new du(new fu(e)),pu(t.g,"ping",null,!0).then((function(e){e[0].fulfilled&&z(e[0].value,"keyChanged")&&(t.s=!0)})).o((function(){})))}))}function vu(t){return t.m||(t.m=function t(e){return new ve((function(n,r){var i=e.u.open("firebaseLocalStorageDb",1);i.onerror=function(t){try{t.preventDefault()}catch(e){}r(Error(t.target.error))},i.onupgradeneeded=function(t){t=t.target.result;try{t.createObjectStore("firebaseLocalStorage",{keyPath:"fbase_key"})}catch(e){r(e)}},i.onsuccess=function(i){(i=i.target.result).objectStoreNames.contains("firebaseLocalStorage")?n(i):function(t){return new ve((function(e,n){var r=t.u.deleteDatabase("firebaseLocalStorageDb");r.onsuccess=function(){e()},r.onerror=function(t){n(Error(t.target.error))}}))}(e).then((function(){return t(e)})).then((function(t){n(t)})).o((function(t){r(t)}))}}))}(t)),t.m}function yu(){try{return!!s.indexedDB}catch(Gt){return!1}}function bu(t){return t.objectStore("firebaseLocalStorage")}function wu(t,e){return t.transaction(["firebaseLocalStorage"],e?"readwrite":"readonly")}function _u(t){return new ve((function(e,n){t.onsuccess=function(t){t&&t.target?e(t.target.result):e()},t.onerror=function(t){n(t.target.error)}}))}function Eu(t,e){return t.g&&t.h&&function(){var t=s.navigator;return t&&t.serviceWorker&&t.serviceWorker.controller||null}()===t.h?pu(t.g,"keyChanged",{key:e},t.s).then((function(){})).o((function(){})):Ce()}function Iu(t){return vu(t).then((function(t){var e=bu(wu(t,!1));return e.getAll?_u(e.getAll()):new ve((function(t,n){var r=[],i=e.openCursor();i.onsuccess=function(e){(e=e.target.result)?(r.push(e.value),e.continue()):t(r)},i.onerror=function(t){n(t.target.error)}}))})).then((function(e){var n={},r=[];if(0==t.b){for(r=0;r<e.length;r++)n[e[r].fbase_key]=e[r].value;r=function t(e,n){var r,i=[];for(r in e)r in n?typeof e[r]!=typeof n[r]?i.push(r):"object"==typeof e[r]&&null!=e[r]&&null!=n[r]?0<t(e[r],n[r]).length&&i.push(r):e[r]!==n[r]&&i.push(r):i.push(r);for(r in n)r in e||i.push(r);return i}(t.c,n),t.c=n}return r}))}function Cu(t){t.i&&t.i.cancel("STOP_EVENT"),t.f&&(clearTimeout(t.f),t.f=null)}function Tu(t){var e=this,n=null;this.a=[],this.type="indexedDB",this.c=t,this.b=Ce().then((function(){if(yu()){var t=Rr(),r="__sak"+t;return cu||(cu=new mu),(n=cu).set(r,t).then((function(){return n.get(r)})).then((function(e){if(e!==t)throw Error("indexedDB not supported!");return n.T(r)})).then((function(){return n})).o((function(){return e.c}))}return e.c})).then((function(t){return e.type=t.type,t.ba((function(t){q(e.a,(function(e){e(t)}))})),t}))}function Su(){this.a={},this.type="inMemory"}function Au(){if(!function(){var t="Node"==vr();if(!(t=Ou()||t&&Pn.a.INTERNAL.node&&Pn.a.INTERNAL.node.localStorage))return!1;try{return t.setItem("__sak","1"),t.removeItem("__sak"),!0}catch(e){return!1}}()){if("Node"==vr())throw new I("internal-error","The LocalStorage compatibility library was not found.");throw new I("web-storage-unsupported")}this.a=Ou()||Pn.a.INTERNAL.node.localStorage,this.type="localStorage"}function Ou(){try{var t=s.localStorage,e=Rr();return t&&(t.setItem(e,"1"),t.removeItem(e)),t}catch(n){return null}}function Nu(){this.type="nullStorage"}function ku(){if(!function(){var t="Node"==vr();if(!(t=xu()||t&&Pn.a.INTERNAL.node&&Pn.a.INTERNAL.node.sessionStorage))return!1;try{return t.setItem("__sak","1"),t.removeItem("__sak"),!0}catch(e){return!1}}()){if("Node"==vr())throw new I("internal-error","The SessionStorage compatibility library was not found.");throw new I("web-storage-unsupported")}this.a=xu()||Pn.a.INTERNAL.node.sessionStorage,this.type="sessionStorage"}function xu(){try{var t=s.sessionStorage,e=Rr();return t&&(t.setItem(e,"1"),t.removeItem(e)),t}catch(n){return null}}function Pu(){var t={};t.Browser=Mu,t.Node=Lu,t.ReactNative=ju,t.Worker=Uu,this.a=t[vr()]}uu.prototype.c=function(t){var e=t.data.eventType,n=t.data.eventId,r=this.a[e];if(r&&0<r.length){t.ports[0].postMessage({status:"ack",eventId:n,eventType:e,response:null});var i=[];q(r,(function(e){i.push(Ce().then((function(){return e(t.origin,t.data.data)})))})),Ae(i).then((function(r){var i=[];q(r,(function(t){i.push({fulfilled:t.Mb,value:t.value,reason:t.reason?t.reason.message:void 0})})),q(i,(function(t){for(var e in t)void 0===t[e]&&delete t[e]})),t.ports[0].postMessage({status:"done",eventId:n,eventType:e,response:i})}))}},fu.prototype.postMessage=function(t,e){this.a.postMessage(t,e)},du.prototype.close=function(){for(;0<this.a.length;)gu(this,this.a[0]);this.b=!0},(t=mu.prototype).set=function(t,e){var n,r=!1,i=this;return vu(this).then((function(e){return _u((e=bu(wu(n=e,!0))).get(t))})).then((function(o){var s=bu(wu(n,!0));return o?(o.value=e,_u(s.put(o))):(i.b++,r=!0,(o={}).fbase_key=t,o.value=e,_u(s.add(o)))})).then((function(){return i.c[t]=e,Eu(i,t)})).ma((function(){r&&i.b--}))},t.get=function(t){return vu(this).then((function(e){return _u(bu(wu(e,!1)).get(t))})).then((function(t){return t&&t.value}))},t.T=function(t){var e=!1,n=this;return vu(this).then((function(r){return e=!0,n.b++,_u(bu(wu(r,!0)).delete(t))})).then((function(){return delete n.c[t],Eu(n,t)})).ma((function(){e&&n.b--}))},t.ba=function(t){0==this.a.length&&function(t){Cu(t),function e(){t.f=setTimeout((function(){t.i=Iu(t).then((function(e){0<e.length&&q(t.a,(function(t){t(e)}))})).then((function(){e()})).o((function(t){"STOP_EVENT"!=t.message&&e()}))}),800)}()}(this),this.a.push(t)},t.ha=function(t){K(this.a,(function(e){return e==t})),0==this.a.length&&Cu(this)},(t=Tu.prototype).get=function(t){return this.b.then((function(e){return e.get(t)}))},t.set=function(t,e){return this.b.then((function(n){return n.set(t,e)}))},t.T=function(t){return this.b.then((function(e){return e.T(t)}))},t.ba=function(t){this.a.push(t)},t.ha=function(t){K(this.a,(function(e){return e==t}))},(t=Su.prototype).get=function(t){return Ce(this.a[t])},t.set=function(t,e){return this.a[t]=e,Ce()},t.T=function(t){return delete this.a[t],Ce()},t.ba=function(){},t.ha=function(){},(t=Au.prototype).get=function(t){var e=this;return Ce().then((function(){return Pr(e.a.getItem(t))}))},t.set=function(t,e){var n=this;return Ce().then((function(){var r=kr(e);null===r?n.T(t):n.a.setItem(t,r)}))},t.T=function(t){var e=this;return Ce().then((function(){e.a.removeItem(t)}))},t.ba=function(t){s.window&&on(s.window,"storage",t)},t.ha=function(t){s.window&&un(s.window,"storage",t)},(t=Nu.prototype).get=function(){return Ce(null)},t.set=function(){return Ce()},t.T=function(){return Ce()},t.ba=function(){},t.ha=function(){},(t=ku.prototype).get=function(t){var e=this;return Ce().then((function(){return Pr(e.a.getItem(t))}))},t.set=function(t,e){var n=this;return Ce().then((function(){var r=kr(e);null===r?n.T(t):n.a.setItem(t,r)}))},t.T=function(t){var e=this;return Ce().then((function(){e.a.removeItem(t)}))},t.ba=function(){},t.ha=function(){};var Ru,Du,Mu={F:Au,$a:ku},Lu={F:Au,$a:ku},ju={F:au,$a:Nu},Uu={F:Au,$a:Nu},Vu={od:"local",NONE:"none",qd:"session"};function Fu(){var t=!(Dr(Ir())||!gr()),e=Nr(),n=Tr();this.m=t,this.h=e,this.l=n,this.a={},Ru||(Ru=new Pu),t=Ru;try{this.g=!or()&&Vr()||!s.indexedDB?new t.a.F:new Tu(mr()?new Su:new t.a.F)}catch(r){this.g=new Su,this.h=!0}try{this.i=new t.a.$a}catch(r){this.i=new Su}this.u=new Su,this.f=b(this.Vb,this),this.b={}}function qu(){return Du||(Du=new Fu),Du}function Hu(t,e){switch(e){case"session":return t.i;case"none":return t.u;default:return t.g}}function Gu(t,e){return"firebase:"+t.name+(e?":"+e:"")}function Bu(t,e,n){return n=Gu(e,n),"local"==e.F&&(t.b[n]=null),Hu(t,e.F).T(n)}function zu(t){t.c&&(clearInterval(t.c),t.c=null)}function Wu(t){this.a=t,this.b=qu()}(t=Fu.prototype).get=function(t,e){return Hu(this,t.F).get(Gu(t,e))},t.set=function(t,e,n){var r=Gu(t,n),i=this,o=Hu(this,t.F);return o.set(r,e).then((function(){return o.get(r)})).then((function(e){"local"==t.F&&(i.b[r]=e)}))},t.addListener=function(t,e,n){t=Gu(t,e),this.l&&(this.b[t]=s.localStorage.getItem(t)),lt(this.a)&&(Hu(this,"local").ba(this.f),this.h||(or()||!Vr())&&s.indexedDB||!this.l||function(t){zu(t),t.c=setInterval((function(){for(var e in t.a){var n=s.localStorage.getItem(e),r=t.b[e];n!=r&&(t.b[e]=n,n=new Ke({type:"storage",key:e,target:window,oldValue:r,newValue:n,a:!0}),t.Vb(n))}}),1e3)}(this)),this.a[t]||(this.a[t]=[]),this.a[t].push(n)},t.removeListener=function(t,e,n){t=Gu(t,e),this.a[t]&&(K(this.a[t],(function(t){return t==n})),0==this.a[t].length&&delete this.a[t]),lt(this.a)&&(Hu(this,"local").ha(this.f),zu(this))},t.Vb=function(t){if(t&&t.f){var e=t.a.key;if(null==e)for(var n in this.a){var r=this.b[n];void 0===r&&(r=null);var i=s.localStorage.getItem(n);i!==r&&(this.b[n]=i,this.ib(n))}else if(0==e.indexOf("firebase:")&&this.a[e]){if(void 0!==t.a.a?Hu(this,"local").ha(this.f):zu(this),this.m)if(n=s.localStorage.getItem(e),(r=t.a.newValue)!==n)null!==r?s.localStorage.setItem(e,r):s.localStorage.removeItem(e);else if(this.b[e]===r&&void 0===t.a.a)return;var o=this;n=function(){void 0===t.a.a&&o.b[e]===s.localStorage.getItem(e)||(o.b[e]=s.localStorage.getItem(e),o.ib(e))},zt&&te&&10==te&&s.localStorage.getItem(e)!==t.a.newValue&&t.a.newValue!==t.a.oldValue?setTimeout(n,10):n()}}else q(t,b(this.ib,this))},t.ib=function(t){this.a[t]&&q(this.a[t],(function(t){t()}))};var Ku,$u={name:"authEvent",F:"local"};function Yu(){this.a=qu()}function Qu(t,e){this.b=Ju,this.f=s.Uint8Array?new Uint8Array(this.b):Array(this.b),this.g=this.c=0,this.a=[],this.i=t,this.h=e,this.l=s.Int32Array?new Int32Array(64):Array(64),void 0===Ku&&(Ku=s.Int32Array?new Int32Array(ic):ic),this.reset()}E(Qu,(function(){this.b=-1}));for(var Ju=64,Xu=Ju-1,Zu=[],tc=0;tc<Xu;tc++)Zu[tc]=0;var ec=$(128,Zu);function nc(t){for(var e=t.f,n=t.l,r=0,i=0;i<e.length;)n[r++]=e[i]<<24|e[i+1]<<16|e[i+2]<<8|e[i+3],i=4*r;for(e=16;64>e;e++){var o=(0|n[e-16])+(((i=0|n[e-15])>>>7|i<<25)^(i>>>18|i<<14)^i>>>3)|0,s=(0|n[e-7])+(((r=0|n[e-2])>>>17|r<<15)^(r>>>19|r<<13)^r>>>10)|0;n[e]=o+s|0}r=0|t.a[0],i=0|t.a[1];var a=0|t.a[2],u=0|t.a[3],c=0|t.a[4],h=0|t.a[5],l=0|t.a[6];for(o=0|t.a[7],e=0;64>e;e++){var f=((r>>>2|r<<30)^(r>>>13|r<<19)^(r>>>22|r<<10))+(r&i^r&a^i&a)|0;s=(o=o+((c>>>6|c<<26)^(c>>>11|c<<21)^(c>>>25|c<<7))|0)+((s=(s=c&h^~c&l)+(0|Ku[e])|0)+(0|n[e])|0)|0,o=l,l=h,h=c,c=u+s|0,u=a,a=i,i=r,r=s+f|0}t.a[0]=t.a[0]+r|0,t.a[1]=t.a[1]+i|0,t.a[2]=t.a[2]+a|0,t.a[3]=t.a[3]+u|0,t.a[4]=t.a[4]+c|0,t.a[5]=t.a[5]+h|0,t.a[6]=t.a[6]+l|0,t.a[7]=t.a[7]+o|0}function rc(t,e,n){void 0===n&&(n=e.length);var r=0,i=t.c;if("string"==typeof e)for(;r<n;)t.f[i++]=e.charCodeAt(r++),i==t.b&&(nc(t),i=0);else{if(!l(e))throw Error("message must be string or array");for(;r<n;){var o=e[r++];if(!("number"==typeof o&&0<=o&&255>=o&&o==(0|o)))throw Error("message must be a byte array");t.f[i++]=o,i==t.b&&(nc(t),i=0)}}t.c=i,t.g+=n}Qu.prototype.reset=function(){this.g=this.c=0,this.a=s.Int32Array?new Int32Array(this.h):Y(this.h)};var ic=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function oc(){Qu.call(this,8,sc)}E(oc,Qu);var sc=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225];function ac(t,e,n,r,i){this.u=t,this.i=e,this.l=n,this.m=r||null,this.s=i||null,this.h=e+":"+n,this.w=new Yu,this.g=new Wu(this.h),this.f=null,this.b=[],this.a=this.c=null}function uc(t){return new I("invalid-cordova-configuration",t)}function cc(t,e){for(var n=0;n<t.b.length;n++)try{t.b[n](e)}catch(r){}}function hc(t){return t.f||(t.f=t.ka().then((function(){return new ve((function(e){t.Ca((function n(r){return e(r),t.Qa(n),!1})),function(t){function e(e){r=!0,i&&i.cancel(),lc(t).then((function(r){var i=n;if(r&&e&&e.url){var o=null;-1!=(i=Xi(e.url)).indexOf("/__/auth/callback")&&(o=(o="object"==typeof(o=Pr(Mn(o=Ln(i),"firebaseError")||null))?C(o):null)?new Do(r.c,r.b,null,null,o,null,r.S()):new Do(r.c,r.b,i,r.f,null,null,r.S())),i=o||n}cc(t,i)}))}var n=new Do("unknown",null,null,null,new I("no-auth-event")),r=!1,i=En(500).then((function(){return lc(t).then((function(){r||cc(t,n)}))})),o=s.handleOpenURL;s.handleOpenURL=function(t){if(0==t.toLowerCase().indexOf(Cr("BuildInfo.packageName",s).toLowerCase()+"://")&&e({url:t}),"function"==typeof o)try{o(t)}catch(n){console.error(n)}},Uo||(Uo=new Lo),function(t){var e=Uo;e.a.push(t),e.b||(e.b=function(t){for(var n=0;n<e.a.length;n++)e.a[n](t)},"function"==typeof(t=Cr("universalLinks.subscribe",s))&&t(null,e.b))}(e)}(t)}))}))),t.f}function lc(t){var e=null;return function(t){return t.b.get($u,t.a).then((function(t){return Mo(t)}))}(t.g).then((function(n){return e=n,Bu((n=t.g).b,$u,n.a)})).then((function(){return e}))}function fc(t){this.a=t,this.b=qu()}(t=ac.prototype).ka=function(){return this.Ga?this.Ga:this.Ga=(pr(void 0)?dr().then((function(){return new ve((function(t,e){var n=s.document,r=setTimeout((function(){e(Error("Cordova framework is not ready."))}),1e3);n.addEventListener("deviceready",(function(){clearTimeout(r),t()}),!1)}))})):Te(Error("Cordova must run in an Android or iOS file scheme."))).then((function(){if("function"!=typeof Cr("universalLinks.subscribe",s))throw uc("cordova-universal-links-plugin-fix is not installed");if(void 0===Cr("BuildInfo.packageName",s))throw uc("cordova-plugin-buildinfo is not installed");if("function"!=typeof Cr("cordova.plugins.browsertab.openUrl",s))throw uc("cordova-plugin-browsertab is not installed");if("function"!=typeof Cr("cordova.InAppBrowser.open",s))throw uc("cordova-plugin-inappbrowser is not installed")}),(function(){throw new I("cordova-not-ready")}))},t.Lb=function(t,e){return e(new I("operation-not-supported-in-this-environment")),Ce()},t.Jb=function(){return Te(new I("operation-not-supported-in-this-environment"))},t.Xb=function(){return!1},t.Ub=function(){return!0},t.Qb=function(){return!0},t.Kb=function(t,e,n,r){if(this.c)return Te(new I("redirect-operation-pending"));var i=this,o=s.document,a=null,u=null,c=null,h=null;return this.c=Ce().then((function(){return Ro(e),hc(i)})).then((function(){return function(t,e,n,r,i){var o=function(){for(var t=20,e=[];0<t;)e.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),t--;return e.join("")}(),a=new Do(e,r,null,o,new I("no-auth-event"),null,i),u=Cr("BuildInfo.packageName",s);if("string"!=typeof u)throw new I("invalid-cordova-configuration");var c=Cr("BuildInfo.displayName",s),h={};if(Ir().toLowerCase().match(/iphone|ipad|ipod/))h.ibi=u;else{if(!Ir().toLowerCase().match(/android/))return Te(new I("operation-not-supported-in-this-environment"));h.apn=u}c&&(h.appDisplayName=c),o=function(t){var e=new oc;rc(e,t),t=[];var n=8*e.g;rc(e,ec,56>e.c?56-e.c:e.b-(e.c-56));for(var r=63;56<=r;r--)e.f[r]=255&n,n/=256;for(nc(e),r=n=0;r<e.i;r++)for(var i=24;0<=i;i-=8)t[n++]=e.a[r]>>i&255;return function(t){return G(t,(function(t){return 1<(t=t.toString(16)).length?t:"0"+t})).join("")}(t)}(o),h.sessionId=o;var l=su(t.u,t.i,t.l,e,n,null,r,t.m,h,t.s,i);return t.ka().then((function(){var e=t.h;return t.w.a.set($u,a.v(),e)})).then((function(){var e=Cr("cordova.plugins.browsertab.isAvailable",s);if("function"!=typeof e)throw new I("invalid-cordova-configuration");var n=null;e((function(e){if(e){if("function"!=typeof(n=Cr("cordova.plugins.browsertab.openUrl",s)))throw new I("invalid-cordova-configuration");n(l)}else{if("function"!=typeof(n=Cr("cordova.InAppBrowser.open",s)))throw new I("invalid-cordova-configuration");e=Ir(),t.a=n(l,e.match(/(iPad|iPhone|iPod).*OS 7_\d/i)||e.match(/(iPad|iPhone|iPod).*OS 8_\d/i)?"_blank":"_system","location=yes")}}))}))}(i,t,e,n,r)})).then((function(){return new ve((function(t,e){u=function(){var e=Cr("cordova.plugins.browsertab.close",s);return t(),"function"==typeof e&&e(),i.a&&"function"==typeof i.a.close&&(i.a.close(),i.a=null),!1},i.Ca(u),h=function(){jr()&&c()},o.addEventListener("resume",c=function(){a||(a=En(2e3).then((function(){e(new I("redirect-cancelled-by-user"))})))},!1),Ir().toLowerCase().match(/android/)||o.addEventListener("visibilitychange",h,!1)})).o((function(t){return lc(i).then((function(){throw t}))}))})).ma((function(){c&&o.removeEventListener("resume",c,!1),h&&o.removeEventListener("visibilitychange",h,!1),a&&a.cancel(),u&&i.Qa(u),i.c=null}))},t.Ca=function(t){this.b.push(t),hc(this).o((function(e){"auth/invalid-cordova-configuration"===e.code&&(e=new Do("unknown",null,null,null,new I("no-auth-event")),t(e))}))},t.Qa=function(t){K(this.b,(function(e){return e==t}))};var dc={name:"pendingRedirect",F:"session"};function pc(t){return Bu(t.b,dc,t.a)}function gc(t,e,n){this.i={},this.w=0,this.D=t,this.u=e,this.m=n,this.h=[],this.f=!1,this.l=b(this.s,this),this.b=new Nc,this.B=new Dc,this.g=new fc(this.u+":"+this.m),this.c={},this.c.unknown=this.b,this.c.signInViaRedirect=this.b,this.c.linkViaRedirect=this.b,this.c.reauthViaRedirect=this.b,this.c.signInViaPopup=this.B,this.c.linkViaPopup=this.B,this.c.reauthViaPopup=this.B,this.a=mc(this.D,this.u,this.m,T)}function mc(t,e,n,r){var i=Pn.a.SDK_VERSION||null;return pr()?new ac(t,e,n,i,r):new nu(t,e,n,i,r)}function vc(t){t.f||(t.f=!0,t.a.Ca(t.l));var e=t.a;return t.a.ka().o((function(n){throw t.a==e&&t.reset(),n}))}function yc(t){t.a.Ub()&&vc(t).o((function(e){var n=new Do("unknown",null,null,null,new I("operation-not-supported-in-this-environment"));Cc(e)&&t.s(n)})),t.a.Qb()||kc(t.b)}function bc(t,e){z(t.h,e)||t.h.push(e),t.f||function(t){return t.b.get(dc,t.a).then((function(t){return"pending"==t}))}(t.g).then((function(e){e?pc(t.g).then((function(){vc(t).o((function(e){var n=new Do("unknown",null,null,null,new I("operation-not-supported-in-this-environment"));Cc(e)&&t.s(n)}))})):yc(t)})).o((function(){yc(t)}))}function wc(t,e){K(t.h,(function(t){return t==e}))}gc.prototype.reset=function(){this.f=!1,this.a.Qa(this.l),this.a=mc(this.D,this.u,this.m),this.i={}},gc.prototype.s=function(t){if(!t)throw new I("invalid-auth-event");if(6e5<=_()-this.w&&(this.i={},this.w=0),t&&t.getUid()&&this.i.hasOwnProperty(t.getUid()))return!1;for(var e=!1,n=0;n<this.h.length;n++){var r=this.h[n];if(r.Cb(t.c,t.b)){(e=this.c[t.c])&&(e.h(t,r),t&&(t.f||t.b)&&(this.i[t.getUid()]=!0,this.w=_())),e=!0;break}}return kc(this.b),e};var _c=new Lr(2e3,1e4),Ec=new Lr(3e4,6e4);function Ic(t,e,n,r,i,o,s){return t.a.Jb(e,n,r,(function(){t.f||(t.f=!0,t.a.Ca(t.l))}),(function(){t.reset()}),i,o,s)}function Cc(t){return!(!t||"auth/cordova-not-ready"!=t.code)}function Tc(t,e,n,r,i){var o;return function(t){return t.b.set(dc,"pending",t.a)}(t.g).then((function(){return t.a.Kb(e,n,r,i).o((function(e){if(Cc(e))throw new I("operation-not-supported-in-this-environment");return o=e,pc(t.g).then((function(){throw o}))})).then((function(){return t.a.Xb()?new ve((function(){})):pc(t.g).then((function(){return t.pa()})).then((function(){})).o((function(){}))}))}))}function Sc(t,e,n,r,i){return t.a.Lb(r,(function(t){e.la(n,null,t,i)}),_c.get())}gc.prototype.pa=function(){return this.b.pa()};var Ac={};function Oc(t,e,n){var r=e+":"+n;return Ac[r]||(Ac[r]=new gc(t,e,n)),Ac[r]}function Nc(){this.b=null,this.f=[],this.c=[],this.a=null,this.i=this.g=!1}function kc(t){t.g||(t.g=!0,Rc(t,!1,null,null))}function xc(t){t.g&&!t.i&&Rc(t,!1,null,null)}function Pc(t,e){if(t.b=function(){return Ce(e)},t.f.length)for(var n=0;n<t.f.length;n++)t.f[n](e)}function Rc(t,e,n,r){e?r?function(t,e){if(t.b=function(){return Te(e)},t.c.length)for(var n=0;n<t.c.length;n++)t.c[n](e)}(t,r):Pc(t,n):Pc(t,{user:null}),t.f=[],t.c=[]}function Dc(){}function Mc(){this.Bb=!1,Object.defineProperty(this,"appVerificationDisabled",{get:function(){return this.Bb},set:function(t){this.Bb=t},enumerable:!1})}function Lc(t,e){this.a=e,Br(this,"verificationId",t)}function jc(t,e,n,r){return new ko(t).cb(e,n).then((function(t){return new Lc(t,r)}))}function Uc(t){var e=Ui(t);if(!(e&&e.exp&&e.auth_time&&e.iat))throw new I("internal-error","An internal error occurred. The token obtained by Firebase appears to be malformed. Please retry the operation.");zr(this,{token:t,expirationTime:Ur(1e3*e.exp),authTime:Ur(1e3*e.auth_time),issuedAtTime:Ur(1e3*e.iat),signInProvider:e.firebase&&e.firebase.sign_in_provider?e.firebase.sign_in_provider:null,signInSecondFactor:e.firebase&&e.firebase.sign_in_second_factor?e.firebase.sign_in_second_factor:null,claims:e})}function Vc(t,e,n){var r=e&&e[qc];if(!r)throw new I("argument-error","Internal assert: Invalid MultiFactorResolver");this.a=t,this.f=ft(e),this.g=n,this.c=new Zi(null,r),this.b=[];var i=this;q(e[Fc]||[],(function(t){(t=Yr(t))&&i.b.push(t)})),Br(this,"auth",this.a),Br(this,"session",this.c),Br(this,"hints",this.b)}Nc.prototype.reset=function(){this.b=null,this.a&&(this.a.cancel(),this.a=null)},Nc.prototype.h=function(t,e){if(t){this.reset(),this.g=!0;var n=t.c,r=t.b,i=t.a&&"auth/web-storage-unsupported"==t.a.code,o=t.a&&"auth/operation-not-supported-in-this-environment"==t.a.code;this.i=!(!i&&!o),"unknown"!=n||i||o?t.a?(Rc(this,!0,null,t.a),Ce()):e.Da(n,r)?function(t,e,n){n=n.Da(e.c,e.b);var r=e.g,i=e.f,o=e.i,s=e.S(),a=!!e.c.match(/Redirect$/);n(r,i,s,o).then((function(e){Rc(t,a,e,null)})).o((function(e){Rc(t,a,null,e)}))}(this,t,e):Te(new I("invalid-auth-event")):(Rc(this,!1,null,null),Ce())}else Te(new I("invalid-auth-event"))},Nc.prototype.pa=function(){var t=this;return new ve((function(e,n){t.b?t.b().then(e,n):(t.f.push(e),t.c.push(n),function(t){var e=new I("timeout");t.a&&t.a.cancel(),t.a=En(Ec.get()).then((function(){t.b||(t.g=!0,Rc(t,!0,null,e))}))}(t))}))},Dc.prototype.h=function(t,e){if(t){var n=t.c,r=t.b;t.a?(e.la(t.c,null,t.a,t.b),Ce()):e.Da(n,r)?function(t,e){var n=t.b,r=t.c;e.Da(r,n)(t.g,t.f,t.S(),t.i).then((function(t){e.la(r,t,null,n)})).o((function(t){e.la(r,null,t,n)}))}(t,e):Te(new I("invalid-auth-event"))}else Te(new I("invalid-auth-event"))},Lc.prototype.confirm=function(t){return t=xo(this.verificationId,t),this.a(t)};var Fc="mfaInfo",qc="mfaPendingCredential";function Hc(t,e,n,r){I.call(this,"multi-factor-auth-required",r,e),this.b=new Vc(t,e,n),Br(this,"resolver",this.b)}function Gc(t,e,n){if(t&&d(t.serverResponse)&&"auth/multi-factor-auth-required"===t.code)try{return new Hc(e,t.serverResponse,n,t.message)}catch(r){}return null}function Bc(){}function zc(t){Br(this,"factorId",t.ea),this.a=t}function Wc(t){if(zc.call(this,t),this.a.ea!=ko.PROVIDER_ID)throw new I("argument-error","firebase.auth.PhoneMultiFactorAssertion requires a valid firebase.auth.PhoneAuthCredential")}function Kc(t,e){for(var n in We.call(this,t),e)this[n]=e[n]}function $c(t,e){this.a=t,this.b=[],this.c=b(this.wc,this),on(this.a,"userReloaded",this.c);var n=[];e&&e.multiFactor&&e.multiFactor.enrolledFactors&&q(e.multiFactor.enrolledFactors,(function(t){var e=null,r={};if(t){t.uid&&(r[Xr]=t.uid),t.displayName&&(r[Qr]=t.displayName),t.enrollmentTime&&(r[Jr]=new Date(t.enrollmentTime).toISOString()),t.phoneNumber&&(r[Zr]=t.phoneNumber);try{e=new ti(r)}catch(i){}t=e}else t=null;t&&n.push(t)})),Yc(this,n)}function Yc(t,e){t.b=e,Br(t,"enrolledFactors",e)}function Qc(t,e,n){if(this.h=t,this.i=e,this.g=n,this.c=3e4,this.f=96e4,this.b=null,this.a=this.c,this.f<this.c)throw Error("Proactive refresh lower bound greater than upper bound!")}function Jc(t){this.c=t,this.b=this.a=null}function Xc(t){return t.b&&1e3*t.b.c||0}function Zc(t,e){var n=e.refreshToken;t.b=ji(e[Gs]||""),t.a=n}function th(t,e){this.a=t||null,this.b=e||null,zr(this,{lastSignInTime:Ur(e||null),creationTime:Ur(t||null)})}function eh(t,e,n,r,i,o){zr(this,{uid:t,displayName:r||null,photoURL:i||null,email:n||null,phoneNumber:o||null,providerId:e})}function nh(t,e,n){this.N=[],this.l=t.apiKey,this.m=t.appName,this.s=t.authDomain||null,t=Pn.a.SDK_VERSION?Er(Pn.a.SDK_VERSION):null,this.a=new qs(this.l,N(T),t),this.b=new Jc(this.a),ch(this,e[Gs]),Zc(this.b,e),Br(this,"refreshToken",this.b.a),fh(this,n||{}),vn.call(this),this.P=!1,this.s&&Sr()&&(this.i=Oc(this.s,this.l,this.m)),this.R=[],this.h=null,this.B=function(t){return new Qc((function(){return t.I(!0)}),(function(t){return!(!t||"auth/network-request-failed"!=t.code)}),(function(){var e=Xc(t.b)-_()-3e5;return 0<e?e:0}))}(this),this.Z=b(this.Ma,this);var r=this;this.oa=null,this.za=function(t){r.va(t.g)},this.aa=null,this.W=[],this.ya=function(t){ih(r,t.c)},this.$=null,this.O=new $c(this,n),Br(this,"multiFactor",this.O)}function rh(t,e){t.aa&&un(t.aa,"languageCodeChanged",t.za),(t.aa=e)&&on(e,"languageCodeChanged",t.za)}function ih(t,e){t.W=e,Ys(t.a,Pn.a.SDK_VERSION?Er(Pn.a.SDK_VERSION,t.W):null)}function oh(t,e){t.$&&un(t.$,"frameworkChanged",t.ya),(t.$=e)&&on(e,"frameworkChanged",t.ya)}function sh(t){try{return Pn.a.app(t.m).auth()}catch(e){throw new I("internal-error","No firebase.auth.Auth instance is available for the Firebase App '"+t.m+"'!")}}function ah(t){t.D||t.B.b||(t.B.start(),un(t,"tokenChanged",t.Z),on(t,"tokenChanged",t.Z))}function uh(t){un(t,"tokenChanged",t.Z),t.B.stop()}function ch(t,e){t.xa=e,Br(t,"_lat",e)}function hh(t){for(var e=[],n=0;n<t.R.length;n++)e.push(t.R[n](t));return Ae(e).then((function(){return t}))}function lh(t){t.i&&!t.P&&(t.P=!0,bc(t.i,t))}function fh(t,e){zr(t,{uid:e.uid,displayName:e.displayName||null,photoURL:e.photoURL||null,email:e.email||null,emailVerified:e.emailVerified||!1,phoneNumber:e.phoneNumber||null,isAnonymous:e.isAnonymous||!1,tenantId:e.tenantId||null,metadata:new th(e.createdAt,e.lastLoginAt),providerData:[]}),t.a.b=t.tenantId}function dh(){}function ph(t){return Ce().then((function(){if(t.D)throw new I("app-deleted")}))}function gh(t){return G(t.providerData,(function(t){return t.providerId}))}function mh(t,e){e&&(vh(t,e.providerId),t.providerData.push(e))}function vh(t,e){K(t.providerData,(function(t){return t.providerId==e}))}function yh(t,e,n){("uid"!=e||n)&&t.hasOwnProperty(e)&&Br(t,e,n)}function bh(t,e){t!=e&&(zr(t,{uid:e.uid,displayName:e.displayName,photoURL:e.photoURL,email:e.email,emailVerified:e.emailVerified,phoneNumber:e.phoneNumber,isAnonymous:e.isAnonymous,tenantId:e.tenantId,providerData:[]}),Br(t,"metadata",e.metadata?function(t){return new th(t.a,t.b)}(e.metadata):new th),q(e.providerData,(function(e){mh(t,e)})),function(t,e){t.b=e.b,t.a=e.a}(t.b,e.b),Br(t,"refreshToken",t.b.a),Yc(t.O,e.O.b))}function wh(t){return t.I().then((function(e){var n=t.isAnonymous;return function(t,e){return za(t.a,Ea,{idToken:e}).then(b(t.Ic,t))}(t,e).then((function(){return n||yh(t,"isAnonymous",!1),e}))}))}function _h(t,e){e[Gs]&&t.xa!=e[Gs]&&(Zc(t.b,e),t.dispatchEvent(new Kc("tokenChanged")),ch(t,e[Gs]),yh(t,"refreshToken",t.b.a))}function Eh(t,e){return wh(t).then((function(){if(z(gh(t),e))return hh(t).then((function(){throw new I("provider-already-linked")}))}))}function Ih(t,e,n){return Wr({user:t,credential:Po(e),additionalUserInfo:e=Gi(e),operationType:n})}function Ch(t,e){return _h(t,e),t.reload().then((function(){return t}))}function Th(t,e,n,r,i){if(!Sr())return Te(new I("operation-not-supported-in-this-environment"));if(t.h&&!i)return Te(t.h);var o=Hi(n.providerId),s=Rr(t.uid+":::"),a=null;(!Nr()||gr())&&t.s&&n.isOAuthProvider&&(a=su(t.s,t.l,t.m,e,n,null,s,Pn.a.SDK_VERSION||null,null,null,t.tenantId));var u=hr(a,o&&o.ta,o&&o.sa);return r=r().then((function(){if(Ah(t),!i)return t.I().then((function(){}))})).then((function(){return Ic(t.i,u,e,n,s,!!a,t.tenantId)})).then((function(){return new ve((function(n,r){t.la(e,null,new I("cancelled-popup-request"),t.g||null),t.f=n,t.w=r,t.g=s,t.c=Sc(t.i,t,e,u,s)}))})).then((function(t){return u&&cr(u),t?Wr(t):null})).o((function(t){throw u&&cr(u),t})),Oh(t,r,i)}function Sh(t,e,n,r,i){if(!Sr())return Te(new I("operation-not-supported-in-this-environment"));if(t.h&&!i)return Te(t.h);var o=null,s=Rr(t.uid+":::");return r=r().then((function(){if(Ah(t),!i)return t.I().then((function(){}))})).then((function(){return t.fa=s,hh(t)})).then((function(e){return t.ga&&(e=(e=t.ga).b.set(xh,t.v(),e.a)),e})).then((function(){return Tc(t.i,e,n,s,t.tenantId)})).o((function(e){if(o=e,t.ga)return Ph(t.ga);throw o})).then((function(){if(o)throw o})),Oh(t,r,i)}function Ah(t){if(!t.i||!t.P){if(t.i&&!t.P)throw new I("internal-error");throw new I("auth-domain-config-required")}}function Oh(t,e,n){var r=function(t,e,n){return t.h&&!n?(e.cancel(),Te(t.h)):e.o((function(e){throw!e||"auth/user-disabled"!=e.code&&"auth/user-token-expired"!=e.code||(t.h||t.dispatchEvent(new Kc("userInvalidated")),t.h=e),e}))}(t,e,n);return t.N.push(r),r.ma((function(){W(t.N,r)})),r.o((function(e){var n=null;throw e&&"auth/multi-factor-auth-required"===e.code&&(n=Gc(e.v(),sh(t),b(t.hc,t))),n||e}))}function Nh(t){if(!t.apiKey)return null;var e={apiKey:t.apiKey,authDomain:t.authDomain,appName:t.appName},n={};if(!t.stsTokenManager||!t.stsTokenManager.accessToken)return null;n[Gs]=t.stsTokenManager.accessToken,n.refreshToken=t.stsTokenManager.refreshToken||null;var r=new nh(e,n,t);return t.providerData&&q(t.providerData,(function(t){t&&mh(r,Wr(t))})),t.redirectEventId&&(r.fa=t.redirectEventId),r}function kh(t){this.a=t,this.b=qu()}Vc.prototype.Pc=function(t){var e=this;return t.ob(this.a.b,this.c).then((function(t){var n=ft(e.f);return delete n[Fc],delete n[qc],pt(n,t),e.g(n)}))},E(Hc,I),Bc.prototype.ob=function(t,e,n){return e.type==to?function(t,e,n,r){return n.Fa().then((function(n){return n={idToken:n},void 0!==r&&(n.displayName=r),pt(n,{phoneVerificationInfo:No(t.a)}),za(e,wa,n)}))}(this,t,e,n):function(t,e,n){return n.Fa().then((function(n){return pt(n={mfaPendingCredential:n},{phoneVerificationInfo:No(t.a)}),za(e,_a,n)}))}(this,t,e)},E(zc,Bc),E(Wc,zc),E(Kc,We),(t=$c.prototype).wc=function(t){Yc(this,function(t){var e=[];return q(t.mfaInfo||[],(function(t){(t=Yr(t))&&e.push(t)})),e}(t.ed))},t.Ob=function(){return this.a.I().then((function(t){return new Zi(t,null)}))},t.dc=function(t,e){var n=this,r=this.a.a;return this.Ob().then((function(n){return t.ob(r,n,e)})).then((function(t){return _h(n.a,t),n.a.reload()}))},t.$c=function(t){var e=this,n="string"==typeof t?t:t.uid,r=this.a.a;return this.a.I().then((function(t){return za(r,Ba,{idToken:t,mfaEnrollmentId:n})})).then((function(t){var r=H(e.b,(function(t){return t.uid!=n}));return Yc(e,r),_h(e.a,t),e.a.reload().o((function(t){if("auth/user-token-expired"!=t.code)throw t}))}))},t.v=function(){return{multiFactor:{enrolledFactors:G(this.b,(function(t){return t.v()}))}}},Qc.prototype.start=function(){this.a=this.c,function t(e,n){e.stop(),e.b=En(function(t,e){return e?(t.a=t.c,t.g()):(e=t.a,t.a*=2,t.a>t.f&&(t.a=t.f),e)}(e,n)).then((function(){return function(){var t=s.document,e=null;return jr()||!t?Ce():new ve((function(n){e=function(){jr()&&(t.removeEventListener("visibilitychange",e,!1),n())},t.addEventListener("visibilitychange",e,!1)})).o((function(n){throw t.removeEventListener("visibilitychange",e,!1),n}))}()})).then((function(){return e.h()})).then((function(){t(e,!0)})).o((function(n){e.i(n)&&t(e,!1)}))}(this,!0)},Qc.prototype.stop=function(){this.b&&(this.b.cancel(),this.b=null)},Jc.prototype.v=function(){return{apiKey:this.c.c,refreshToken:this.a,accessToken:this.b&&this.b.toString(),expirationTime:Xc(this)}},Jc.prototype.getToken=function(t){return t=!!t,this.b&&!this.a?Te(new I("user-token-expired")):t||!this.b||_()>Xc(this)-3e4?this.a?function(t,e){return function(t,e){return new ve((function(n,r){"refresh_token"==e.grant_type&&e.refresh_token||"authorization_code"==e.grant_type&&e.code?Qs(t,t.u+"?key="+encodeURIComponent(t.c),(function(t){t?t.error?r(Ka(t)):t.access_token&&t.refresh_token?n(t):r(new I("internal-error")):r(new I("network-request-failed"))}),"POST",$n(e).toString(),t.g,t.m.get()):r(new I("internal-error"))}))}(t.c,e).then((function(e){return t.b=ji(e.access_token),t.a=e.refresh_token,{accessToken:t.b.toString(),refreshToken:t.a}})).o((function(e){throw"auth/user-token-expired"==e.code&&(t.a=null),e}))}(this,{grant_type:"refresh_token",refresh_token:this.a}):Ce(null):Ce({accessToken:this.b.toString(),refreshToken:this.a})},th.prototype.v=function(){return{lastLoginAt:this.b,createdAt:this.a}},E(nh,vn),nh.prototype.va=function(t){this.oa=t,$s(this.a,t)},nh.prototype.ja=function(){return this.oa},nh.prototype.Ea=function(){return Y(this.W)},nh.prototype.Ma=function(){this.B.b&&(this.B.stop(),this.B.start())},Br(nh.prototype,"providerId","firebase"),(t=nh.prototype).reload=function(){var t=this;return Oh(this,ph(this).then((function(){return wh(t).then((function(){return hh(t)})).then(dh)})))},t.mc=function(t){return this.I(t).then((function(t){return new Uc(t)}))},t.I=function(t){var e=this;return Oh(this,ph(this).then((function(){return e.b.getToken(t)})).then((function(t){if(!t)throw new I("internal-error");return t.accessToken!=e.xa&&(ch(e,t.accessToken),e.dispatchEvent(new Kc("tokenChanged"))),yh(e,"refreshToken",t.refreshToken),t.accessToken})))},t.Ic=function(t){if(!(t=t.users)||!t.length)throw new I("internal-error");fh(this,{uid:(t=t[0]).localId,displayName:t.displayName,photoURL:t.photoUrl,email:t.email,emailVerified:!!t.emailVerified,phoneNumber:t.phoneNumber,lastLoginAt:t.lastLoginAt,createdAt:t.createdAt,tenantId:t.tenantId});for(var e=function(t){return(t=t.providerUserInfo)&&t.length?G(t,(function(t){return new eh(t.rawId,t.providerId,t.email,t.displayName,t.photoUrl,t.phoneNumber)})):[]}(t),n=0;n<e.length;n++)mh(this,e[n]);yh(this,"isAnonymous",!(this.email&&t.passwordHash||this.providerData&&this.providerData.length)),this.dispatchEvent(new Kc("userReloaded",{ed:t}))},t.Jc=function(t){return Hr("firebase.User.prototype.reauthenticateAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.reauthenticateWithCredential instead."),this.pb(t)},t.pb=function(t){var e=this,n=null;return Oh(this,t.c(this.a,this.uid).then((function(t){return _h(e,t),n=Ih(e,t,"reauthenticate"),e.h=null,e.reload()})).then((function(){return n})),!0)},t.Ac=function(t){return Hr("firebase.User.prototype.linkAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.linkWithCredential instead."),this.mb(t)},t.mb=function(t){var e=this,n=null;return Oh(this,Eh(this,t.providerId).then((function(){return e.I()})).then((function(n){return t.b(e.a,n)})).then((function(t){return n=Ih(e,t,"link"),Ch(e,t)})).then((function(){return n})))},t.Bc=function(t,e){var n=this;return Oh(this,Eh(this,"phone").then((function(){return jc(sh(n),t,e,b(n.mb,n))})))},t.Kc=function(t,e){var n=this;return Oh(this,Ce().then((function(){return jc(sh(n),t,e,b(n.pb,n))})),!0)},t.xb=function(t){var e=this;return Oh(this,this.I().then((function(n){return e.a.xb(n,t)})).then((function(t){return _h(e,t),e.reload()})))},t.cd=function(t){var e=this;return Oh(this,this.I().then((function(n){return t.b(e.a,n)})).then((function(t){return _h(e,t),e.reload()})))},t.yb=function(t){var e=this;return Oh(this,this.I().then((function(n){return e.a.yb(n,t)})).then((function(t){return _h(e,t),e.reload()})))},t.zb=function(t){if(void 0===t.displayName&&void 0===t.photoURL)return ph(this);var e=this;return Oh(this,this.I().then((function(n){return e.a.zb(n,{displayName:t.displayName,photoUrl:t.photoURL})})).then((function(t){return _h(e,t),yh(e,"displayName",t.displayName||null),yh(e,"photoURL",t.photoUrl||null),q(e.providerData,(function(t){"password"===t.providerId&&(Br(t,"displayName",e.displayName),Br(t,"photoURL",e.photoURL))})),hh(e)})).then(dh))},t.ad=function(t){var e=this;return Oh(this,wh(this).then((function(n){return z(gh(e),t)?function(t,e,n){return za(t,va,{idToken:e,deleteProvider:n})}(e.a,n,[t]).then((function(t){var n={};return q(t.providerUserInfo||[],(function(t){n[t.providerId]=!0})),q(gh(e),(function(t){n[t]||vh(e,t)})),n[ko.PROVIDER_ID]||Br(e,"phoneNumber",null),hh(e)})):hh(e).then((function(){throw new I("no-such-provider")}))})))},t.delete=function(){var t=this;return Oh(this,this.I().then((function(e){return za(t.a,ma,{idToken:e})})).then((function(){t.dispatchEvent(new Kc("userDeleted"))}))).then((function(){for(var e=0;e<t.N.length;e++)t.N[e].cancel("app-deleted");rh(t,null),oh(t,null),t.N=[],t.D=!0,uh(t),Br(t,"refreshToken",null),t.i&&wc(t.i,t)}))},t.Cb=function(t,e){return!!("linkViaPopup"==t&&(this.g||null)==e&&this.f||"reauthViaPopup"==t&&(this.g||null)==e&&this.f||"linkViaRedirect"==t&&(this.fa||null)==e||"reauthViaRedirect"==t&&(this.fa||null)==e)},t.la=function(t,e,n,r){"linkViaPopup"!=t&&"reauthViaPopup"!=t||r!=(this.g||null)||(n&&this.w?this.w(n):e&&!n&&this.f&&this.f(e),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.w)},t.Da=function(t,e){return"linkViaPopup"==t&&e==(this.g||null)?b(this.Hb,this):"reauthViaPopup"==t&&e==(this.g||null)?b(this.Ib,this):"linkViaRedirect"==t&&(this.fa||null)==e?b(this.Hb,this):"reauthViaRedirect"==t&&(this.fa||null)==e?b(this.Ib,this):null},t.Cc=function(t){var e=this;return Th(this,"linkViaPopup",t,(function(){return Eh(e,t.providerId).then((function(){return hh(e)}))}),!1)},t.Lc=function(t){return Th(this,"reauthViaPopup",t,(function(){return Ce()}),!0)},t.Dc=function(t){var e=this;return Sh(this,"linkViaRedirect",t,(function(){return Eh(e,t.providerId)}),!1)},t.Mc=function(t){return Sh(this,"reauthViaRedirect",t,(function(){return Ce()}),!0)},t.Hb=function(t,e,n,r){var i=this;this.c&&(this.c.cancel(),this.c=null);var o=null;return Oh(this,this.I().then((function(n){return ca(i.a,{requestUri:t,postBody:r,sessionId:e,idToken:n})})).then((function(t){return o=Ih(i,t,"link"),Ch(i,t)})).then((function(){return o})))},t.Ib=function(t,e,n,r){var i=this;this.c&&(this.c.cancel(),this.c=null);var o=null;return Oh(this,Ce().then((function(){return ro(ha(i.a,{requestUri:t,sessionId:e,postBody:r,tenantId:n}),i.uid)})).then((function(t){return o=Ih(i,t,"reauthenticate"),_h(i,t),i.h=null,i.reload()})).then((function(){return o})),!0)},t.qb=function(t){var e=this,n=null;return Oh(this,this.I().then((function(e){return n=e,void 0===t||lt(t)?{}:Di(new Ci(t))})).then((function(t){return e.a.qb(n,t)})).then((function(t){if(e.email!=t)return e.reload()})).then((function(){})))},t.Ab=function(t,e){var n=this,r=null;return Oh(this,this.I().then((function(t){return r=t,void 0===e||lt(e)?{}:Di(new Ci(e))})).then((function(e){return n.a.Ab(r,t,e)})).then((function(t){if(n.email!=t)return n.reload()})).then((function(){})))},t.hc=function(t){var e=null,n=this;return Oh(this,t=ro(Ce(t),n.uid).then((function(t){return e=Ih(n,t,"reauthenticate"),_h(n,t),n.h=null,n.reload()})).then((function(){return e})),!0)},t.toJSON=function(){return this.v()},t.v=function(){var t={uid:this.uid,displayName:this.displayName,photoURL:this.photoURL,email:this.email,emailVerified:this.emailVerified,phoneNumber:this.phoneNumber,isAnonymous:this.isAnonymous,tenantId:this.tenantId,providerData:[],apiKey:this.l,appName:this.m,authDomain:this.s,stsTokenManager:this.b.v(),redirectEventId:this.fa||null};return this.metadata&&pt(t,this.metadata.v()),q(this.providerData,(function(e){t.providerData.push(function(t){var e,n={};for(e in t)t.hasOwnProperty(e)&&(n[e]=t[e]);return n}(e))})),pt(t,this.O.v()),t};var xh={name:"redirectUser",F:"session"};function Ph(t){return Bu(t.b,xh,t.a)}function Rh(t){this.a=t,this.b=qu(),this.c=null,this.f=function(t){var e=Lh("local"),n=Lh("session"),r=Lh("none");return function(t,e,n){var r=Gu(e,n),i=Hu(t,e.F);return t.get(e,n).then((function(o){var a=null;try{a=Pr(s.localStorage.getItem(r))}catch(u){}if(a&&!o)return s.localStorage.removeItem(r),t.set(e,a,n);a&&o&&"localStorage"!=i.type&&s.localStorage.removeItem(r)}))}(t.b,e,t.a).then((function(){return t.b.get(n,t.a)})).then((function(i){return i?n:t.b.get(r,t.a).then((function(n){return n?r:t.b.get(e,t.a).then((function(n){return n?e:t.b.get(Mh,t.a).then((function(t){return t?Lh(t):e}))}))}))})).then((function(e){return t.c=e,Dh(t,e.F)})).o((function(){t.c||(t.c=e)}))}(this),this.b.addListener(Lh("local"),this.a,b(this.g,this))}function Dh(t,e){var n,r=[];for(n in Vu)Vu[n]!==e&&r.push(Bu(t.b,Lh(Vu[n]),t.a));return r.push(Bu(t.b,Mh,t.a)),function(t){return new ve((function(e,n){var r=t.length,i=[];if(r)for(var o=function(t,n){r--,i[t]=n,0==r&&e(i)},s=function(t){n(t)},a=0;a<t.length;a++)Se(t[a],w(o,a),s);else e(i)}))}(r)}Rh.prototype.g=function(){var t=this,e=Lh("local");Fh(this,(function(){return Ce().then((function(){return t.c&&"local"!=t.c.F?t.b.get(e,t.a):null})).then((function(n){if(n)return Dh(t,"local").then((function(){t.c=e}))}))}))};var Mh={name:"persistence",F:"session"};function Lh(t){return{name:"authUser",F:t}}function jh(t,e){return Fh(t,(function(){return t.b.set(t.c,e.v(),t.a)}))}function Uh(t){return Fh(t,(function(){return Bu(t.b,t.c,t.a)}))}function Vh(t,e){return Fh(t,(function(){return t.b.get(t.c,t.a).then((function(t){return t&&e&&(t.authDomain=e),Nh(t||{})}))}))}function Fh(t,e){return t.f=t.f.then(e,e),t.f}function qh(t){if(this.l=!1,Br(this,"settings",new Mc),Br(this,"app",t),!$h(this).options||!$h(this).options.apiKey)throw new I("invalid-api-key");t=Pn.a.SDK_VERSION?Er(Pn.a.SDK_VERSION):null,this.b=new qs($h(this).options&&$h(this).options.apiKey,N(T),t),this.P=[],this.m=[],this.O=[],this.$b=Pn.a.INTERNAL.createSubscribe(b(this.xc,this)),this.W=void 0,this.ac=Pn.a.INTERNAL.createSubscribe(b(this.yc,this)),Wh(this,null),this.i=new Rh($h(this).options.apiKey+":"+$h(this).name),this.B=new kh($h(this).options.apiKey+":"+$h(this).name),this.Z=Xh(this,function(t){var e=$h(t).options.authDomain,n=function(t){var e=function(t,e){return t.b.get(xh,t.a).then((function(t){return t&&e&&(t.authDomain=e),Nh(t||{})}))}(t.B,$h(t).options.authDomain).then((function(e){return(t.D=e)&&(e.ga=t.B),Ph(t.B)}));return Xh(t,e)}(t).then((function(){return Vh(t.i,e)})).then((function(e){return e?(e.ga=t.B,t.D&&(t.D.fa||null)==(e.fa||null)?e:e.reload().then((function(){return jh(t.i,e).then((function(){return e}))})).o((function(n){return"auth/network-request-failed"==n.code?e:Uh(t.i)}))):null})).then((function(e){Wh(t,e||null)}));return Xh(t,n)}(this)),this.h=Xh(this,function(t){return t.Z.then((function(){return zh(t)})).o((function(){})).then((function(){if(!t.l)return t.oa()})).o((function(){})).then((function(){if(!t.l){t.aa=!0;var e=t.i;e.b.addListener(Lh("local"),e.a,t.oa)}}))}(this)),this.aa=!1,this.oa=b(this.Xc,this),this.Ma=b(this.ca,this),this.xa=b(this.jc,this),this.ya=b(this.uc,this),this.za=b(this.vc,this),this.a=null,function(t){var e=$h(t).options.authDomain,n=$h(t).options.apiKey;e&&Sr()&&(t.Zb=t.Z.then((function(){if(!t.l){if(t.a=Oc(e,n,$h(t).name),bc(t.a,t),Yh(t)&&lh(Yh(t)),t.D){lh(t.D);var r=t.D;r.va(t.ja()),rh(r,t),ih(r=t.D,t.N),oh(r,t),t.D=null}return t.a}})))}(this),this.INTERNAL={},this.INTERNAL.delete=b(this.delete,this),this.INTERNAL.logFramework=b(this.Ec,this),this.s=0,vn.call(this),function(t){Object.defineProperty(t,"lc",{get:function(){return this.ja()},set:function(t){this.va(t)},enumerable:!1}),t.$=null,Object.defineProperty(t,"ti",{get:function(){return this.S()},set:function(t){this.ub(t)},enumerable:!1}),t.R=null}(this),this.N=[]}function Hh(t){We.call(this,"languageCodeChanged"),this.g=t}function Gh(t){We.call(this,"frameworkChanged"),this.c=t}function Bh(t){return t.Zb||Te(new I("auth-domain-config-required"))}function zh(t){if(!Sr())return Te(new I("operation-not-supported-in-this-environment"));var e=Bh(t).then((function(){return t.a.pa()})).then((function(t){return t?Wr(t):null}));return Xh(t,e)}function Wh(t,e){Yh(t)&&(function(t,e){K(t.R,(function(t){return t==e}))}(Yh(t),t.Ma),un(Yh(t),"tokenChanged",t.xa),un(Yh(t),"userDeleted",t.ya),un(Yh(t),"userInvalidated",t.za),uh(Yh(t))),e&&(e.R.push(t.Ma),on(e,"tokenChanged",t.xa),on(e,"userDeleted",t.ya),on(e,"userInvalidated",t.za),0<t.s&&ah(e)),Br(t,"currentUser",e),e&&(e.va(t.ja()),rh(e,t),ih(e,t.N),oh(e,t))}function Kh(t,e){var n=null,r=null;return Xh(t,e.then((function(e){return n=Po(e),r=Gi(e),function(t,e){var n={};return n.apiKey=$h(t).options.apiKey,n.authDomain=$h(t).options.authDomain,n.appName=$h(t).name,t.Z.then((function(){return function(t,e,n,r){var i=new nh(t,e);return n&&(i.ga=n),r&&ih(i,r),i.reload().then((function(){return i}))}(n,e,t.B,t.Ea())})).then((function(e){return Yh(t)&&e.uid==Yh(t).uid?(bh(Yh(t),e),t.ca(e)):(Wh(t,e),lh(e),t.ca(e))})).then((function(){Jh(t)}))}(t,e)}),(function(e){var n=null;throw e&&"auth/multi-factor-auth-required"===e.code&&(n=Gc(e.v(),t,b(t.ic,t))),n||e})).then((function(){return Wr({user:Yh(t),credential:n,additionalUserInfo:r,operationType:"signIn"})})))}function $h(t){return t.app}function Yh(t){return t.currentUser}function Qh(t){return Yh(t)&&Yh(t)._lat||null}function Jh(t){if(t.aa){for(var e=0;e<t.m.length;e++)t.m[e]&&t.m[e](Qh(t));if(t.W!==t.getUid()&&t.O.length)for(t.W=t.getUid(),e=0;e<t.O.length;e++)t.O[e]&&t.O[e](Qh(t))}}function Xh(t,e){return t.P.push(e),e.ma((function(){W(t.P,e)})),e}function Zh(){}function tl(){this.a={},this.b=1e12}Rh.prototype.tb=function(t){var e=null,n=this;return function(t){var e=new I("invalid-persistence-type"),n=new I("unsupported-persistence-type");t:{for(r in Vu)if(Vu[r]==t){var r=!0;break t}r=!1}if(!r||"string"!=typeof t)throw e;switch(vr()){case"ReactNative":if("session"===t)throw n;break;case"Node":if("none"!==t)throw n;break;default:if(!Tr()&&"none"!==t)throw n}}(t),Fh(this,(function(){return t!=n.c.F?n.b.get(n.c,n.a).then((function(r){return e=r,Dh(n,t)})).then((function(){if(n.c=Lh(t),e)return n.b.set(n.c,e,n.a)})):Ce()}))},E(qh,vn),E(Hh,We),E(Gh,We),(t=qh.prototype).tb=function(t){return Xh(this,t=this.i.tb(t))},t.va=function(t){this.$===t||this.l||(this.$=t,$s(this.b,this.$),this.dispatchEvent(new Hh(this.ja())))},t.ja=function(){return this.$},t.dd=function(){var t=s.navigator;this.va(t&&(t.languages&&t.languages[0]||t.language||t.userLanguage)||null)},t.Ec=function(t){this.N.push(t),Ys(this.b,Pn.a.SDK_VERSION?Er(Pn.a.SDK_VERSION,this.N):null),this.dispatchEvent(new Gh(this.N))},t.Ea=function(){return Y(this.N)},t.ub=function(t){this.R===t||this.l||(this.R=t,this.b.b=this.R)},t.S=function(){return this.R},t.toJSON=function(){return{apiKey:$h(this).options.apiKey,authDomain:$h(this).options.authDomain,appName:$h(this).name,currentUser:Yh(this)&&Yh(this).v()}},t.Cb=function(t,e){switch(t){case"unknown":case"signInViaRedirect":return!0;case"signInViaPopup":return this.g==e&&!!this.f;default:return!1}},t.la=function(t,e,n,r){"signInViaPopup"==t&&this.g==r&&(n&&this.w?this.w(n):e&&!n&&this.f&&this.f(e),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.w)},t.Da=function(t,e){return"signInViaRedirect"==t||"signInViaPopup"==t&&this.g==e&&this.f?b(this.gc,this):null},t.gc=function(t,e,n,r){var i=this,o={requestUri:t,postBody:r,sessionId:e,tenantId:n};return this.c&&(this.c.cancel(),this.c=null),i.Z.then((function(){return Kh(i,ua(i.b,o))}))},t.Vc=function(t){if(!Sr())return Te(new I("operation-not-supported-in-this-environment"));var e=this,n=Hi(t.providerId),r=Rr(),i=null;(!Nr()||gr())&&$h(this).options.authDomain&&t.isOAuthProvider&&(i=su($h(this).options.authDomain,$h(this).options.apiKey,$h(this).name,"signInViaPopup",t,null,r,Pn.a.SDK_VERSION||null,null,null,this.S()));var o=hr(i,n&&n.ta,n&&n.sa);return Xh(this,n=Bh(this).then((function(n){return Ic(n,o,"signInViaPopup",t,r,!!i,e.S())})).then((function(){return new ve((function(t,n){e.la("signInViaPopup",null,new I("cancelled-popup-request"),e.g),e.f=t,e.w=n,e.g=r,e.c=Sc(e.a,e,"signInViaPopup",o,r)}))})).then((function(t){return o&&cr(o),t?Wr(t):null})).o((function(t){throw o&&cr(o),t})))},t.Wc=function(t){if(!Sr())return Te(new I("operation-not-supported-in-this-environment"));var e=this;return Xh(this,Bh(this).then((function(){return function(t){return Fh(t,(function(){return t.b.set(Mh,t.c.F,t.a)}))}(e.i)})).then((function(){return Tc(e.a,"signInViaRedirect",t,void 0,e.S())})))},t.pa=function(){var t=this;return zh(this).then((function(e){return t.a&&xc(t.a.b),e})).o((function(e){throw t.a&&xc(t.a.b),e}))},t.bd=function(t){if(!t)return Te(new I("null-user"));if(this.R!=t.tenantId)return Te(new I("tenant-id-mismatch"));var e=this,n={};n.apiKey=$h(this).options.apiKey,n.authDomain=$h(this).options.authDomain,n.appName=$h(this).name;var r=function(t,e,n,r){var i=t.b,o={};return o[Gs]=i.b&&i.b.toString(),o.refreshToken=i.a,e=new nh(e||{apiKey:t.l,authDomain:t.s,appName:t.m},o),n&&(e.ga=n),r&&ih(e,r),bh(e,t),e}(t,n,e.B,e.Ea());return Xh(this,this.h.then((function(){if($h(e).options.apiKey!=t.l)return r.reload()})).then((function(){return Yh(e)&&t.uid==Yh(e).uid?(bh(Yh(e),t),e.ca(t)):(Wh(e,r),lh(r),e.ca(r))})).then((function(){Jh(e)})))},t.wb=function(){var t=this;return Xh(this,this.h.then((function(){return t.a&&xc(t.a.b),Yh(t)?(Wh(t,null),Uh(t.i).then((function(){Jh(t)}))):Ce()})))},t.Xc=function(){var t=this;return Vh(this.i,$h(this).options.authDomain).then((function(e){if(!t.l){var n;if(n=Yh(t)&&e){n=Yh(t).uid;var r=e.uid;n=null!=n&&""!==n&&null!=r&&""!==r&&n==r}if(n)return bh(Yh(t),e),Yh(t).I();(Yh(t)||e)&&(Wh(t,e),e&&(lh(e),e.ga=t.B),t.a&&bc(t.a,t),Jh(t))}}))},t.ca=function(t){return jh(this.i,t)},t.jc=function(){Jh(this),this.ca(Yh(this))},t.uc=function(){this.wb()},t.vc=function(){this.wb()},t.ic=function(t){var e=this;return this.h.then((function(){return Kh(e,Ce(t))}))},t.xc=function(t){var e=this;this.addAuthTokenListener((function(){t.next(Yh(e))}))},t.yc=function(t){var e=this;!function(t,e){t.O.push(e),Xh(t,t.h.then((function(){!t.l&&z(t.O,e)&&t.W!==t.getUid()&&(t.W=t.getUid(),e(Qh(t)))})))}(this,(function(){t.next(Yh(e))}))},t.Gc=function(t,e,n){var r=this;return this.aa&&Promise.resolve().then((function(){f(t)?t(Yh(r)):f(t.next)&&t.next(Yh(r))})),this.$b(t,e,n)},t.Fc=function(t,e,n){var r=this;return this.aa&&Promise.resolve().then((function(){r.W=r.getUid(),f(t)?t(Yh(r)):f(t.next)&&t.next(Yh(r))})),this.ac(t,e,n)},t.kc=function(t){var e=this;return Xh(this,this.h.then((function(){return Yh(e)?Yh(e).I(t).then((function(t){return{accessToken:t}})):null})))},t.Rc=function(t){var e=this;return this.h.then((function(){return Kh(e,za(e.b,Va,{token:t}))})).then((function(t){var n=t.user;return yh(n,"isAnonymous",!1),e.ca(n),t}))},t.Sc=function(t,e){var n=this;return this.h.then((function(){return Kh(n,za(n.b,Fa,{email:t,password:e}))}))},t.cc=function(t,e){var n=this;return this.h.then((function(){return Kh(n,za(n.b,pa,{email:t,password:e}))}))},t.Ya=function(t){var e=this;return this.h.then((function(){return Kh(e,t.ia(e.b))}))},t.Qc=function(t){return Hr("firebase.auth.Auth.prototype.signInAndRetrieveDataWithCredential is deprecated. Please use firebase.auth.Auth.prototype.signInWithCredential instead."),this.Ya(t)},t.vb=function(){var t=this;return this.h.then((function(){var e=Yh(t);if(e&&e.isAnonymous){var n=Wr({providerId:null,isNewUser:!1});return Wr({user:e,credential:null,additionalUserInfo:n,operationType:"signIn"})}return Kh(t,t.b.vb()).then((function(e){var n=e.user;return yh(n,"isAnonymous",!0),t.ca(n),e}))}))},t.getUid=function(){return Yh(this)&&Yh(this).uid||null},t.bc=function(t){this.addAuthTokenListener(t),this.s++,0<this.s&&Yh(this)&&ah(Yh(this))},t.Nc=function(t){var e=this;q(this.m,(function(n){n==t&&e.s--})),0>this.s&&(this.s=0),0==this.s&&Yh(this)&&uh(Yh(this)),this.removeAuthTokenListener(t)},t.addAuthTokenListener=function(t){var e=this;this.m.push(t),Xh(this,this.h.then((function(){e.l||z(e.m,t)&&t(Qh(e))})))},t.removeAuthTokenListener=function(t){K(this.m,(function(e){return e==t}))},t.delete=function(){this.l=!0;for(var t=0;t<this.P.length;t++)this.P[t].cancel("app-deleted");return this.P=[],this.i&&(t=this.i).b.removeListener(Lh("local"),t.a,this.oa),this.a&&(wc(this.a,this),xc(this.a.b)),Promise.resolve()},t.fc=function(t){return Xh(this,function(t,e){return za(t,ga,{identifier:e,continueUri:Ar()?sr():"http://localhost"}).then((function(t){return t.signinMethods||[]}))}(this.b,t))},t.zc=function(t){return!!So(t)},t.sb=function(t,e){var n=this;return Xh(this,Ce().then((function(){var t=new Ci(e);if(!t.c)throw new I("argument-error",Ai+" must be true when sending sign in link to email");return Di(t)})).then((function(e){return n.b.sb(t,e)})).then((function(){})))},t.fd=function(t){return this.Pa(t).then((function(t){return t.data.email}))},t.jb=function(t,e){return Xh(this,this.b.jb(t,e).then((function(){})))},t.Pa=function(t){return Xh(this,this.b.Pa(t).then((function(t){return new ei(t)})))},t.fb=function(t){return Xh(this,this.b.fb(t).then((function(){})))},t.rb=function(t,e){var n=this;return Xh(this,Ce().then((function(){return void 0===e||lt(e)?{}:Di(new Ci(e))})).then((function(e){return n.b.rb(t,e)})).then((function(){})))},t.Uc=function(t,e){return Xh(this,jc(this,t,e,b(this.Ya,this)))},t.Tc=function(t,e){var n=this;return Xh(this,Ce().then((function(){var r=e||sr(),i=To(t,r);if(!(r=So(r)))throw new I("argument-error","Invalid email link!");if(r.tenantId!==n.S())throw new I("tenant-id-mismatch");return n.Ya(i)})))},Zh.prototype.render=function(){},Zh.prototype.reset=function(){},Zh.prototype.getResponse=function(){},Zh.prototype.execute=function(){};var el=null;function nl(t,e){return(e=rl(e))&&t.a[e]||null}function rl(t){return(t=void 0===t?1e12:t)?t.toString():null}function il(t,e){this.g=!1,this.c=e,this.a=this.b=null,this.h="invisible"!==this.c.size,this.f=ie(t);var n=this;this.i=function(){n.execute()},this.h?this.execute():on(this.f,"click",this.i)}function ol(t){if(t.g)throw Error("reCAPTCHA mock was already deleted!")}function sl(){}function al(){}tl.prototype.render=function(t,e){return this.a[this.b.toString()]=new il(t,e),this.b++},tl.prototype.reset=function(t){var e=nl(this,t);t=rl(t),e&&t&&(e.delete(),delete this.a[t])},tl.prototype.getResponse=function(t){return(t=nl(this,t))?t.getResponse():null},tl.prototype.execute=function(t){(t=nl(this,t))&&t.execute()},il.prototype.getResponse=function(){return ol(this),this.b},il.prototype.execute=function(){ol(this);var t=this;this.a||(this.a=setTimeout((function(){t.b=function(){for(var t=50,e=[];0<t;)e.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),t--;return e.join("")}();var e=t.c.callback,n=t.c["expired-callback"];if(e)try{e(t.b)}catch(r){}t.a=setTimeout((function(){if(t.a=null,t.b=null,n)try{n()}catch(r){}t.h&&t.execute()}),6e4)}),500))},il.prototype.delete=function(){ol(this),this.g=!0,clearTimeout(this.a),this.a=null,un(this.f,"click",this.i)},Br(sl,"FACTOR_ID","phone"),al.prototype.g=function(){return el||(el=new tl),Ce(el)},al.prototype.c=function(){};var ul=null;function cl(){this.b=s.grecaptcha?1/0:0,this.f=null,this.a="__rcb"+Math.floor(1e6*Math.random()).toString()}var hl=new mt(bt,"https://www.google.com/recaptcha/api.js?onload=%{onload}&render=explicit&hl=%{hl}"),ll=new Lr(3e4,6e4);cl.prototype.g=function(t){var e=this;return new ve((function(n,r){var i=setTimeout((function(){r(new I("network-request-failed"))}),ll.get());!s.grecaptcha||t!==e.f&&!e.b?(s[e.a]=function(){if(s.grecaptcha){e.f=t;var o=s.grecaptcha.render;s.grecaptcha.render=function(t,n){return t=o(t,n),e.b++,t},clearTimeout(i),n(s.grecaptcha)}else clearTimeout(i),r(new I("internal-error"));delete s[e.a]},Ce(Ds(It(hl,{onload:e.a,hl:t||""}))).o((function(){clearTimeout(i),r(new I("internal-error","Unable to load external reCAPTCHA dependencies!"))}))):(clearTimeout(i),n(s.grecaptcha))}))},cl.prototype.c=function(){this.b--};var fl=null;function dl(t,e,n,r,i,o,a){if(Br(this,"type","recaptcha"),this.c=this.f=null,this.D=!1,this.u=e,this.g=null,a?(ul||(ul=new al),a=ul):(fl||(fl=new cl),a=fl),this.m=a,this.a=n||{theme:"light",type:"image"},this.h=[],this.a[ml])throw new I("argument-error","sitekey should not be provided for reCAPTCHA as one is automatically provisioned for the current project.");if(this.i="invisible"===this.a[vl],!s.document)throw new I("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment with DOM support.");if(!ie(e)||!this.i&&ie(e).hasChildNodes())throw new I("argument-error","reCAPTCHA container is either not found or already contains inner elements!");this.s=new qs(t,o||null,i||null),this.w=r||function(){return null};var u=this;this.l=[];var c=this.a[pl];this.a[pl]=function(t){if(yl(u,t),"function"==typeof c)c(t);else if("string"==typeof c){var e=Cr(c,s);"function"==typeof e&&e(t)}};var h=this.a[gl];this.a[gl]=function(){if(yl(u,null),"function"==typeof h)h();else if("string"==typeof h){var t=Cr(h,s);"function"==typeof t&&t()}}}var pl="callback",gl="expired-callback",ml="sitekey",vl="size";function yl(t,e){for(var n=0;n<t.l.length;n++)try{t.l[n](e)}catch(r){}}function bl(t,e){return t.h.push(e),e.ma((function(){W(t.h,e)})),e}function wl(t){if(t.D)throw new I("internal-error","RecaptchaVerifier instance has been destroyed.")}function _l(t,e,n){var r=!1;try{this.b=n||Pn.a.app()}catch(s){throw new I("argument-error","No firebase.app.App instance is currently initialized.")}if(!this.b.options||!this.b.options.apiKey)throw new I("invalid-api-key");n=this.b.options.apiKey;var i=this,o=null;try{o=this.b.auth().Ea()}catch(s){}try{r=this.b.auth().settings.appVerificationDisabledForTesting}catch(s){}o=Pn.a.SDK_VERSION?Er(Pn.a.SDK_VERSION,o):null,dl.call(this,n,t,e,(function(){try{var t=i.b.auth().ja()}catch(e){t=null}return t}),o,N(T),r)}function El(t,e,n,r){t:{n=Array.prototype.slice.call(n);for(var i=0,o=!1,s=0;s<e.length;s++)if(e[s].optional)o=!0;else{if(o)throw new I("internal-error","Argument validator encountered a required argument after an optional argument.");i++}if(o=e.length,n.length<i||o<n.length)r="Expected "+(i==o?1==i?"1 argument":i+" arguments":i+"-"+o+" arguments")+" but got "+n.length+".";else{for(i=0;i<n.length;i++)if(o=e[i].optional&&void 0===n[i],!e[i].K(n[i])&&!o){if(e=e[i],0>i||i>=Il.length)throw new I("internal-error","Argument validator received an unsupported number of arguments.");n=Il[i],r=(r?"":n+" argument ")+(e.name?'"'+e.name+'" ':"")+"must be "+e.J+".";break t}r=null}}if(r)throw new I("argument-error",t+" failed: "+r)}(t=dl.prototype).Ga=function(){var t=this;return this.f?this.f:this.f=bl(this,Ce().then((function(){if(Ar()&&!mr())return dr();throw new I("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment.")})).then((function(){return t.m.g(t.w())})).then((function(e){return t.g=e,za(t.s,Oa,{})})).then((function(e){t.a[ml]=e.recaptchaSiteKey})).o((function(e){throw t.f=null,e})))},t.render=function(){wl(this);var t=this;return bl(this,this.Ga().then((function(){if(null===t.c){var e=t.u;if(!t.i){var n=ie(e);e=function(t,e,n){var r=arguments,i=document,o=String(r[0]),s=r[1];if(!re&&s&&(s.name||s.type)){if(o=["<",o],s.name&&o.push(' name="',Ft(s.name),'"'),s.type){o.push(' type="',Ft(s.type),'"');var a={};pt(a,s),delete a.type,s=a}o.push(">"),o=o.join("")}return o=he(i,o),s&&("string"==typeof s?o.className=s:Array.isArray(s)?o.className=s.join(" "):oe(o,s)),2<r.length&&ce(i,o,r),o}("DIV"),n.appendChild(e)}t.c=t.g.render(e,t.a)}return t.c})))},t.verify=function(){wl(this);var t=this;return bl(this,this.render().then((function(e){return new ve((function(n){var r=t.g.getResponse(e);if(r)n(r);else{var i=function(e){e&&(function(t,e){K(t.l,(function(t){return t==e}))}(t,i),n(e))};t.l.push(i),t.i&&t.g.execute(t.c)}}))})))},t.reset=function(){wl(this),null!==this.c&&this.g.reset(this.c)},t.clear=function(){wl(this),this.D=!0,this.m.c();for(var t=0;t<this.h.length;t++)this.h[t].cancel("RecaptchaVerifier instance has been destroyed.");if(!this.i){t=ie(this.u);for(var e;e=t.firstChild;)t.removeChild(e)}},E(_l,dl);var Il="First Second Third Fourth Fifth Sixth Seventh Eighth Ninth".split(" ");function Cl(t,e){return{name:t||"",J:"a valid string",optional:!!e,K:function(t){return"string"==typeof t}}}function Tl(t,e){return{name:t||"",J:"a boolean",optional:!!e,K:function(t){return"boolean"==typeof t}}}function Sl(t,e){return{name:t||"",J:"a valid object",optional:!!e,K:d}}function Al(t,e){return{name:t||"",J:"a function",optional:!!e,K:f}}function Ol(t,e){return{name:t||"",J:"null",optional:!!e,K:function(t){return null===t}}}function Nl(t){return{name:t?t+"Credential":"credential",J:t?"a valid "+t+" credential":"a valid credential",optional:!1,K:function(e){return!!e&&!(!e.ia||t&&e.providerId!==t)}}}function kl(t,e){return d(t)&&"string"==typeof t.type&&t.type===e&&f(t.Fa)}function xl(t){return d(t)&&"string"==typeof t.uid}function Pl(){return{name:"applicationVerifier",J:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,K:function(t){return!(!t||"string"!=typeof t.type||!f(t.verify))}}}function Rl(t,e,n,r){return{name:n||"",J:t.J+" or "+e.J,optional:!!r,K:function(n){return t.K(n)||e.K(n)}}}function Dl(t,e){for(var n in e){var r=e[n].name;t[r]=jl(r,t[n],e[n].j)}}function Ml(t,e){for(var n in e){var r=e[n].name;r!==n&&Object.defineProperty(t,r,{get:w((function(t){return this[t]}),n),set:w((function(t,e,n,r){El(t,[n],[r],!0),this[e]=r}),r,n,e[n].gb),enumerable:!0})}}function Ll(t,e,n,r){t[e]=jl(e,n,r)}function jl(t,e,n){function r(){var t=Array.prototype.slice.call(arguments);return El(o,n,t),e.apply(this,t)}if(!n)return e;var i,o=function(t){return(t=t.split("."))[t.length-1]}(t);for(i in e)r[i]=e[i];for(i in e.prototype)r.prototype[i]=e.prototype[i];return r}Dl(qh.prototype,{fb:{name:"applyActionCode",j:[Cl("code")]},Pa:{name:"checkActionCode",j:[Cl("code")]},jb:{name:"confirmPasswordReset",j:[Cl("code"),Cl("newPassword")]},cc:{name:"createUserWithEmailAndPassword",j:[Cl("email"),Cl("password")]},fc:{name:"fetchSignInMethodsForEmail",j:[Cl("email")]},pa:{name:"getRedirectResult",j:[]},zc:{name:"isSignInWithEmailLink",j:[Cl("emailLink")]},Fc:{name:"onAuthStateChanged",j:[Rl(Sl(),Al(),"nextOrObserver"),Al("opt_error",!0),Al("opt_completed",!0)]},Gc:{name:"onIdTokenChanged",j:[Rl(Sl(),Al(),"nextOrObserver"),Al("opt_error",!0),Al("opt_completed",!0)]},rb:{name:"sendPasswordResetEmail",j:[Cl("email"),Rl(Sl("opt_actionCodeSettings",!0),Ol(null,!0),"opt_actionCodeSettings",!0)]},sb:{name:"sendSignInLinkToEmail",j:[Cl("email"),Sl("actionCodeSettings")]},tb:{name:"setPersistence",j:[Cl("persistence")]},Qc:{name:"signInAndRetrieveDataWithCredential",j:[Nl()]},vb:{name:"signInAnonymously",j:[]},Ya:{name:"signInWithCredential",j:[Nl()]},Rc:{name:"signInWithCustomToken",j:[Cl("token")]},Sc:{name:"signInWithEmailAndPassword",j:[Cl("email"),Cl("password")]},Tc:{name:"signInWithEmailLink",j:[Cl("email"),Cl("emailLink",!0)]},Uc:{name:"signInWithPhoneNumber",j:[Cl("phoneNumber"),Pl()]},Vc:{name:"signInWithPopup",j:[{name:"authProvider",J:"a valid Auth provider",optional:!1,K:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Wc:{name:"signInWithRedirect",j:[{name:"authProvider",J:"a valid Auth provider",optional:!1,K:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},bd:{name:"updateCurrentUser",j:[Rl({name:"user",J:"an instance of Firebase User",optional:!1,K:function(t){return!!(t&&t instanceof nh)}},Ol(),"user")]},wb:{name:"signOut",j:[]},toJSON:{name:"toJSON",j:[Cl(null,!0)]},dd:{name:"useDeviceLanguage",j:[]},fd:{name:"verifyPasswordResetCode",j:[Cl("code")]}}),Ml(qh.prototype,{lc:{name:"languageCode",gb:Rl(Cl(),Ol(),"languageCode")},ti:{name:"tenantId",gb:Rl(Cl(),Ol(),"tenantId")}}),(qh.Persistence=Vu).LOCAL="local",qh.Persistence.SESSION="session",qh.Persistence.NONE="none",Dl(nh.prototype,{delete:{name:"delete",j:[]},mc:{name:"getIdTokenResult",j:[Tl("opt_forceRefresh",!0)]},I:{name:"getIdToken",j:[Tl("opt_forceRefresh",!0)]},Ac:{name:"linkAndRetrieveDataWithCredential",j:[Nl()]},mb:{name:"linkWithCredential",j:[Nl()]},Bc:{name:"linkWithPhoneNumber",j:[Cl("phoneNumber"),Pl()]},Cc:{name:"linkWithPopup",j:[{name:"authProvider",J:"a valid Auth provider",optional:!1,K:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Dc:{name:"linkWithRedirect",j:[{name:"authProvider",J:"a valid Auth provider",optional:!1,K:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Jc:{name:"reauthenticateAndRetrieveDataWithCredential",j:[Nl()]},pb:{name:"reauthenticateWithCredential",j:[Nl()]},Kc:{name:"reauthenticateWithPhoneNumber",j:[Cl("phoneNumber"),Pl()]},Lc:{name:"reauthenticateWithPopup",j:[{name:"authProvider",J:"a valid Auth provider",optional:!1,K:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Mc:{name:"reauthenticateWithRedirect",j:[{name:"authProvider",J:"a valid Auth provider",optional:!1,K:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},reload:{name:"reload",j:[]},qb:{name:"sendEmailVerification",j:[Rl(Sl("opt_actionCodeSettings",!0),Ol(null,!0),"opt_actionCodeSettings",!0)]},toJSON:{name:"toJSON",j:[Cl(null,!0)]},ad:{name:"unlink",j:[Cl("provider")]},xb:{name:"updateEmail",j:[Cl("email")]},yb:{name:"updatePassword",j:[Cl("password")]},cd:{name:"updatePhoneNumber",j:[Nl("phone")]},zb:{name:"updateProfile",j:[Sl("profile")]},Ab:{name:"verifyBeforeUpdateEmail",j:[Cl("email"),Rl(Sl("opt_actionCodeSettings",!0),Ol(null,!0),"opt_actionCodeSettings",!0)]}}),Dl(tl.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),Dl(Zh.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),Dl(ve.prototype,{ma:{name:"finally"},o:{name:"catch"},then:{name:"then"}}),Ml(Mc.prototype,{appVerificationDisabled:{name:"appVerificationDisabledForTesting",gb:Tl("appVerificationDisabledForTesting")}}),Dl(Lc.prototype,{confirm:{name:"confirm",j:[Cl("verificationCode")]}}),Ll(no,"fromJSON",(function(t){t="string"==typeof t?JSON.parse(t):t;for(var e,n=[co,Io,Oo,so],r=0;r<n.length;r++)if(e=n[r](t))return e;return null}),[Rl(Cl(),Sl(),"json")]),Ll(Co,"credential",(function(t,e){return new Eo(t,e)}),[Cl("email"),Cl("password")]),Dl(Eo.prototype,{v:{name:"toJSON",j:[Cl(null,!0)]}}),Dl(po.prototype,{Aa:{name:"addScope",j:[Cl("scope")]},Ia:{name:"setCustomParameters",j:[Sl("customOAuthParameters")]}}),Ll(po,"credential",go,[Rl(Cl(),Sl(),"token")]),Ll(Co,"credentialWithLink",To,[Cl("email"),Cl("emailLink")]),Dl(mo.prototype,{Aa:{name:"addScope",j:[Cl("scope")]},Ia:{name:"setCustomParameters",j:[Sl("customOAuthParameters")]}}),Ll(mo,"credential",vo,[Rl(Cl(),Sl(),"token")]),Dl(yo.prototype,{Aa:{name:"addScope",j:[Cl("scope")]},Ia:{name:"setCustomParameters",j:[Sl("customOAuthParameters")]}}),Ll(yo,"credential",bo,[Rl(Cl(),Rl(Sl(),Ol()),"idToken"),Rl(Cl(),Ol(),"accessToken",!0)]),Dl(wo.prototype,{Ia:{name:"setCustomParameters",j:[Sl("customOAuthParameters")]}}),Ll(wo,"credential",_o,[Rl(Cl(),Sl(),"token"),Cl("secret",!0)]),Dl(fo.prototype,{Aa:{name:"addScope",j:[Cl("scope")]},credential:{name:"credential",j:[Rl(Cl(),Rl(Sl(),Ol()),"optionsOrIdToken"),Rl(Cl(),Ol(),"accessToken",!0)]},Ia:{name:"setCustomParameters",j:[Sl("customOAuthParameters")]}}),Dl(ao.prototype,{v:{name:"toJSON",j:[Cl(null,!0)]}}),Dl(io.prototype,{v:{name:"toJSON",j:[Cl(null,!0)]}}),Ll(ko,"credential",xo,[Cl("verificationId"),Cl("verificationCode")]),Dl(ko.prototype,{cb:{name:"verifyPhoneNumber",j:[Rl(Cl(),{name:"phoneInfoOptions",J:"valid phone info options",optional:!1,K:function(t){return!!t&&(t.session&&t.phoneNumber?kl(t.session,to)&&"string"==typeof t.phoneNumber:t.session&&t.multiFactorHint?kl(t.session,eo)&&xl(t.multiFactorHint):t.session&&t.multiFactorUid?kl(t.session,eo)&&"string"==typeof t.multiFactorUid:!!t.phoneNumber&&"string"==typeof t.phoneNumber)}},"phoneInfoOptions"),Pl()]}}),Dl(Ao.prototype,{v:{name:"toJSON",j:[Cl(null,!0)]}}),Dl(I.prototype,{toJSON:{name:"toJSON",j:[Cl(null,!0)]}}),Dl(Fo.prototype,{toJSON:{name:"toJSON",j:[Cl(null,!0)]}}),Dl(Vo.prototype,{toJSON:{name:"toJSON",j:[Cl(null,!0)]}}),Dl(Hc.prototype,{toJSON:{name:"toJSON",j:[Cl(null,!0)]}}),Dl(Vc.prototype,{Pc:{name:"resolveSignIn",j:[{name:"multiFactorAssertion",J:"a valid multiFactorAssertion",optional:!1,K:function(t){return!!t&&!!t.ob}}]}}),Dl($c.prototype,{Ob:{name:"getSession",j:[]},dc:{name:"enroll",j:[{name:"multiFactorAssertion",J:"a valid multiFactorAssertion",optional:!1,K:function(t){return!!t&&!!t.ob}},Cl("displayName",!0)]},$c:{name:"unenroll",j:[Rl({name:"multiFactorInfo",J:"a valid multiFactorInfo",optional:!1,K:xl},Cl(),"multiFactorInfoIdentifier")]}}),Dl(_l.prototype,{clear:{name:"clear",j:[]},render:{name:"render",j:[]},verify:{name:"verify",j:[]}}),Ll(gi,"parseLink",Ii,[Cl("link")]),Ll(sl,"assertion",(function(t){return new Wc(t)}),[Nl("phone")]),function(){if(void 0===Pn.a||!Pn.a.INTERNAL||!Pn.a.INTERNAL.registerComponent)throw Error("Cannot find the firebase namespace; be sure to include firebase-app.js before this library.");var t={ActionCodeInfo:{Operation:{EMAIL_SIGNIN:ri,PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:ni,VERIFY_AND_CHANGE_EMAIL:ii,VERIFY_EMAIL:"VERIFY_EMAIL"}},Auth:qh,AuthCredential:no,Error:I};Ll(t,"EmailAuthProvider",Co,[]),Ll(t,"FacebookAuthProvider",po,[]),Ll(t,"GithubAuthProvider",mo,[]),Ll(t,"GoogleAuthProvider",yo,[]),Ll(t,"TwitterAuthProvider",wo,[]),Ll(t,"OAuthProvider",fo,[Cl("providerId")]),Ll(t,"SAMLAuthProvider",lo,[Cl("providerId")]),Ll(t,"PhoneAuthProvider",ko,[{name:"auth",J:"an instance of Firebase Auth",optional:!0,K:function(t){return!!(t&&t instanceof qh)}}]),Ll(t,"RecaptchaVerifier",_l,[Rl(Cl(),{name:"",J:"an HTML element",optional:!1,K:function(t){return!!(t&&t instanceof Element)}},"recaptchaContainer"),Sl("recaptchaParameters",!0),{name:"app",J:"an instance of Firebase App",optional:!0,K:function(t){return!!(t&&t instanceof Pn.a.app.App)}}]),Ll(t,"ActionCodeURL",gi,[]),Ll(t,"PhoneMultiFactorGenerator",sl,[]),Pn.a.INTERNAL.registerComponent({name:"auth",instanceFactory:function(t){return new qh(t=t.getProvider("app").getImmediate())},multipleInstances:!1,serviceProps:t,instantiationMode:"LAZY",type:"PUBLIC"}),Pn.a.INTERNAL.registerComponent({name:"auth-internal",instanceFactory:function(t){return{getUid:b((t=t.getProvider("auth").getImmediate()).getUid,t),getToken:b(t.kc,t),addAuthTokenListener:b(t.bc,t),removeAuthTokenListener:b(t.Nc,t)}},multipleInstances:!1,instantiationMode:"LAZY",type:"PRIVATE"}),Pn.a.registerVersion("@firebase/auth","0.14.0"),Pn.a.INTERNAL.extendNamespace({User:nh})}()}).apply("undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{});let Rn=(()=>{let t=class{};return t.\u0275mod=r.Ib({type:t}),t.\u0275inj=r.Hb({factory:function(e){return new(e||t)},providers:[We]}),t})();var Dn;n("6Joi");let Mn=(()=>{let t=Dn=class{static enablePersistence(t){return{ngModule:Dn,providers:[{provide:rn,useValue:!0},{provide:on,useValue:t}]}}};return t.\u0275mod=r.Ib({type:t}),t.\u0275inj=r.Hb({factory:function(e){return new(e||t)},providers:[fn]}),t})(),Ln=(()=>{class t{}return t.\u0275mod=r.Ib({type:t,bootstrap:[kn]}),t.\u0275inj=r.Hb({factory:function(e){return new(e||t)},providers:[Sn],imports:[[M,te,Nn,ze.initializeApp(i),Rn,Mn]]}),t})();Object(r.S)(),R().bootstrapModule(Ln).catch(t=>console.error(t))},zVF4:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("mrSG"),i={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"},o=function(t,e){if(!t)throw s(e)},s=function(t){return new Error("Firebase Database ("+i.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)},a=function(t){for(var e=[],n=0,r=0;r<t.length;r++){var i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):55296==(64512&i)&&r+1<t.length&&56320==(64512&t.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&t.charCodeAt(++r)),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e},u={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray:function(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<t.length;i+=3){var o=t[i],s=i+1<t.length,a=s?t[i+1]:0,u=i+2<t.length,c=u?t[i+2]:0,h=(15&a)<<2|c>>6,l=63&c;u||(l=64,s||(h=64)),r.push(n[o>>2],n[(3&o)<<4|a>>4],n[h],n[l])}return r.join("")},encodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(a(t),e)},decodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):function(t){for(var e=[],n=0,r=0;n<t.length;){var i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){var o=t[n++];e[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){var s=((7&i)<<18|(63&(o=t[n++]))<<12|(63&(a=t[n++]))<<6|63&t[n++])-65536;e[r++]=String.fromCharCode(55296+(s>>10)),e[r++]=String.fromCharCode(56320+(1023&s))}else{o=t[n++];var a=t[n++];e[r++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&a)}}return e.join("")}(this.decodeStringToByteArray(t,e))},decodeStringToByteArray:function(t,e){this.init_();for(var n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<t.length;){var o=n[t.charAt(i++)],s=i<t.length?n[t.charAt(i)]:0,a=++i<t.length?n[t.charAt(i)]:64,u=++i<t.length?n[t.charAt(i)]:64;if(++i,null==o||null==s||null==a||null==u)throw Error();r.push(o<<2|s>>4),64!==a&&(r.push(s<<4&240|a>>2),64!==u&&r.push(a<<6&192|u))}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},c=function(t){try{return u.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function h(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:return new Date(e.getTime());case Object:void 0===t&&(t={});break;case Array:t=[];break;default:return e}for(var n in e)e.hasOwnProperty(n)&&(t[n]=h(t[n],e[n]));return t}var l=function(){function t(){var t=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return t.prototype.wrapCallback=function(t){var e=this;return function(n,r){n?e.reject(n):e.resolve(r),"function"==typeof t&&(e.promise.catch((function(){})),1===t.length?t(n):t(n,r))}},t}();function f(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}var d=function(t){function e(n,r){var i=t.call(this,r)||this;return i.code=n,i.name="FirebaseError",Object.setPrototypeOf(i,e.prototype),Error.captureStackTrace&&Error.captureStackTrace(i,p.prototype.create),i}return r.__extends(e,t),e}(Error),p=function(){function t(t,e,n){this.service=t,this.serviceName=e,this.errors=n}return t.prototype.create=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var r=e[0]||{},i=this.service+"/"+t,o=this.errors[t],s=o?g(o,r):"Error",a=this.serviceName+": "+s+" ("+i+").",u=new d(i,a),c=0,h=Object.keys(r);c<h.length;c++){var l=h[c];"_"!==l.slice(-1)&&(l in u&&console.warn('Overwriting FirebaseError base field "'+l+'" can cause unexpected behavior.'),u[l]=r[l])}return u},t}();function g(t,e){return t.replace(m,(function(t,n){var r=e[n];return null!=r?r.toString():"<"+n+"?>"}))}var m=/\{\$([^}]+)}/g;function v(t){return JSON.parse(t)}var y=function(t){var e={},n={},r={},i="";try{var o=t.split(".");e=v(c(o[0])||""),n=v(c(o[1])||""),i=o[2],r=n.d||{},delete n.d}catch(s){}return{header:e,claims:n,data:r,signature:i}},b=function(){function t(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var t=1;t<this.blockSize;++t)this.pad_[t]=0;this.reset()}return t.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},t.prototype.compress_=function(t,e){e||(e=0);var n=this.W_;if("string"==typeof t)for(var r=0;r<16;r++)n[r]=t.charCodeAt(e)<<24|t.charCodeAt(e+1)<<16|t.charCodeAt(e+2)<<8|t.charCodeAt(e+3),e+=4;else for(r=0;r<16;r++)n[r]=t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3],e+=4;for(r=16;r<80;r++)n[r]=4294967295&((l=n[r-3]^n[r-8]^n[r-14]^n[r-16])<<1|l>>>31);var i,o,s=this.chain_[0],a=this.chain_[1],u=this.chain_[2],c=this.chain_[3],h=this.chain_[4];for(r=0;r<80;r++){r<40?r<20?(i=c^a&(u^c),o=1518500249):(i=a^u^c,o=1859775393):r<60?(i=a&u|c&(a|u),o=2400959708):(i=a^u^c,o=3395469782);var l=(s<<5|s>>>27)+i+h+o+n[r]&4294967295;h=c,c=u,u=4294967295&(a<<30|a>>>2),a=s,s=l}this.chain_[0]=this.chain_[0]+s&4294967295,this.chain_[1]=this.chain_[1]+a&4294967295,this.chain_[2]=this.chain_[2]+u&4294967295,this.chain_[3]=this.chain_[3]+c&4294967295,this.chain_[4]=this.chain_[4]+h&4294967295},t.prototype.update=function(t,e){if(null!=t){void 0===e&&(e=t.length);for(var n=e-this.blockSize,r=0,i=this.buf_,o=this.inbuf_;r<e;){if(0===o)for(;r<=n;)this.compress_(t,r),r+=this.blockSize;if("string"==typeof t){for(;r<e;)if(i[o]=t.charCodeAt(r),++r,++o===this.blockSize){this.compress_(i),o=0;break}}else for(;r<e;)if(i[o]=t[r],++r,++o===this.blockSize){this.compress_(i),o=0;break}}this.inbuf_=o,this.total_+=e}},t.prototype.digest=function(){var t=[],e=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(var n=this.blockSize-1;n>=56;n--)this.buf_[n]=255&e,e/=256;this.compress_(this.buf_);var r=0;for(n=0;n<5;n++)for(var i=24;i>=0;i-=8)t[r]=this.chain_[n]>>i&255,++r;return t},t}(),w=function(){function t(t,e){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then((function(){t(n)})).catch((function(t){n.error(t)}))}return t.prototype.next=function(t){this.forEachObserver((function(e){e.next(t)}))},t.prototype.error=function(t){this.forEachObserver((function(e){e.error(t)})),this.close(t)},t.prototype.complete=function(){this.forEachObserver((function(t){t.complete()})),this.close()},t.prototype.subscribe=function(t,e,n){var r,i=this;if(void 0===t&&void 0===e&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=0,r=["next","error","complete"];n<r.length;n++){var i=r[n];if(i in t&&"function"==typeof t[i])return!0}return!1}(t)?t:{next:t,error:e,complete:n}).next&&(r.next=_),void 0===r.error&&(r.error=_),void 0===r.complete&&(r.complete=_);var o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(t){}})),this.observers.push(r),o},t.prototype.unsubscribeOne=function(t){void 0!==this.observers&&void 0!==this.observers[t]&&(delete this.observers[t],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},t.prototype.forEachObserver=function(t){if(!this.finalized)for(var e=0;e<this.observers.length;e++)this.sendOne(e,t)},t.prototype.sendOne=function(t,e){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[t])try{e(n.observers[t])}catch(r){"undefined"!=typeof console&&console.error&&console.error(r)}}))},t.prototype.close=function(t){var e=this;this.finalized||(this.finalized=!0,void 0!==t&&(this.finalError=t),this.task.then((function(){e.observers=void 0,e.onNoObservers=void 0})))},t}();function _(){}function E(t,e,n){var r="";switch(e){case 1:r=n?"first":"First";break;case 2:r=n?"second":"Second";break;case 3:r=n?"third":"Third";break;case 4:r=n?"fourth":"Fourth";break;default:throw new Error("errorPrefix called with argumentNumber > 4.  Need to update it?")}return t+" failed: "+r+" argument "}e.CONSTANTS=i,e.Deferred=l,e.ErrorFactory=p,e.FirebaseError=d,e.Sha1=b,e.assert=o,e.assertionError=s,e.async=function(t,e){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];Promise.resolve(!0).then((function(){t.apply(void 0,n)})).catch((function(t){e&&e(t)}))}},e.base64=u,e.base64Decode=c,e.base64Encode=function(t){var e=a(t);return u.encodeByteArray(e,!0)},e.contains=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.createSubscribe=function(t,e){var n=new w(t,e);return n.subscribe.bind(n)},e.decode=y,e.deepCopy=function(t){return h(void 0,t)},e.deepExtend=h,e.errorPrefix=E,e.getUA=f,e.isAdmin=function(t){var e=y(t).claims;return"object"==typeof e&&!0===e.admin},e.isBrowser=function(){return"object"==typeof self&&self.self===self},e.isBrowserExtension=function(){var t="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof t&&void 0!==t.id},e.isElectron=function(){return f().indexOf("Electron/")>=0},e.isEmpty=function(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0},e.isIE=function(){var t=f();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0},e.isMobileCordova=function(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(f())},e.isNode=function(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(t){return!1}},e.isNodeSdk=function(){return!0===i.NODE_CLIENT||!0===i.NODE_ADMIN},e.isReactNative=function(){return"object"==typeof navigator&&"ReactNative"===navigator.product},e.isUWP=function(){return f().indexOf("MSAppHost/")>=0},e.isValidFormat=function(t){var e=y(t).claims;return!!e&&"object"==typeof e&&e.hasOwnProperty("iat")},e.isValidTimestamp=function(t){var e=y(t).claims,n=Math.floor((new Date).getTime()/1e3),r=0,i=0;return"object"==typeof e&&(e.hasOwnProperty("nbf")?r=e.nbf:e.hasOwnProperty("iat")&&(r=e.iat),i=e.hasOwnProperty("exp")?e.exp:r+86400),!!n&&!!r&&!!i&&n>=r&&n<=i},e.issuedAtTime=function(t){var e=y(t).claims;return"object"==typeof e&&e.hasOwnProperty("iat")?e.iat:null},e.jsonEval=v,e.map=function(t,e,n){var r={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=e.call(n,t[i],i,t));return r},e.querystring=function(t){for(var e=[],n=function(t,n){Array.isArray(n)?n.forEach((function(n){e.push(encodeURIComponent(t)+"="+encodeURIComponent(n))})):e.push(encodeURIComponent(t)+"="+encodeURIComponent(n))},r=0,i=Object.entries(t);r<i.length;r++){var o=i[r];n(o[0],o[1])}return e.length?"&"+e.join("&"):""},e.querystringDecode=function(t){var e={};return t.replace(/^\?/,"").split("&").forEach((function(t){if(t){var n=t.split("=");e[n[0]]=n[1]}})),e},e.safeGet=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)?t[e]:void 0},e.stringLength=function(t){for(var e=0,n=0;n<t.length;n++){var r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,n++):e+=3}return e},e.stringToByteArray=function(t){for(var e=[],n=0,r=0;r<t.length;r++){var i=t.charCodeAt(r);if(i>=55296&&i<=56319){var s=i-55296;r++,o(r<t.length,"Surrogate pair missing trail surrogate."),i=65536+(s<<10)+(t.charCodeAt(r)-56320)}i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):i<65536?(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e},e.stringify=function(t){return JSON.stringify(t)},e.validateArgCount=function(t,e,n,r){var i;if(r<e?i="at least "+e:r>n&&(i=0===n?"none":"no more than "+n),i)throw new Error(t+" failed: Was called with "+r+(1===r?" argument.":" arguments.")+" Expects "+i+".")},e.validateCallback=function(t,e,n,r){if((!r||n)&&"function"!=typeof n)throw new Error(E(t,e,r)+"must be a valid function.")},e.validateContextObject=function(t,e,n,r){if((!r||n)&&("object"!=typeof n||null===n))throw new Error(E(t,e,r)+"must be a valid context object.")},e.validateNamespace=function(t,e,n,r){if((!r||n)&&"string"!=typeof n)throw new Error(E(t,e,r)+"must be a valid firebase namespace.")}},zn8P:function(t,e){function n(t){return Promise.resolve().then((function(){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}))}n.keys=function(){return[]},n.resolve=n,t.exports=n,n.id="zn8P"}},[[0,0]]]);